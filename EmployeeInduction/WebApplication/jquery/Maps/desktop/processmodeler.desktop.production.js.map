{"version":3,"sources":["jquery/workportal/js/desktop/widget/bizagi.workportal.desktop.widgets.processModeler.js"],"names":["bizagi","workportal","widgets","widget","extend","init","workportalFacade","dataService","params","this","_super","loadTemplates","processModelerWrapper","getTemplate","concat","useNewEngine","renderContent","self","template","content","$","tmpl","postRender","isAdhoc","data","$processModelerCanvas","modeler","bpmn","viewer","getDiagram","processId","idProcess","when","getAdhocProcessDiagram","done","diagram","render"],"mappings":"AAOAA,OAAOC,WAAWC,QAAQC,OAAOC,OAAO,+CACpCC,KAAM,SAAUC,EAAkBC,EAAaC,GAChCC,KAENC,OAAOJ,EAAkBC,EAAaC,GAFhCC,KAKNE,eACDC,sBAAyBZ,OAAOa,YAAY,oDAAoDC,OAAO,2DACvGC,cAAc,KAItBC,cAAe,WACX,IAAIC,EAAOR,KACPS,EAAWD,EAAKJ,YAAY,yBAEhC,OADAI,EAAKE,QAAUC,EAAEC,KAAKH,MACfD,EAAKE,SAGhBG,WAAY,WACR,IAAIL,EAAOR,KACPc,EAAUd,KAAKD,OAAOgB,KAAKD,QAC/BN,EAAKQ,sBAAwBL,EAAE,UAAWH,EAAKE,SAC/CF,EAAKS,QAAU,IAAI1B,OAAO2B,KAAKD,QAAQE,OAAQL,GAC/CN,EAAKY,cAETA,WAAW,WACP,IAAIZ,EAAOR,KACPqB,EAAYrB,KAAKD,OAAOgB,KAAKO,UAClCX,EAAEY,KAAKf,EAAKV,YAAY0B,uBAAuBH,IAAYI,KAAK,SAAUC,GAEtElB,EAAKS,QAAQU,OAAQnB,EAAKQ,sBAAuBU","sourcesContent":["/**\r\n * Name: BizAgi Desktop Widget Process Modeler View\r\n *\r\n * @author Diego Armando Monroy Barrera\r\n */\r\n\r\n\r\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.processmodeler\", {}, {\r\n    init: function (workportalFacade, dataService, params) {\r\n        var self = this;\r\n        // Call base\r\n        self._super(workportalFacade, dataService, params);\r\n\r\n        //Load templates\r\n        self.loadTemplates({\r\n            \"processModelerWrapper\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.processModeler\").concat(\"#ui-bizagi-workportal-widget-processmodelerview-wrapper\"),\r\n            useNewEngine: false\r\n        });\r\n    },\r\n\r\n    renderContent: function () {\r\n        var self = this;\r\n        var template = self.getTemplate(\"processModelerWrapper\");\r\n        self.content = $.tmpl(template, {});\r\n        return self.content;\r\n    },\r\n\r\n    postRender: function () {\r\n        var self = this;\r\n        var isAdhoc = this.params.data.isAdhoc;\r\n        self.$processModelerCanvas = $(\"#canvas\", self.content);\r\n        self.modeler = new bizagi.bpmn.modeler.viewer( isAdhoc );\r\n        self.getDiagram();\r\n    },\r\n    getDiagram:function(){\r\n        var self = this;\r\n        var processId = this.params.data.idProcess;\r\n       $.when(self.dataService.getAdhocProcessDiagram(processId)).done(function (diagram) {\r\n            //self.modeler.load( diagram );\r\n           self.modeler.render( self.$processModelerCanvas, diagram );\r\n       });\r\n    }\r\n});"]}