{"version":3,"sources":["jquery/common/base/js/lib/jquery.class.js","jquery/common/base/js/lib/jquery.tmpl.js","jquery/common/bizagi/js/services/bizagi.services.service.js","jquery/common/bizagi/js/services/bizagi.template.services.service.js","jquery/common/bizagi/js/bizagi.logging.js","jquery/common/bizagi/js/bizagi.l10n.js","jquery/common/bizagi/js/bizagi.util.js","jquery/tableau/js/bizagi.tableau.js","jquery/tableau/lib/tableauwdc-2.3.js"],"names":["$","regs","getNext","current","nextPart","add","isContainer","type","getObject","objectName","roots","ret","i","parts","split","length","currents","isArray","window","c","undefined","str","String","extend","capitalize","s","cache","charAt","toUpperCase","substr","camelize","classize","toLowerCase","join","niceName","underscore","replace","sub","data","remove","obs","push","whole","inside","ob","jQuery","initializing","makeArray","isFunction","concatArgs","arr","args","concat","fnTest","test","xyz","inheritProps","newProps","oldProps","addTo","name","fn","tmp","this","_super","apply","arguments","clss","Class","callback","funcs","self","shift","isString","func","cur","f","_set_called","called","_use_call","newInstance","inst","rawInstance","setup","init","baseClass","fullName","defaults","klass","proto","prototype","constructor","callee","hasOwnProperty","shortName","pop","namespace","appendToTmplItems","oldManip","domManip","tmplItmAtt","htmlExpr","newTmplItems","wrappedItems","topTmplItem","key","itemKey","cloneIndex","stack","newTmplItem","options","parentItem","newItem","_wrap","tmpl","parent","nodes","calls","tiCalls","nest","tiNest","wrap","tiWrap","html","tiHtml","update","tiUpdate","_ctnt","each","appendTo","prependTo","insertBefore","insertAfter","replaceAll","original","selector","elems","l","tmplItems","insert","parentNode","nodeType","childNodes","clone","get","pushStack","complete","tmplItem","template","table","dmArgs","argsLength","fragClone","afterManip","fasttmpl","fast","bizagi","chrono","start","result","stop","nestedExecution","cacheTmplItem","buildRet","topLevel","wrapped","updateWrapped","build","removeTmplItemCache","call","map","dataItem","elem","buildTmplFn","innerHTML","encode","text","tag","_default","$2","open","close","if","else","$1","=","!","items","content","storeTmplItems","removeData","nested","frag","item","all","before","middle","after","unencode","el","document","createElement","markup","code","trim","slash","fnargs","target","parens","def","expr","exprAutoFnDetect","unescape","indexOf","params","Function","m","keySuffix","newClonedItems","getElementsByTagName","processItemKey","pntKey","pntItem","pntNode","getAttribute","cloneTmplItem","removeAttribute","_","filter","textOnly","e","innerText","textContent","outerHTML","div","appendChild","cloneNode","coll","getServerResourceDictionary","proxyPrefix","bizagiConfig","BIZAGI_PROXY_PREFIX","culture","BIZAGI_LANGUAGE","language","ajax","url","loader","version","rpcEnabled","dataType","async","getResourceDictionary","customTemplateFile","getResource","detectDevice","cachedTemplates","customTemplates","localization","cssRegex","loadingFileDeferred","loadCustomTemplates","defer","Deferred","when","getTemplateFile","done","response","temp","responseParts","responsePart","attr","resolve","promise","getTemplate","isCustomTemplate","enableCustomizations","hash","getHash","environment","internalGetTemplate","pipe","resolvedTemplate","getTemplateForRelease","getTemplateWidget","templates","getTemplateWebpart","containsHash","getUrlWithoutHashes","processAndReturnTemplate","loadTemplateFileForRelease","ready","index","valueTemplate","translatedTemplate","reject","JSON","parse","translate","substring","cachedTemplate","getTemplatePart","templateUrl","loadingTemplatePartExecution","loadingTemplatePart","assert","matches","match","cssFile","loadFile","src","subTemplate","id","console","log","originalEmptyMethod","empty","element","hasClass","loadingMessage","fastEmpty","children","originalPrependMethod","prepend","tagName","find","triggerHandler","originalAppendMethod","append","eval","originalTmplMethod","component","detach","addClass","jquery","is","loading","adjustable","resource","control","files","for","actions","enableTrace","enableDebug","enableChrono","message","icon","doc","logContainer","device","util","bizagi_notifications","headerAdditionalClass","containerAdditionalClass","itemIcon","title","location","bind","ui","popup","contentViewer","height","width","dialog","modal","_icon","getIcon","condition","logError","debug","getLogInstance","timer","chronos","millis","timestamp","profile","running","Date","getTime","profiling","enableProfiler","time","timeStamp","initAndStart","diff","timeEnd","profileEnd","stopAndLog","logTimers","templateRegex","templateSubExpressionRegex","resourceLocationDefinition","service","services","dictionaries","dictionary","readyDeferred","BIZAGI_ENABLE_CUSTOMIZATIONS","defaultDatetimeInfo","BIZAGI_DEFAULT_DATETIME_INFO","setLanguage","_getDictionary","shortDateFormat","overrideSpecificResource","timeFormat","dictionaryService","BIZAGI_LOCAL_RESOURCES","overrides","overrideResources","loadLanguageExtension","loadLanguage","getLanguageFromCulture","fail","status","errorMessage","alert","resolvei18n","localizationObject","i18n","languages","defaultValue","setResource","value","getMessageFromLocalization","messageStatus","messageType","isFromServer","nextToken","exec","enclosedValue","subExpressionToken","languageOverrides","_getUserLanguage","resourceOverride","userLanguage","responseJSON","statusText","userLanguageParts","context","smartphone","tablet","DEVICES","printf","msg","arg","Array","slice","a","val","charCodeAt","Math","round","bizagiQueue","queue","callbacks","addParallel","execute","starter","queueLength","deferred","deviceEnum","callInside","fx","contentWindow","browser","msie","execScript","toString","webkit","mozilla","callInsidePopup","CSSStyleDeclaration","getPropertyValue","setProperty","styleName","priority","setAttribute","rule","RegExp","escape","cssText","removeProperty","getPropertyPriority","style","nl2br","br2nl","controlValueIsChanged","properties","getValue","compareValue","originalValue","forceCollectData","state","includes","parseBoolean","getMaxZindex","elm","maxZindex","zindex","parseInt","css","equalizeHeights","heights","outerHeight","max","autoSave","deferredSave","trigger","_data","anonymizedUserInformation","username","email","domain","picture","isAnonymized","datepickerResource","closeText","prevText","nextText","currentText","monthNames","monthNamesShort","dayNames","dayNamesShort","dayNamesMin","weekHeader","dateFormat","firstDay","isRTL","showMonthAfterYear","yearSuffix","liveProcessesEvents","newLiveProcess","createEvent","initEvent","routeEvents","route","saveEvent","lastWidget","nextWidget","liveSave","widgetName","deferredLiveSave","indeX","href","workportal","widgets","widget","BIZAGI_WORKPORTAL_WIDGET_PROFLY","saveLivePromise","dispatchEvent","md5","CryptoJS","p","lib","n","r","Base","b","h","mixIn","$super","create","q","WordArray","words","sigBytes","t","stringify","j","clamp","g","ceil","random","v","enc","Hex","k","Latin1","fromCharCode","u","Utf8","decodeURIComponent","Error","encodeURIComponent","BufferedBlockAlgorithm","reset","_nDataBytes","_append","_process","blockSize","_minBufferSize","min","_doProcessBlock","splice","Hasher","cfg","_doReset","finalize","_doFinalize","_createHelper","_createHmacHelper","HMAC","algo","abs","sin","MD5","_hash","w","x","y","z","A","B","C","D","d","floor","HmacMD5","multiReplace","mapDataToReplace","reg","pcFrom","pcTo","replaceAllGlobalRegExp","re","startsWith","getInitials","initials","sign","isNaN","obj","measureString","string","fontSize","endsWith","suffix","isIE7","isIE","documentMode","isIE8","isIE9","isIE10","isIE11","navigator","userAgent","isIE11OrLower","isIE10OrLower","isEdge","appName","getIEVersion","sAgent","indexMSIE","isChrome","vendor","isFirefox","minVersion","ua","M","tem","appVersion","getBrowser","bw","emptyNavigatorInfo","info","setIphoneXOverrides","isNativePluginSupported","bizagiapp","isIphoneX","isiOSDevice","Object","isObject","isNull","isBoolean","getInternetExplorerVersion","Number","isNumeric","parseFloat","isFinite","isGUID","mustImplement","notImplementedMethod","exe","encodeXpath","xpath","isEmpty","isEmptyObject","isEmptyCombo","object","property","other","decodeURI","infinityControl","finishDecoded","decodedValue","hasNonVisibleChars","ch","percent2Number","isObjectEmpty","isMapEmpty","replaceSelector","container","elementToReplace","unwrap","hasScroll","direction","identicalObjects","obj1","obj2","countProps","count","isScrolledIntoView","layout","scrollTop","elemTop","offset","top","centerElementIntoScroll","actualScroll","elementTop","elementHeight","newTop","encodeHtml","decodeHtmlEntities","getHashParams","then","initWebpart","webpart","initialized","loadingDeferred","getQueryString","pairs","pos","argname","extendQueryString","additionalParams","plainUrl","existingParams","newParams","param","getStackTrace","callstack","isCallstackPopulated","dont","exist","lines","len","opera","entry","currentFunction","caller","fname","highLightElement","setTimeout","removeClass","autoScrollBottom","elScrollHeight","scrollHeight","autoScrollInterval","autoScroll","itemScroll","limitTop","limitBottom","idInterval","outSide","clearInterval","mousemove","event","pageY","autoScrollTopInterval","autoScrollBottomInterval","classCSS","setInterval","valueMaxScrollBottom","innerHeight","removeAutoScroll","unbind","getMaxZIndex","zIndex","showPopup","callbackFn","left","newWindow","BAPopupWindow","BAPopupCallback","BACloseWindow","controls","submitForm","showQuirksModePopup","quirksModePage","BIZAGI_PATH_TO_BASE","BAQuirksPopupWindow","windowParams","popupWindow","quirksOnLoad","loadedBody","iframe","show","afterLoad","userParams","callbackParams","loadingFunction","body","resolveResult","createPopup","popupName","onClose","popupTitle","overlay","closeButton","popupContent","hide","additionalClass","center","closeHandler","click","fullPopup","createOkCancelPopup","onOk","onCancel","buttonsContainer","buttonOk","buttonCancel","okHandler","cancelHandler","ok","cancel","buttons","closeQuirksModePopup","quirksPopup","getStyle","pathName","getFontFace","getAllChildrens","matchStyles","stringCss","awesomeBrowser","file","styleSheets","rules","cssRules","BIZAGI_ENVIRONMENT","cssTextOriginal","selectorText","lastLevel","styleSheet","suckBrowser","cookie","expires","days","setDate","getDate","raw","toUTCString","path","secure","decode","randomNumber","setContext","reloadCSS","queryString","_name","_call","_params","_singleton","singleton","_timeOut","timeout","_maxIterations","iterations","_context","_killWhenExitContext","killWhenExitContext","timeOut","maxIterations","itsRunning","timeInit","executeTimeOut","now","actualIterations","ieFunction","clearTimeout","pointer","timeOutRunning","isDate","dateField","timeField","resultDate","hasTime","resultTime","arrayDate","unicode2htmlencode","input","htmlHex","getHeadElement","hd","docEl","documentElement","firstChild","loadStyle","styleText","layoutGuid","node","getElementById","createTextNode","nodeValue","replaceChild","loadIconStyle","userfieldname","formatDecimalAndMoneyCell","tableData","externalMoneyFormat","moneyFormat","decimalFormat","externalDecimalFormat","decimalSymbol","decimalSeparator","digitGroupSymbol","groupSeparator","roundToDecimalPlace","decimalDigits","symbol","colorize","groupDigits","negativeFormat","positiveFormat","columnTitle","rows","fields","formatMoney","numberValue","formatDecimal","override","removeTrailingZeros","positive","BIZAGI_DEFAULT_CURRENCY_INFO","formatBoolean","formatInvariantBoolean","htmlContent","not","$element","format","formatCurrency","formatMonetaryCells","tmpResult","intSection","decimalSection","decimalResult","isNegative","decimalDigitPosition","fixDecimalDigits","getOnlyNumbersByString","stringValue","toFixed","formatInvariantMoney","defaultFormat","allowDecimals","formatInvariantNumber","numberFormat","thousands","containsLetter","NaN","formatNumber","percentage","formatInvariantDate","dateTimeFormat","isValidDate","getFormatDate","formatDate","dateFormatter","formatDateFromInvariantStringDate","stringInvariantDate","dateValue","defaultFormatDate","H","getHours","getMinutes","getSeconds","ms","getMilliseconds","formatValueByDataType","replaceLineBreak","formatMonetaryCell","formatDecimalCell","parseDate","valueOf","LZ","getDateFromFormat","getRelativeTime","date","onlyUnitsTime","kendo","timeDiff","getTimeDiffDescription","unit","timeDivisor","unitAmount","resourceAgo","compareDates","date1","dateformat1","date2","dateformat2","d1","d2","getDifferenceBetweenDates","token","i_format","getFullYear","getMonth","E","getDay","isValidResource","months","i_val","year","getYear","month","hh","mm","ss","ampm","_getInt","month_name","day_name","ff","_isInteger","_val","minlength","maxlength","_token","preferEuro","generalFormats","monthFirst","dateFirst","checkList","analyzeTimeFormat","returnObj","show24Hours","showSeconds","separator","lastToken","getDateFromInvariant","showTime","INVARIANT_FORMAT","setHours","formatInvariant","getDateFromISO","ISO_FORMAT","formatISO","formatISO8601","dateObject","restartTimeToMidnight","isFormatISO8601","stringDate","sleep","delay","getDateFormatByDatePickerJqueryUI","browserSupportLocalStorage","setItemLocalStorage","localStorage","setItem","getItemLocalStorage","getItem","removeItemLocalStorage","removeItem","clearLocalStorage","clear","showConsoleLog","startLoading","stopLoading","elementToapply","isEventSupported","eventName","isSupported","needsFallback","circularDependencies","list","lastNodeAdded","addNode","OBJ","foundObjChildNode","_search","_addNode","nodeObj","addChild","resolved","seen","_getFirstNodeWithChilds","_resolve","childs","hasObject","error","dependencyFrom","dependencyFromObj","dependencyTo","dependencyToObj","standardError","responseText","makeErrorMessage","multiactionError","toSearch","collection","cssExtended","instance","cssToAdd","cssExtendedApplyChanges","option","$this","attrToAdd","tmpStyle","arrProperties","resultProperties","cssProperty","canvas","sortJSON","way","sort","shortNumber","number","newNumber","lenghtNumber","escapeHtml","showNotification","div_sync","fadeIn","fadeOut","isModeOnline","isOfflineForm","dispose","arrayEach","array","getStandardNotation","decimalNumber","exponentialNumber","scientificNotationFormat","sdLimit","expMinLimit","expMaxLimit","sNregex","sNFormat","exp","prefix","originalPointIndex","tempParts","significantDigits","intPart","from","to","significantFlag","firstDigit","restDigits","stripslashes","isHTMLValidText","resetData","sessionStorage","isAuthenticate","changeData","isMobileDevice","isTabletDevice","isAndroidTabletDevice","isiOSTabletDevice","isSmartphoneDevice","isAndroidSmartphoneDevice","isiOSSmartphoneDevice","formContainer","getFormContainer","formParams","getParams","detectAndroidVersion","indexAndroid","androidVersion","getPathUrl","solvedUrl","locationParts","pathname","basePath","protocol","host","pathToBaseBackwards","getAndroidVersion","mobileImagePath","image","dataImage","photoSplit","b64toBlob","b64Data","contentType","sliceSize","byteCharacters","atob","byteArrays","byteNumbers","byteArray","Uint8Array","Blob","stringToByteArray","hasOfflineFormsEnabled","BIZAGI_ENABLE_OFFLINE_FORMS","isFlatDesignEnabled","BIZAGI_ENABLE_FLAT","isMobileGridEnabled","BIZAGI_ENABLE_MOBILE_GRID","isNativeHeaderEnabled","NATIVE_HEADER_ENABLE","isQuickSearchEnabled","BIZAGI_ENABLE_QUICK_SEARCH","isOAuth2Enabled","BIZAGI_AUTH_TYPE","getNativeComponent","BIZAGI_NATIVE_COMPONENT","isVersionSupported","supported","BIZAGI_SERVER_VERSION","isCordovaSupported","isTabletNativeSupported","isSmartphoneNativeSupported","cordova","plugins","Keyboard","hideKeyboardAccessoryBar","detectRealDevice","settedDevice","BIZAGI_DEFAULT_DEVICE","isAndroid","isAndroidDevice","getChannelType","BIZAGI_SERVER_CHANNEL","channel","isDataUrl","getDataUrl","currentUrl","tempUrl","processFailMessage","tmp_block_header","disableWorkPortalMenu","blockHeight","position","background","opacity","z-index","enableWorkPortalMenu","downloadFile","completeuRL","ulrToDownload","arrayURL","executeActionRoutingFromWorkportal","idCase","idWorkItem","controllers","menu","publish","action","BIZAGI_WORKPORTAL_ACTION_ROUTING","getMessageFromNetworkState","sanitizeHTML","arrayUnique","debounce","wait","immediate","callNow","isNativeImageEditorSupported","enableImageEditor","validateUrlWellFormed","decodedDisplayValue","valueToDisplay","setCaretPosition","ctrl","setSelectionRange","focus","createTextRange","range","collapse","moveEnd","moveStart","select","getCaretPosition","oField","iCaretPos","selection","oSel","createRange","selectionStart","escapeRegex","getFeatureObject","featureObjectCache","features","getConfigFeatures","pivot","getFeatureObjectIte","bizagiConfiguration","BIZAGI_MOBILE_FEATURES","resetConfigFeatures","isFailResponse","formatItem","highlightMatches","term","parseValue","regEx","getDesktopResolution","resolution","devicePixelRatio","screenWidth","screen","screenHeight","deviceXDPI","logicalXDPI","getDeviceCode","BIZAGI_DEVICE_MARKET_NAME","normalizeType","hideOrShowXToCloseDialog","isEnableFeature","feature","parents","ps","prop","getComputedStyle","scroll","scrollerParent","HTMLElement","SVGElement","scrollingElement","startkendo","kendoMobileApplication","mobile","Application","skin","browserHistory","progress","started","bizagiNavigate","navigate","isSharepointContext","BIZAGI_SHAREPOINT_CONTEXT","isEmptyValue","TableauController","applicationUrl","_globalsTableau","GlobalsTableau","_uiTableau","UITableau","_bizagiTableau","BizagiTableau","resourceDefinitionLocation","es","en","default","l10n","templateService","renderTmpl","buildConnector","globalsTableau","loadTreeView","nextFn","fromBack","change","fileReader","FileReader","onload","evt","contentJson","configuration","keys","_validateStructConfiguration","display","_loadConfiguration","exception","getElementsByClassName","readAsText","uploadFileEl","tableauTreeEl","entities","disableBtn","entityNodeEl","entity","divCheckboxEl","_createTreeCheckbox","className","_createExpandButton","attribs","childNodesEl","containerDivEl","_loadChildNodes","btnId","disabled","whiteLogo","blackLogo","loadEntityProcessTable","backFn","tbodyEl","entityIndexes","processByEntity","rowEl","firstColumnEl","secondColumnEl","_createSelectEl","entityIndex","selectEl","processId","onchange","processesRelated","optionEl","displayName","nodeEl","attrib","checkboxId","leaf","xpaths","isProcessEntity","attribName","checkboxChildId","childNodesRelEl","nodeRelEl","labelText","root","inputCheckboxEl","labelCheckboxEl","onclick","inputCheckEL","childrenContainerEl","parentElement","rootElementId","rootIndex","parentElementId","splittedId","elementId","selectedEntities","parentEl","uncheckParent","rootEl","_updateParentElements","buttonEl","entityName","processes","rootId","rootCheckboxEl","oldEntityIndexes","checkboxEl","loadResumeConfiguration","submitFn","backToTree","resumeStep","tmpConfiguration","selectNode","getSelection","removeAllRanges","addRange","showFailedConnectionMessage","uiTableau","_bizagiConnector","_applicationUrl","_utilsTableau","UtilsTableau","connect","clientId","clientSecret","setConnectionDataProp","setAuthData","_getAccessToken","_getEntities","_next","showNextStep","queryByProcess","processByEntityKeys","_submit","validAttribs","tableau","submit","_getSchema","schemaCallback","entitiesMap","getConnectionData","entitiesList","tables","tableId","_parseString","alias","columns","_generateColumns","attributes","tableCols","dataTypeEnum","_getDataCallback","doneCallback","retries","dataConnector","tableInfo","baseUrl","globals","bodyRequest","queryParameter","dataRows","mainDeferred","_getData","ITEMS_PAGE","totalRecords","numPages","currentPages","calculateNumOfPages","doneFn","appendRows","page","_getDataWrapper","err","_retry","requestObj","authData","getAuthData","beforeSend","request","setRequestHeader","accessToken","success","record","colId","attributeName","reportProgress","btoa","access_token","abortForAuth","abortWithError","makeConnector","getSchema","getData","initCallback","phase","connectionData","password","registerConnector","tableauVersionBootstrap","_tableau","triggerInitialization","DOMContentLoaded_event","ex","section","restart","pages","o","exports","loaded","addApprovedOrigin","set","getApprovedOrigins","phaseEnum","interactivePhase","authPhase","gatherDataPhase","authPurposeEnum","ephemeral","enduring","authTypeEnum","none","basic","custom","bool","datetime","float","int","geometry","columnRoleEnum","dimension","measure","columnTypeEnum","continuous","discrete","aggTypeEnum","sum","avg","median","countd","geographicRoleEnum","area_code","cbsa_msa","city","congressional_district","country_region","county","state_province","zip_code_postcode","latitude","longitude","unitsFormatEnum","millions","billions_english","billions_standard","numberFormatEnum","currency","scientific","localeEnum","america","brazil","china","france","germany","japan","korea","spain","joinEnum","inner","nativeApiRootObj","_initPublicInterface","_initPrivateInterface","_submitCalled","_abortForAuth","_abortWithError","addCrossOriginException","_addCrossOriginException","_log","_reportProgress","publicInterface","WDCBridge_Api_abortForAuth","api","WDCBridge_Api_abortWithError","WDCBridge_Api_addCrossOriginException","WDCBridge_Api_log","WDCBridge_Api_submit","_initCallbackCalled","_shutdownCallbackCalled","_initCallback","_shutdownCallback","_schemaCallback","_tableDataCallback","_dataDoneCallback","privateInterface","WDCBridge_Api_initCallback","WDCBridge_Api_shutdownCallback","WDCBridge_Api_schemaCallbackEx","WDCBridge_Api_schemaCallback","WDCBridge_Api_tableDataCallback","WDCBridge_Api_reportProgress","WDCBridge_Api_dataDoneCallback","privateApiObj","globalObj","_hasAlreadyThrownErrorSoDontThrowAgain","changeTableauApiObj","onerror","_errorHandler","_initTriggerFunctions","_initDeprecatedFunctions","tableauApiObj","_makeConnector","_registerConnector","shutdown","_wdc","_triggerInitialization","triggerSchemaGathering","_triggerSchemaGathering","triggerDataGathering","_triggerDataGathering","triggerShutdown","_triggerShutdown","filterColumnId","incrementValue","filterValues","headersCallback","_headersCallback","dataCallback","_dataCallback","shutdownCallback","_initMessageHandling","addEventListener","_receiveMessage","_onDomContentLoaded","postMessage","_buildMessagePayload","opener","warn","_packagePropertyValues","connectionName","usernameAlias","incrementalExtractColumn","versionNumber","locale","authPurpose","platformOS","platformVersion","platformEdition","platformBuildNumber","_applyPropertyValues","msgName","msgData","props","_sendMessage","messageHandlers","wdcHandler","_sourceWindow","_sourceOrigin","_getPayloadObj","_getWebSecurityWarningConfirm","_getLocalizedString","confirm","_getCurrentLocale","de","fr","ja","ko","pt","zh","source","origin","tablesAndIncrementValues","errorMsg","addCrossOriginExceptionCompleted","logMsg","progressMsg","schema","standardConnections","tableName","isJoinFiltered","_dataCallbackFn","_appendRows","copyFunctions","linkObjectProperties","forEach","defineProperty","enumerable","configurable","tableauProperties","TypeError","writable","_document","_cacheKeyPrefix","_maxExpireDate","_cachedDocumentCookie","_renewCache","_cache","_getExtendedOptions","_getExpiresDate","_generateCookieString","expire","_isValidDate","_getCacheFromString","_getKeyValuePairFromCookieString","_areEnabled","enabled","webSecurityWarning","pluses","query_separator","uriParts","uri_parser","queryPairs","query","hasAuthorityPrefixUserPref","starts_with_slashes","ends_with_slashes","hasAuthorityPrefix","isColonUri","getQueryParamValue","getQueryParamValues","deleteQueryParam","addQueryParam","hasQueryParam","replaceQueryParam","scheme","userInfo","port","addTrailingSlash","anchor","__objectSignals__","connectToSignal","__id__","signal","disconnect","disconnectFromSignal","objects","__propertyCache__","unwrapQObject","destroyed","unwrapProperties","propertyUpdate","signalEmitted","methods","invokeMethod","method","signals","enums","idle","QWebChannel","send","transport","onmessage","handleSignal","handleResponse","handlePropertyUpdate","execCallbacks","execId","MAX_VALUE","MIN_VALUE","ReportVersionNumber","qt","webChannelTransport","_nativeSetupCompleted"],"mappings":"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","sourcesContent":["(function( $ ) {\r\n\t// Several of the methods in this plugin use code adapated from Prototype\r\n\t//  Prototype JavaScript framework, version 1.6.0.1\r\n\t//  (c) 2005-2007 Sam Stephenson\r\n\tvar regs = {\r\n\t\tundHash: /_|-/,\r\n\t\tcolons: /::/,\r\n\t\twords: /([A-Z]+)([A-Z][a-z])/g,\r\n\t\tlowUp: /([a-z\\d])([A-Z])/g,\r\n\t\tdash: /([a-z\\d])([A-Z])/g,\r\n\t\treplacer: /\\{([^\\}]+)\\}/g,\r\n\t\tdot: /\\./\r\n\t},\r\n\t\tgetNext = function(current, nextPart, add){\r\n\t\t\treturn current[nextPart] || ( add && (current[nextPart] = {}) );\r\n\t\t},\r\n\t\tisContainer = function(current){\r\n\t\t\tvar type = typeof current;\r\n\t\t\treturn type && (  type == 'function' || type == 'object' );\r\n\t\t},\r\n\t\tgetObject = function( objectName, roots, add ) {\r\n\t\t\t\r\n\t\t\tvar parts = objectName ? objectName.split(regs.dot) : [],\r\n\t\t\t\tlength =  parts.length,\r\n\t\t\t\tcurrents = $.isArray(roots) ? roots : [roots || window],\r\n\t\t\t\tcurrent,\r\n\t\t\t\tret, \r\n\t\t\t\ti,\r\n\t\t\t\tc = 0,\r\n\t\t\t\ttype;\r\n\t\t\t\r\n\t\t\tif(length == 0){\r\n\t\t\t\treturn currents[0];\r\n\t\t\t}\r\n\t\t\twhile(current = currents[c++]){\r\n\t\t\t\tfor (i =0; i < length - 1 && isContainer(current); i++ ) {\r\n\t\t\t\t\tcurrent = getNext(current, parts[i], add);\r\n\t\t\t\t}\r\n\t\t\t\tif( isContainer(current) ) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tret = getNext(current, parts[i], add); \r\n\t\t\t\t\t\r\n\t\t\t\t\tif( ret !== undefined ) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( add === false ) {\r\n\t\t\t\t\t\t\tdelete current[parts[i]];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn ret;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/** \r\n\t\t * @class jQuery.String\r\n\t\t * \r\n\t\t * A collection of useful string helpers.\r\n\t\t * \r\n\t\t */\r\n\t\tstr = $.String = $.extend( $.String || {} , {\r\n\t\t\t/**\r\n\t\t\t * @function\r\n\t\t\t * Gets an object from a string.\r\n\t\t\t * @param {String} name the name of the object to look for\r\n\t\t\t * @param {Array} [roots] an array of root objects to look for the name\r\n\t\t\t * @param {Boolean} [add] true to add missing objects to \r\n\t\t\t *  the path. false to remove found properties. undefined to \r\n\t\t\t *  not modify the root object\r\n\t\t\t */\r\n\t\t\tgetObject : getObject,\r\n\t\t\t/**\r\n\t\t\t * Capitalizes a string\r\n\t\t\t * @param {String} s the string.\r\n\t\t\t * @return {String} a string with the first character capitalized.\r\n\t\t\t */\r\n\t\t\tcapitalize: function( s, cache ) {\r\n\t\t\t\treturn s.charAt(0).toUpperCase() + s.substr(1);\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Capitalizes a string from something undercored. Examples:\r\n\t\t\t * @codestart\r\n\t\t\t * jQuery.String.camelize(\"one_two\") //-> \"oneTwo\"\r\n\t\t\t * \"three-four\".camelize() //-> threeFour\r\n\t\t\t * @codeend\r\n\t\t\t * @param {String} s\r\n\t\t\t * @return {String} a the camelized string\r\n\t\t\t */\r\n\t\t\tcamelize: function( s ) {\r\n\t\t\t\ts = str.classize(s);\r\n\t\t\t\treturn s.charAt(0).toLowerCase() + s.substr(1);\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Like camelize, but the first part is also capitalized\r\n\t\t\t * @param {String} s\r\n\t\t\t * @return {String} the classized string\r\n\t\t\t */\r\n\t\t\tclassize: function( s , join) {\r\n\t\t\t\tvar parts = s.split(regs.undHash),\r\n\t\t\t\t\ti = 0;\r\n\t\t\t\tfor (; i < parts.length; i++ ) {\r\n\t\t\t\t\tparts[i] = str.capitalize(parts[i]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn parts.join(join || '');\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Like [jQuery.String.classize|classize], but a space separates each 'word'\r\n\t\t\t * @codestart\r\n\t\t\t * jQuery.String.niceName(\"one_two\") //-> \"One Two\"\r\n\t\t\t * @codeend\r\n\t\t\t * @param {String} s\r\n\t\t\t * @return {String} the niceName\r\n\t\t\t */\r\n\t\t\tniceName: function( s ) {\r\n\t\t\t\tstr.classize(parts[i],' ');\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Underscores a string.\r\n\t\t\t * @codestart\r\n\t\t\t * jQuery.String.underscore(\"OneTwo\") //-> \"one_two\"\r\n\t\t\t * @codeend\r\n\t\t\t * @param {String} s\r\n\t\t\t * @return {String} the underscored string\r\n\t\t\t */\r\n\t\t\tunderscore: function( s ) {\r\n\t\t\t\treturn s.replace(regs.colons, '/').replace(regs.words, '$1_$2').replace(regs.lowUp, '$1_$2').replace(regs.dash, '_').toLowerCase();\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Returns a string with {param} replaced values from data.\r\n\t\t\t * \r\n\t\t\t *     $.String.sub(\"foo {bar}\",{bar: \"far\"})\r\n\t\t\t *     //-> \"foo far\"\r\n\t\t\t *     \r\n\t\t\t * @param {String} s The string to replace\r\n\t\t\t * @param {Object} data The data to be used to look for properties.  If it's an array, multiple\r\n\t\t\t * objects can be used.\r\n\t\t\t * @param {Boolean} [remove] if a match is found, remove the property from the object\r\n\t\t\t */\r\n\t\t\tsub: function( s, data, remove ) {\r\n\t\t\t\tvar obs = [];\r\n\t\t\t\tobs.push(s.replace(regs.replacer, function( whole, inside ) {\r\n\t\t\t\t\t//convert inside to type\r\n\t\t\t\t\tvar ob = getObject(inside, data, typeof remove == 'boolean' ? !remove : remove),\r\n\t\t\t\t\t\ttype = typeof ob;\r\n\t\t\t\t\tif((type === 'object' || type === 'function') && type !== null){\r\n\t\t\t\t\t\tobs.push(ob);\r\n\t\t\t\t\t\treturn \"\";\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn \"\"+ob;\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\t\t\t\treturn obs.length <= 1 ? obs[0] : obs;\r\n\t\t\t}\r\n\t\t});\r\n\r\n})(jQuery);\r\n(function( $ ) {\r\n\r\n\t// if we are initializing a new class\r\n\tvar initializing = false,\r\n\t\tmakeArray = $.makeArray,\r\n\t\tisFunction = $.isFunction,\r\n\t\tisArray = $.isArray,\r\n\t\textend = $.extend,\r\n\t\tconcatArgs = function(arr, args){\r\n\t\t\treturn arr.concat(makeArray(args));\r\n\t\t},\r\n\t\t// tests if we can get super in .toString()\r\n\t\tfnTest = /xyz/.test(function() {\r\n\t\t\txyz;\r\n\t\t}) ? /\\b_super\\b/ : /.*/,\r\n\t\t// overwrites an object with methods, sets up _super\r\n\t\t// newProps - new properties\r\n\t\t// oldProps - where the old properties might be\r\n\t\t// addTo - what we are adding to\r\n\t\tinheritProps = function( newProps, oldProps, addTo ) {\r\n\t\t\taddTo = addTo || newProps\r\n\t\t\tfor ( var name in newProps ) {\r\n\t\t\t\t// Check if we're overwriting an existing function\r\n\t\t\t\taddTo[name] = isFunction(newProps[name]) && \r\n\t\t\t\t\t\t\t  isFunction(oldProps[name]) && \r\n\t\t\t\t\t\t\t  fnTest.test(newProps[name]) ? (function( name, fn ) {\r\n\t\t\t\t\treturn function() {\r\n\t\t\t\t\t\tvar tmp = this._super,\r\n\t\t\t\t\t\t\tret;\r\n\r\n\t\t\t\t\t\t// Add a new ._super() method that is the same method\r\n\t\t\t\t\t\t// but on the super-class\r\n\t\t\t\t\t\tthis._super = oldProps[name];\r\n\r\n\t\t\t\t\t\t// The method only need to be bound temporarily, so we\r\n\t\t\t\t\t\t// remove it when we're done executing\r\n\t\t\t\t\t\tret = fn.apply(this, arguments);\r\n\t\t\t\t\t\tthis._super = tmp;\r\n\t\t\t\t\t\treturn ret;\r\n\t\t\t\t\t};\r\n\t\t\t\t})(name, newProps[name]) : newProps[name];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\t/**\r\n\t * @class jQuery.Class\r\n\t * @plugin jquery/class\r\n\t * @tag core\r\n\t * @download dist/jquery/jquery.class.js\r\n\t * @test jquery/class/qunit.html\r\n\t * \r\n\t * Class provides simulated inheritance in JavaScript. Use clss to bridge the gap between\r\n\t * jQuery's functional programming style and Object Oriented Programming. It \r\n\t * is based off John Resig's [http://ejohn.org/blog/simple-javascript-inheritance/|Simple Class]\r\n\t * Inheritance library.  Besides prototypal inheritance, it includes a few important features:\r\n\t * \r\n\t *   - Static inheritance\r\n\t *   - Introspection\r\n\t *   - Namespaces\r\n\t *   - Setup and initialization methods\r\n\t *   - Easy callback function creation\r\n\t * \r\n\t * \r\n\t * ## Static v. Prototype\r\n\t * \r\n\t * Before learning about Class, it's important to\r\n\t * understand the difference between\r\n\t * a class's __static__ and __prototype__ properties.\r\n\t * \r\n\t *     //STATIC\r\n\t *     MyClass.staticProperty  //shared property\r\n\t *     \r\n\t *     //PROTOTYPE\r\n\t *     myclass = new MyClass()\r\n\t *     myclass.prototypeMethod() //instance method\r\n\t * \r\n\t * A static (or class) property is on the Class constructor\r\n\t * function itself\r\n\t * and can be thought of being shared by all instances of the \r\n\t * Class. Prototype propertes are available only on instances of the Class.\r\n\t * \r\n\t * ## A Basic Class\r\n\t * \r\n\t * The following creates a Monster class with a\r\n\t * name (for introspection), static, and prototype members.\r\n\t * Every time a monster instance is created, the static\r\n\t * count is incremented.\r\n\t *\r\n\t * @codestart\r\n\t * $.Class.extend('Monster',\r\n\t * /* @static *|\r\n\t * {\r\n\t *   count: 0\r\n\t * },\r\n\t * /* @prototype *|\r\n\t * {\r\n\t *   init: function( name ) {\r\n\t *\r\n\t *     // saves name on the monster instance\r\n\t *     this.name = name;\r\n\t *\r\n\t *     // sets the health\r\n\t *     this.health = 10;\r\n\t *\r\n\t *     // increments count\r\n\t *     this.Class.count++;\r\n\t *   },\r\n\t *   eat: function( smallChildren ){\r\n\t *     this.health += smallChildren;\r\n\t *   },\r\n\t *   fight: function() {\r\n\t *     this.health -= 2;\r\n\t *   }\r\n\t * });\r\n\t *\r\n\t * hydra = new Monster('hydra');\r\n\t *\r\n\t * dragon = new Monster('dragon');\r\n\t *\r\n\t * hydra.name        // -> hydra\r\n\t * Monster.count     // -> 2\r\n\t * Monster.shortName // -> 'Monster'\r\n\t *\r\n\t * hydra.eat(2);     // health = 12\r\n\t *\r\n\t * dragon.fight();   // health = 8\r\n\t *\r\n\t * @codeend\r\n\t *\r\n\t * \r\n\t * Notice that the prototype <b>init</b> function is called when a new instance of Monster is created.\r\n\t * \r\n\t * \r\n\t * ## Inheritance\r\n\t * \r\n\t * When a class is extended, all static and prototype properties are available on the new class.\r\n\t * If you overwrite a function, you can call the base class's function by calling\r\n\t * <code>this._super</code>.  Lets create a SeaMonster class.  SeaMonsters are less\r\n\t * efficient at eating small children, but more powerful fighters.\r\n\t * \r\n\t * \r\n\t *     Monster.extend(\"SeaMonster\",{\r\n\t *       eat: function( smallChildren ) {\r\n\t *         this._super(smallChildren / 2);\r\n\t *       },\r\n\t *       fight: function() {\r\n\t *         this.health -= 1;\r\n\t *       }\r\n\t *     });\r\n\t *     \r\n\t *     lockNess = new SeaMonster('Lock Ness');\r\n\t *     lockNess.eat(4);   //health = 12\r\n\t *     lockNess.fight();  //health = 11\r\n\t * \r\n\t * ### Static property inheritance\r\n\t * \r\n\t * You can also inherit static properties in the same way:\r\n\t * \r\n\t *     $.Class.extend(\"First\",\r\n\t *     {\r\n\t *         staticMethod: function() { return 1;}\r\n\t *     },{})\r\n\t *\r\n\t *     First.extend(\"Second\",{\r\n\t *         staticMethod: function() { return this._super()+1;}\r\n\t *     },{})\r\n\t *\r\n\t *     Second.staticMethod() // -> 2\r\n\t * \r\n\t * ## Namespaces\r\n\t * \r\n\t * Namespaces are a good idea! We encourage you to namespace all of your code.\r\n\t * It makes it possible to drop your code into another app without problems.\r\n\t * Making a namespaced class is easy:\r\n\t * \r\n\t * @codestart\r\n\t * $.Class.extend(\"MyNamespace.MyClass\",{},{});\r\n\t *\r\n\t * new MyNamespace.MyClass()\r\n\t * @codeend\r\n\t * <h2 id='introspection'>Introspection</h2>\r\n\t * Often, it's nice to create classes whose name helps determine functionality.  Ruby on\r\n\t * Rails's [http://api.rubyonrails.org/classes/ActiveRecord/Base.html|ActiveRecord] ORM class\r\n\t * is a great example of this.  Unfortunately, JavaScript doesn't have a way of determining\r\n\t * an object's name, so the developer must provide a name.  Class fixes this by taking a String name for the class.\r\n\t * @codestart\r\n\t * $.Class.extend(\"MyOrg.MyClass\",{},{})\r\n\t * MyOrg.MyClass.shortName //-> 'MyClass'\r\n\t * MyOrg.MyClass.fullName //->  'MyOrg.MyClass'\r\n\t * @codeend\r\n\t * The fullName (with namespaces) and the shortName (without namespaces) are added to the Class's\r\n\t * static properties.\r\n\t *\r\n\t *\r\n\t * <h2>Setup and initialization methods</h2>\r\n\t * <p>\r\n\t * Class provides static and prototype initialization functions.\r\n\t * These come in two flavors - setup and init.\r\n\t * Setup is called before init and\r\n\t * can be used to 'normalize' init's arguments.\r\n\t * </p>\r\n\t * <div class='whisper'>PRO TIP: Typically, you don't need setup methods in your classes. Use Init instead.\r\n\t * Reserve setup methods for when you need to do complex pre-processing of your class before init is called.\r\n\t *\r\n\t * </div>\r\n\t * @codestart\r\n\t * $.Class.extend(\"MyClass\",\r\n\t * {\r\n\t *   setup: function() {} //static setup\r\n\t *   init: function() {} //static constructor\r\n\t * },\r\n\t * {\r\n\t *   setup: function() {} //prototype setup\r\n\t *   init: function() {} //prototype constructor\r\n\t * })\r\n\t * @codeend\r\n\t *\r\n\t * <h3>Setup</h3>\r\n\t * <p>Setup functions are called before init functions.  Static setup functions are passed\r\n\t * the base class followed by arguments passed to the extend function.\r\n\t * Prototype static functions are passed the Class constructor function arguments.</p>\r\n\t * <p>If a setup function returns an array, that array will be used as the arguments\r\n\t * for the following init method.  This provides setup functions the ability to normalize\r\n\t * arguments passed to the init constructors.  They are also excellent places\r\n\t * to put setup code you want to almost always run.</p>\r\n\t * <p>\r\n\t * The following is similar to how [jQuery.Controller.prototype.setup]\r\n\t * makes sure init is always called with a jQuery element and merged options\r\n\t * even if it is passed a raw\r\n\t * HTMLElement and no second parameter.\r\n\t * </p>\r\n\t * @codestart\r\n\t * $.Class.extend(\"jQuery.Controller\",{\r\n\t *   ...\r\n\t * },{\r\n\t *   setup: function( el, options ) {\r\n\t *     ...\r\n\t *     return [$(el),\r\n\t *             $.extend(true,\r\n\t *                this.Class.defaults,\r\n\t *                options || {} ) ]\r\n\t *   }\r\n\t * })\r\n\t * @codeend\r\n\t * Typically, you won't need to make or overwrite setup functions.\r\n\t * <h3>Init</h3>\r\n\t *\r\n\t * <p>Init functions are called after setup functions.\r\n\t * Typically, they receive the same arguments\r\n\t * as their preceding setup function.  The Foo class's <code>init</code> method\r\n\t * gets called in the following example:\r\n\t * </p>\r\n\t * @codestart\r\n\t * $.Class.Extend(\"Foo\", {\r\n\t *   init: function( arg1, arg2, arg3 ) {\r\n\t *     this.sum = arg1+arg2+arg3;\r\n\t *   }\r\n\t * })\r\n\t * var foo = new Foo(1,2,3);\r\n\t * foo.sum //-> 6\r\n\t * @codeend\r\n\t * <h2>Callbacks</h2>\r\n\t * <p>Similar to jQuery's proxy method, Class provides a\r\n\t * [jQuery.Class.static.callback callback]\r\n\t * function that returns a callback to a method that will always\r\n\t * have\r\n\t * <code>this</code> set to the class or instance of the class.\r\n\t * </p>\r\n\t * The following example uses this.callback to make sure\r\n\t * <code>this.name</code> is available in <code>show</code>.\r\n\t * @codestart\r\n\t * $.Class.extend(\"Todo\",{\r\n\t *   init: function( name ) { this.name = name }\r\n\t *   get: function() {\r\n\t *     $.get(\"/stuff\",this.callback('show'))\r\n\t *   },\r\n\t *   show: function( txt ) {\r\n\t *     alert(this.name+txt)\r\n\t *   }\r\n\t * })\r\n\t * new Todo(\"Trash\").get()\r\n\t * @codeend\r\n\t * <p>Callback is available as a static and prototype method.</p>\r\n\t * <h2>Demo</h2>\r\n\t * @demo jquery/class/class.html\r\n\t *\r\n\t * @constructor Creating a new instance of an object that has extended jQuery.Class\r\n\t *     calls the init prototype function and returns a new instance of the class.\r\n\t *\r\n\t */\r\n\r\n\tclss = $.Class = function() {\r\n\t\tif (arguments.length) {\r\n\t\t\tclss.extend.apply(clss, arguments);\r\n\t\t}\r\n\t};\r\n\r\n\t/* @Static*/\r\n\textend(clss, {\r\n\t\t/**\r\n\t\t * @function callback\r\n\t\t * Returns a callback function for a function on this Class.\r\n\t\t * The callback function ensures that 'this' is set appropriately.  \r\n\t\t * @codestart\r\n\t\t * $.Class.extend(\"MyClass\",{\r\n\t\t *     getData: function() {\r\n\t\t *         this.showing = null;\r\n\t\t *         $.get(\"data.json\",this.callback('gotData'),'json')\r\n\t\t *     },\r\n\t\t *     gotData: function( data ) {\r\n\t\t *         this.showing = data;\r\n\t\t *     }\r\n\t\t * },{});\r\n\t\t * MyClass.showData();\r\n\t\t * @codeend\r\n\t\t * <h2>Currying Arguments</h2>\r\n\t\t * Additional arguments to callback will fill in arguments on the returning function.\r\n\t\t * @codestart\r\n\t\t * $.Class.extend(\"MyClass\",{\r\n\t\t *    getData: function( <b>callback</b> ) {\r\n\t\t *      $.get(\"data.json\",this.callback('process',<b>callback</b>),'json');\r\n\t\t *    },\r\n\t\t *    process: function( <b>callback</b>, jsonData ) { //callback is added as first argument\r\n\t\t *        jsonData.processed = true;\r\n\t\t *        callback(jsonData);\r\n\t\t *    }\r\n\t\t * },{});\r\n\t\t * MyClass.getData(showDataFunc)\r\n\t\t * @codeend\r\n\t\t * <h2>Nesting Functions</h2>\r\n\t\t * Callback can take an array of functions to call as the first argument.  When the returned callback function\r\n\t\t * is called each function in the array is passed the return value of the prior function.  This is often used\r\n\t\t * to eliminate currying initial arguments.\r\n\t\t * @codestart\r\n\t\t * $.Class.extend(\"MyClass\",{\r\n\t\t *    getData: function( callback ) {\r\n\t\t *      //calls process, then callback with value from process\r\n\t\t *      $.get(\"data.json\",this.callback(['process2',callback]),'json') \r\n\t\t *    },\r\n\t\t *    process2: function( type,jsonData ) {\r\n\t\t *        jsonData.processed = true;\r\n\t\t *        return [jsonData];\r\n\t\t *    }\r\n\t\t * },{});\r\n\t\t * MyClass.getData(showDataFunc);\r\n\t\t * @codeend\r\n\t\t * @param {String|Array} fname If a string, it represents the function to be called.  \r\n\t\t * If it is an array, it will call each function in order and pass the return value of the prior function to the\r\n\t\t * next function.\r\n\t\t * @return {Function} the callback function.\r\n\t\t */\r\n\t\tcallback: function( funcs ) {\r\n\r\n\t\t\t//args that should be curried\r\n\t\t\tvar args = makeArray(arguments),\r\n\t\t\t\tself;\r\n\r\n\t\t\tfuncs = args.shift();\r\n\r\n\t\t\tif (!isArray(funcs) ) {\r\n\t\t\t\tfuncs = [funcs];\r\n\t\t\t}\r\n\r\n\t\t\tself = this;\r\n\t\t\t\r\n\t\t\treturn function class_cb() {\r\n\t\t\t\tvar cur = concatArgs(args, arguments),\r\n\t\t\t\t\tisString, \r\n\t\t\t\t\tlength = funcs.length,\r\n\t\t\t\t\tf = 0,\r\n\t\t\t\t\tfunc;\r\n\r\n\t\t\t\tfor (; f < length; f++ ) {\r\n\t\t\t\t\tfunc = funcs[f];\r\n\t\t\t\t\tif (!func ) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tisString = typeof func == \"string\";\r\n\t\t\t\t\tif ( isString && self._set_called ) {\r\n\t\t\t\t\t\tself.called = func;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcur = (isString ? self[func] : func).apply(self, cur || []);\r\n\t\t\t\t\tif ( f < length - 1 ) {\r\n\t\t\t\t\t\tcur = !isArray(cur) || cur._use_call ? [cur] : cur\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn cur;\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t *   @function getObject \r\n\t\t *   Gets an object from a String.\r\n\t\t *   If the object or namespaces the string represent do not\r\n\t\t *   exist it will create them.  \r\n\t\t *   @codestart\r\n\t\t *   Foo = {Bar: {Zar: {\"Ted\"}}}\r\n\t\t *   $.Class.getobject(\"Foo.Bar.Zar\") //-> \"Ted\"\r\n\t\t *   @codeend\r\n\t\t *   @param {String} objectName the object you want to get\r\n\t\t *   @param {Object} [current=window] the object you want to look in.\r\n\t\t *   @return {Object} the object you are looking for.\r\n\t\t */\r\n\t\tgetObject: $.String.getObject,\r\n\t\t/**\r\n\t\t * @function newInstance\r\n\t\t * Creates a new instance of the class.  This method is useful for creating new instances\r\n\t\t * with arbitrary parameters.\r\n\t\t * <h3>Example</h3>\r\n\t\t * @codestart\r\n\t\t * $.Class.extend(\"MyClass\",{},{})\r\n\t\t * var mc = MyClass.newInstance.apply(null, new Array(parseInt(Math.random()*10,10))\r\n\t\t * @codeend\r\n\t\t * @return {class} instance of the class\r\n\t\t */\r\n\t\tnewInstance: function() {\r\n\t\t\tvar inst = this.rawInstance(),\r\n\t\t\t\targs;\r\n\t\t\tif ( inst.setup ) {\r\n\t\t\t\targs = inst.setup.apply(inst, arguments);\r\n\t\t\t}\r\n\t\t\tif ( inst.init ) {\r\n\t\t\t\tinst.init.apply(inst, isArray(args) ? args : arguments);\r\n\t\t\t}\r\n\t\t\treturn inst;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Setup gets called on the inherting class with the base class followed by the\r\n\t\t * inheriting class's raw properties.\r\n\t\t * \r\n\t\t * Setup will deeply extend a static defaults property on the base class with \r\n\t\t * properties on the base class.  For example:\r\n\t\t * \r\n\t\t *     $.Class(\"MyBase\",{\r\n\t\t *       defaults : {\r\n\t\t *         foo: 'bar'\r\n\t\t *       }\r\n\t\t *     },{})\r\n\t\t * \r\n\t\t *     MyBase(\"Inheriting\",{\r\n\t\t *       defaults : {\r\n\t\t *         newProp : 'newVal'\r\n\t\t *       }\r\n\t\t *     },{}\r\n\t\t *     \r\n\t\t *     Inheriting.defaults -> {foo: 'bar', 'newProp': 'newVal'}\r\n\t\t * \r\n\t\t * @param {Object} baseClass the base class that is being inherited from\r\n\t\t * @param {String} fullName the name of the new class\r\n\t\t * @param {Object} staticProps the static properties of the new class\r\n\t\t * @param {Object} protoProps the prototype properties of the new class\r\n\t\t */\r\n\t\tsetup: function( baseClass, fullName ) {\r\n\t\t\tthis.defaults = extend(true, {}, baseClass.defaults, this.defaults);\r\n\t\t\treturn arguments;\r\n\t\t},\r\n\t\trawInstance: function() {\r\n\t\t\tinitializing = true;\r\n\t\t\tvar inst = new this();\r\n\t\t\tinitializing = false;\r\n\t\t\treturn inst;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Extends a class with new static and prototype functions.  There are a variety of ways\r\n\t\t * to use extend:\r\n\t\t * @codestart\r\n\t\t * //with className, static and prototype functions\r\n\t\t * $.Class.extend('Task',{ STATIC },{ PROTOTYPE })\r\n\t\t * //with just classname and prototype functions\r\n\t\t * $.Class.extend('Task',{ PROTOTYPE })\r\n\t\t * //With just a className\r\n\t\t * $.Class.extend('Task')\r\n\t\t * @codeend\r\n\t\t * @param {String} [fullName]  the classes name (used for classes w/ introspection)\r\n\t\t * @param {Object} [klass]  the new classes static/class functions\r\n\t\t * @param {Object} [proto]  the new classes prototype functions\r\n\t\t * @return {jQuery.Class} returns the new class\r\n\t\t */\r\n\t\textend: function( fullName, klass, proto ) {\r\n\t\t\t// figure out what was passed\r\n\t\t\tif ( typeof fullName != 'string' ) {\r\n\t\t\t\tproto = klass;\r\n\t\t\t\tklass = fullName;\r\n\t\t\t\tfullName = null;\r\n\t\t\t}\r\n\t\t\tif (!proto ) {\r\n\t\t\t\tproto = klass;\r\n\t\t\t\tklass = null;\r\n\t\t\t}\r\n\r\n\t\t\tproto = proto || {};\r\n\t\t\tvar _super_class = this,\r\n\t\t\t\t_super = this.prototype,\r\n\t\t\t\tname, shortName, namespace, prototype;\r\n\r\n\t\t\t// Instantiate a base class (but only create the instance,\r\n\t\t\t// don't run the init constructor)\r\n\t\t\tinitializing = true;\r\n\t\t\tprototype = new this();\r\n\t\t\tinitializing = false;\r\n\t\t\t// Copy the properties over onto the new prototype\r\n\t\t\tinheritProps(proto, _super, prototype);\r\n\r\n\t\t\t// The dummy class constructor\r\n\r\n\t\t\tfunction Class() {\r\n\t\t\t\t// All construction is actually done in the init method\r\n\t\t\t\tif ( initializing ) return;\r\n\r\n\t\t\t\tif ( this.constructor !== Class && arguments.length ) { //we are being called w/o new\r\n\t\t\t\t\treturn arguments.callee.extend.apply(arguments.callee, arguments)\r\n\t\t\t\t} else { //we are being called w/ new\r\n\t\t\t\t\treturn this.Class.newInstance.apply(this.Class, arguments)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Copy old stuff onto class\r\n\t\t\tfor ( name in this ) {\r\n\t\t\t\tif ( this.hasOwnProperty(name) ) {\r\n\t\t\t\t\tClass[name] = this[name];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// copy new props on class\r\n\t\t\tinheritProps(klass, this, Class);\r\n\r\n\t\t\t// do namespace stuff\r\n\t\t\tif ( fullName ) {\r\n\r\n\t\t\t\tvar parts = fullName.split(/\\./),\r\n\t\t\t\t\tshortName = parts.pop(),\r\n\t\t\t\t\tcurrent = clss.getObject(parts.join('.'), window, true),\r\n\t\t\t\t\tnamespace = current;\r\n\r\n\t\t\t\t\r\n\t\t\t\tcurrent[shortName] = Class;\r\n\t\t\t}\r\n\r\n\t\t\t// set things that can't be overwritten\r\n\t\t\textend(Class, {\r\n\t\t\t\tprototype: prototype,\r\n\t\t\t\tnamespace: namespace,\r\n\t\t\t\tshortName: shortName,\r\n\t\t\t\tconstructor: Class,\r\n\t\t\t\tfullName: fullName\r\n\t\t\t});\r\n\r\n\t\t\t//make sure our prototype looks nice\r\n\t\t\tClass.prototype.Class = Class.prototype.constructor = Class;\r\n\r\n\r\n\t\t\t/**\r\n\t\t\t * @attribute fullName \r\n\t\t\t * The full name of the class, including namespace, provided for introspection purposes.\r\n\t\t\t * @codestart\r\n\t\t\t * $.Class.extend(\"MyOrg.MyClass\",{},{})\r\n\t\t\t * MyOrg.MyClass.shortName //-> 'MyClass'\r\n\t\t\t * MyOrg.MyClass.fullName //->  'MyOrg.MyClass'\r\n\t\t\t * @codeend\r\n\t\t\t */\r\n\r\n\t\t\tvar args = Class.setup.apply(Class, concatArgs([_super_class],arguments));\r\n\r\n\t\t\tif ( Class.init ) {\r\n\t\t\t\tClass.init.apply(Class, args || []);\r\n\t\t\t}\r\n\r\n\t\t\t/* @Prototype*/\r\n\t\t\treturn Class;\r\n\t\t\t/** \r\n\t\t\t * @function setup\r\n\t\t\t * If a setup method is provided, it is called when a new \r\n\t\t\t * instances is created.  It gets passed the same arguments that\r\n\t\t\t * were given to the Class constructor function (<code> new Class( arguments ... )</code>).\r\n\t\t\t * \r\n\t\t\t *     $.Class(\"MyClass\",\r\n\t\t\t *     {\r\n\t\t\t *        setup: function( val ) {\r\n\t\t\t *           this.val = val;\r\n\t\t\t *         }\r\n\t\t\t *     })\r\n\t\t\t *     var mc = new MyClass(\"Check Check\")\r\n\t\t\t *     mc.val //-> 'Check Check'\r\n\t\t\t * \r\n\t\t\t * Setup is called before [jQuery.Class.prototype.init init].  If setup \r\n\t\t\t * return an array, those arguments will be used for init. \r\n\t\t\t * \r\n\t\t\t *     $.Class(\"jQuery.Controller\",{\r\n\t\t\t *       setup : function(htmlElement, rawOptions){\r\n\t\t\t *         return [$(htmlElement), \r\n\t\t\t *                   $.extend({}, this.Class.defaults, rawOptions )] \r\n\t\t\t *       }\r\n\t\t\t *     })\r\n\t\t\t * \r\n\t\t\t * <div class='whisper'>PRO TIP: \r\n\t\t\t * Setup functions are used to normalize constructor arguments and provide a place for\r\n\t\t\t * setup code that extending classes don't have to remember to call _super to\r\n\t\t\t * run.\r\n\t\t\t * </div>\r\n\t\t\t * \r\n\t\t\t * Setup is not defined on $.Class itself, so calling super in inherting classes\r\n\t\t\t * will break.  Don't do the following:\r\n\t\t\t * \r\n\t\t\t *     $.Class(\"Thing\",{\r\n\t\t\t *       setup : function(){\r\n\t\t\t *         this._super(); // breaks!\r\n\t\t\t *       }\r\n\t\t\t *     })\r\n\t\t\t * \r\n\t\t\t * @return {Array|undefined} If an array is return, [jQuery.Class.prototype.init] is \r\n\t\t\t * called with those arguments; otherwise, the original arguments are used.\r\n\t\t\t */\r\n\t\t\t//break up\r\n\t\t\t/** \r\n\t\t\t * @function init\r\n\t\t\t * If an <code>init</code> method is provided, it gets called when a new instance\r\n\t\t\t * is created.  Init gets called after [jQuery.Class.prototype.setup setup], typically with the \r\n\t\t\t * same arguments passed to the Class \r\n\t\t\t * constructor: (<code> new Class( arguments ... )</code>).  \r\n\t\t\t * \r\n\t\t\t *     $.Class(\"MyClass\",\r\n\t\t\t *     {\r\n\t\t\t *        init: function( val ) {\r\n\t\t\t *           this.val = val;\r\n\t\t\t *        }\r\n\t\t\t *     })\r\n\t\t\t *     var mc = new MyClass(1)\r\n\t\t\t *     mc.val //-> 1\r\n\t\t\t * \r\n\t\t\t * [jQuery.Class.prototype.setup Setup] is able to modify the arguments passed to init.  Read\r\n\t\t\t * about it there.\r\n\t\t\t * \r\n\t\t\t */\r\n\t\t\t//Breaks up code\r\n\t\t\t/**\r\n\t\t\t * @attribute Class\r\n\t\t\t * References the static properties of the instance's class.\r\n\t\t\t * <h3>Quick Example</h3>\r\n\t\t\t * @codestart\r\n\t\t\t * // a class with a static classProperty property\r\n\t\t\t * $.Class.extend(\"MyClass\", {classProperty : true}, {});\r\n\t\t\t * \r\n\t\t\t * // a new instance of myClass\r\n\t\t\t * var mc1 = new MyClass();\r\n\t\t\t * \r\n\t\t\t * //\r\n\t\t\t * mc1.Class.classProperty = false;\r\n\t\t\t * \r\n\t\t\t * // creates a new MyClass\r\n\t\t\t * var mc2 = new mc.Class();\r\n\t\t\t * @codeend\r\n\t\t\t * Getting static properties via the Class property, such as it's \r\n\t\t\t * [jQuery.Class.static.fullName fullName] is very common.\r\n\t\t\t */\r\n\t\t}\r\n\r\n\t})\r\n\r\n\r\n\r\n\r\n\r\n\tclss.prototype.\r\n\t/**\r\n\t * @function callback\r\n\t * Returns a callback function.  This does the same thing as and is described better in [jQuery.Class.static.callback].\r\n\t * The only difference is this callback works\r\n\t * on a instance instead of a class.\r\n\t * @param {String|Array} fname If a string, it represents the function to be called.  \r\n\t * If it is an array, it will call each function in order and pass the return value of the prior function to the\r\n\t * next function.\r\n\t * @return {Function} the callback function\r\n\t */\r\n\tcallback = clss.callback;\r\n\r\n\r\n})(jQuery)","/*\r\n* jQuery Templating Plugin\r\n* Copyright 2010, John Resig\r\n* Dual licensed under the MIT or GPL Version 2 licenses.\r\n*/\r\n(function (jQuery, undefined) {\r\n    var oldManip = jQuery.fn.domManip, tmplItmAtt = \"_tmplitem\", htmlExpr = /^[^<]*(<[\\w\\W]+>)[^>]*$|\\{\\{\\! /,\r\n\t\tnewTmplItems = {}, wrappedItems = {}, appendToTmplItems, topTmplItem = { key: 0, data: {} }, itemKey = 0, cloneIndex = 0, stack = [];\r\n\r\n    function newTmplItem(options, parentItem, fn, data) {\r\n        // Returns a template item data structure for a new rendered instance of a template (a 'template item').\r\n        // The content field is a hierarchical array of strings and nested items (to be\r\n        // removed and replaced by nodes field of dom elements, once inserted in DOM).\r\n        var newItem = {\r\n            data: data || (parentItem ? parentItem.data : {}),\r\n            _wrap: parentItem ? parentItem._wrap : null,\r\n            tmpl: null,\r\n            parent: parentItem || null,\r\n            nodes: [],\r\n            calls: tiCalls,\r\n            nest: tiNest,\r\n            wrap: tiWrap,\r\n            html: tiHtml,\r\n            update: tiUpdate\r\n        };\r\n        if (options) {\r\n            jQuery.extend(newItem, options, { nodes: [], parent: parentItem });\r\n        }\r\n        if (fn) {\r\n            // Build the hierarchical content to be used during insertion into DOM\r\n            newItem.tmpl = fn;\r\n            newItem._ctnt = newItem._ctnt || newItem.tmpl(jQuery, newItem);\r\n            newItem.key = ++itemKey;\r\n            // Keep track of new template item, until it is stored as jQuery Data on DOM element\r\n            (stack.length ? wrappedItems : newTmplItems)[itemKey] = newItem;\r\n        }\r\n        return newItem;\r\n    }\r\n\r\n    // Override appendTo etc., in order to provide support for targeting multiple elements. (This code would disappear if integrated in jquery core).\r\n    jQuery.each({\r\n        appendTo: \"append\",\r\n        prependTo: \"prepend\",\r\n        insertBefore: \"before\",\r\n        insertAfter: \"after\",\r\n        replaceAll: \"replaceWith\"\r\n    }, function (name, original) {\r\n        jQuery.fn[name] = function (selector) {\r\n            var ret = [], insert = jQuery(selector), elems, i, l, tmplItems,\r\n\t\t\t\tparent = this.length === 1 && this[0].parentNode;\r\n\r\n            appendToTmplItems = newTmplItems || {};\r\n            if (parent && parent.nodeType === 11 && parent.childNodes.length === 1 && insert.length === 1) {\r\n                insert[original](this[0]);\r\n                ret = this;\r\n            } else {\r\n                for (i = 0, l = insert.length; i < l; i++) {\r\n                    cloneIndex = i;\r\n                    elems = (i > 0 ? this.clone(true) : this).get();\r\n                    jQuery.fn[original].apply(jQuery(insert[i]), elems);\r\n                    ret = ret.concat(elems);\r\n                }\r\n                cloneIndex = 0;\r\n                ret = this.pushStack(ret, name, insert.selector);\r\n            }\r\n            tmplItems = appendToTmplItems;\r\n            appendToTmplItems = null;\r\n            jQuery.tmpl.complete(tmplItems);\r\n            return ret;\r\n        };\r\n    });\r\n\r\n    jQuery.fn.extend({\r\n        // Use first wrapped element as template markup.\r\n        // Return wrapped set of template items, obtained by rendering template against data.\r\n        tmpl: function (data, options, parentItem) {\r\n            return jQuery.tmpl(this[0], data, options, parentItem);\r\n        },\r\n\r\n        // Find which rendered template item the first wrapped DOM element belongs to\r\n        tmplItem: function () {\r\n            return jQuery.tmplItem(this[0]);\r\n        },\r\n\r\n        // Consider the first wrapped element as a template declaration, and get the compiled template or store it as a named template.\r\n        template: function (name) {\r\n            return jQuery.template(name, this[0]);\r\n        },\r\n\r\n        domManip: function (args, table, callback, options) {\r\n            // This appears to be a bug in the appendTo, etc. implementation\r\n            // it should be doing .call() instead of .apply(). See #6227\r\n            if (args[0] && args[0].nodeType) {\r\n                var dmArgs = jQuery.makeArray(arguments), argsLength = args.length, i = 0, tmplItem;\r\n                while (i < argsLength && !(tmplItem = jQuery.data(args[i++], \"tmplItem\"))) { }\r\n                if (argsLength > 1) {\r\n                    dmArgs[0] = [jQuery.makeArray(args)];\r\n                }\r\n                if (tmplItem && cloneIndex) {\r\n                    dmArgs[2] = function (fragClone) {\r\n                        // Handler called by oldManip when rendered template has been inserted into DOM.\r\n                        jQuery.tmpl.afterManip(this, fragClone, callback);\r\n                    };\r\n                }\r\n                oldManip.apply(this, dmArgs);\r\n            } else {\r\n                oldManip.apply(this, arguments);\r\n            }\r\n            cloneIndex = 0;\r\n            if (!appendToTmplItems) {\r\n                jQuery.tmpl.complete(newTmplItems);\r\n            }\r\n            return this;\r\n        }\r\n    });\r\n\r\n    jQuery.extend({\r\n\r\n        // Quick version for templates that will return string instead of the full dom element\r\n        fasttmpl: function (tmpl, data, options, parentItem) {\r\n            options = options || {};\r\n            $.extend(options, { fast: true });\r\n            bizagi.chrono.start(\"fasttmpl\");\r\n            var result = jQuery.tmpl(tmpl, data, options, parentItem);\r\n            bizagi.chrono.stop(\"fasttmpl\");\r\n            return result;\r\n        },\r\n\r\n        // Return wrapped set of template items, obtained by rendering template against data.\r\n        tmpl: function (tmpl, data, options, parentItem) {\r\n            if (!options || !options.nestedExecution) cacheTmplItem = [];\r\n            var ret, topLevel = !parentItem;\r\n            var fast = options && options.fast;\r\n            var buildRet;\r\n            if (topLevel) {\r\n                // This is a top-level tmpl call (not from a nested template using {{tmpl}})\r\n                parentItem = topTmplItem;\r\n                tmpl = jQuery.template[tmpl] || jQuery.template(null, tmpl);\r\n                wrappedItems = {}; // Any wrapped items will be rebuilt, since this is top level\r\n            } else if (!tmpl) {\r\n                // The template item is already associated with DOM - this is a refresh.\r\n                // Re-evaluate rendered template for the parentItem\r\n                tmpl = parentItem.tmpl;\r\n                newTmplItems[parentItem.key] = parentItem;\r\n                parentItem.nodes = [];\r\n                if (parentItem.wrapped) {\r\n                    updateWrapped(parentItem, parentItem.wrapped);\r\n                }\r\n                // Rebuild, without creating a new template item\r\n                buildRet = build(parentItem, null, parentItem.tmpl(jQuery, parentItem), fast);\r\n                if (!options || !options.nestedExecution) removeTmplItemCache();\r\n                return (fast ? buildRet : jQuery(buildRet))\r\n            }\r\n            if (!tmpl) {\r\n                return []; // Could throw...\r\n            }\r\n            if (typeof data === \"function\") {\r\n                data = data.call(parentItem || {});\r\n            }\r\n            if (options && options.wrapped) {\r\n                updateWrapped(options, options.wrapped);\r\n            }\r\n            ret = jQuery.isArray(data) ?\r\n\t\t\t\tjQuery.map(data, function (dataItem) {\r\n\t\t\t\t    return dataItem ? newTmplItem(options, parentItem, tmpl, dataItem) : null;\r\n\t\t\t\t}) :\r\n\t\t\t\t[newTmplItem(options, parentItem, tmpl, data)];\r\n            if (topLevel) {\r\n                buildRet = build(parentItem, null, ret, fast);\r\n                if (!options || !options.nestedExecution) removeTmplItemCache();\r\n                return (fast ? buildRet : jQuery(buildRet));\r\n            }\r\n\r\n            if (!options || !options.nestedExecution) removeTmplItemCache();\r\n            return ret;\r\n        },\r\n\r\n        // Return rendered template item for an element.\r\n        tmplItem: function (elem) {\r\n            var tmplItem;\r\n            if (elem instanceof jQuery) {\r\n                elem = elem[0];\r\n            }\r\n            while (elem && elem.nodeType === 1 && !(tmplItem = jQuery.data(elem, \"tmplItem\")) && (elem = elem.parentNode)) { }\r\n            return tmplItem || topTmplItem;\r\n        },\r\n\r\n        // Set:\r\n        // Use $.template( name, tmpl ) to cache a named template,\r\n        // where tmpl is a template string, a script element or a jQuery instance wrapping a script element, etc.\r\n        // Use $( \"selector\" ).template( name ) to provide access by name to a script block template declaration.\r\n\r\n        // Get:\r\n        // Use $.template( name ) to access a cached template.\r\n        // Also $( selectorToScriptBlock ).template(), or $.template( null, templateString )\r\n        // will return the compiled template, without adding a name reference.\r\n        // If templateString includes at least one HTML tag, $.template( templateString ) is equivalent\r\n        // to $.template( null, templateString )\r\n        template: function (name, tmpl) {\r\n            if (tmpl) {\r\n                // Compile template and associate with name\r\n                if (typeof tmpl === \"string\") {\r\n                    // This is an HTML string being passed directly in.\r\n                    tmpl = buildTmplFn(tmpl)\r\n                } else if (tmpl instanceof jQuery) {\r\n                    tmpl = tmpl[0] || {};\r\n                }\r\n                if (tmpl.nodeType) {\r\n                    // If this is a template block, use cached copy, or generate tmpl function and cache.\r\n                    tmpl = jQuery.data(tmpl, \"tmpl\") || jQuery.data(tmpl, \"tmpl\", buildTmplFn(tmpl.innerHTML));\r\n                }\r\n                return typeof name === \"string\" ? (jQuery.template[name] = tmpl) : tmpl;\r\n            }\r\n            // Return named compiled template\r\n            return name ? (typeof name !== \"string\" ? jQuery.template(null, name) :\r\n\t\t\t\t(jQuery.template[name] ||\r\n            // If not in map, treat as a selector. (If integrated with core, use quickExpr.exec) \r\n\t\t\t\t\tjQuery.template(null, htmlExpr.test(name) ? name : jQuery(name)))) : null;\r\n        },\r\n\r\n        encode: function (text) {\r\n            // Do HTML encoding replacing < > & and ' and \" by corresponding entities.\r\n            return (\"\" + text).split(\"<\").join(\"&lt;\").split(\">\").join(\"&gt;\").split('\"').join(\"&#34;\").split(\"'\").join(\"&#39;\");\r\n        }\r\n    });\r\n\r\n    jQuery.extend(jQuery.tmpl, {\r\n        tag: {\r\n            \"tmpl\": {\r\n                _default: { $2: \"null\" },\r\n                open: \"if($notnull_1){_=_.concat($item.nest($1,$2));}\"\r\n                // tmpl target parameter can be of type function, so use $1, not $1a (so not auto detection of functions)\r\n                // This means that {{tmpl foo}} treats foo as a template (which IS a function). \r\n                // Explicit parens can be used if foo is a function that returns a template: {{tmpl foo()}}.\r\n            },\r\n            \"wrap\": {\r\n                _default: { $2: \"null\" },\r\n                open: \"$item.calls(_,$1,$2);_=[];\",\r\n                close: \"call=$item.calls();_=call._.concat($item.wrap(call,_));\"\r\n            },\r\n            \"each\": {\r\n                _default: { $2: \"$index, $value\" },\r\n                open: \"if($notnull_1){$.each($1a,function($2){with(this){\",\r\n                close: \"}});}\"\r\n            },\r\n            \"if\": {\r\n                open: \"if(($notnull_1) && $1a){\",\r\n                close: \"}\"\r\n            },\r\n            \"else\": {\r\n                _default: { $1: \"true\" },\r\n                open: \"}else if(($notnull_1) && $1a){\"\r\n            },\r\n            \"html\": {\r\n                // Unecoded expression evaluation. \r\n                open: \"if($notnull_1){_.push($1a);}\"\r\n            },\r\n            \"=\": {\r\n                // Encoded expression evaluation. Abbreviated form is ${}.\r\n                _default: { $1: \"$data\" },\r\n                open: \"if($notnull_1){_.push($.encode($1a));}\"\r\n            },\r\n            \"!\": {\r\n                // Comment tag. Skipped by parser\r\n                open: \"\"\r\n            }\r\n        },\r\n\r\n        // This stub can be overridden, e.g. in jquery.tmplPlus for providing rendered events\r\n        complete: function (items) {\r\n            newTmplItems = {};\r\n        },\r\n\r\n        // Call this from code which overrides domManip, or equivalent\r\n        // Manage cloning/storing template items etc.\r\n        afterManip: function afterManip(elem, fragClone, callback) {\r\n            // Provides cloned fragment ready for fixup prior to and after insertion into DOM\r\n            var content = fragClone.nodeType === 11 ?\r\n\t\t\t\tjQuery.makeArray(fragClone.childNodes) :\r\n\t\t\t\tfragClone.nodeType === 1 ? [fragClone] : [];\r\n\r\n            // Return fragment to original caller (e.g. append) for DOM insertion\r\n            callback.call(elem, fragClone);\r\n\r\n            // Fragment has been inserted:- Add inserted nodes to tmplItem data structure. Replace inserted element annotations by jQuery.data.\r\n            storeTmplItems(content);\r\n            cloneIndex++;\r\n        }\r\n    });\r\n\r\n    //========================== Private helper functions, used by code above ==========================\r\n    var cacheTmplItem = [];\r\n\r\n    function removeTmplItemCache() {\r\n        // Remove cache\r\n        if (cacheTmplItem) {\r\n            for (var i = 0; i < cacheTmplItem.length; i++) {\r\n                var item = $(cacheTmplItem[i]);\r\n                item.removeData(\"tmplItem\");\r\n            }\r\n        }\r\n        cacheTmplItem = null;\r\n    }\r\n\r\n    function build(tmplItem, nested, content, fast) {\r\n        // Convert hierarchical content into flat string array \r\n        // and finally return array of fragments ready for DOM insertion\r\n        var frag, ret;\r\n        if (!fast) {\r\n            ret = content ? jQuery.map(content, function (item) {\r\n                return (typeof item === \"string\") ?\r\n                // Insert template item annotations, to be converted to jQuery.data( \"tmplItem\" ) when elems are inserted into DOM.\r\n                            (tmplItem.key ? item.replace(/(<\\w+)(?=[\\s>])(?![^>]*_tmplitem)([^>]*)/g, \"$1 \" + tmplItmAtt + \"=\\\"\" + tmplItem.key + \"\\\" $2\") : item) :\r\n                // This is a child template item. Build nested template.\r\n                            build(item, tmplItem, item._ctnt);\r\n            }) :\r\n            // If content is not defined, insert tmplItem directly. Not a template item. May be a string, or a string array, e.g. from {{html $item.html()}}.\r\n                    tmplItem;\r\n        } else {\r\n            ret = content ? jQuery.map(content, function (item) { return (typeof item === \"string\") ? item : build(item, tmplItem, item._ctnt, true); }) : tmplItem;\r\n        }\r\n        if (nested) {\r\n            return ret;\r\n        }\r\n\r\n        // top-level template\r\n        ret = ret.join(\"\");\r\n\r\n        // When fast option is active don't build up jquery element\r\n        if (fast) return ret;\r\n\r\n        // Support templates which have initial or final text nodes, or consist only of text\r\n        // Also support HTML entities within the HTML markup.\r\n        ret.replace(/^\\s*([^<\\s][^<]*)?(<[\\w\\W]+>)([^>]*[^>\\s])?\\s*$/, function (all, before, middle, after) {\r\n            frag = jQuery(middle).get();\r\n\r\n            storeTmplItems(frag);\r\n            if (before) {\r\n                frag = unencode(before).concat(frag);\r\n            }\r\n            if (after) {\r\n                frag = frag.concat(unencode(after));\r\n            }\r\n        });\r\n        return frag ? frag : unencode(ret);\r\n    }\r\n\r\n    function unencode(text) {\r\n        // Use createElement, since createTextNode will not render HTML entities correctly\r\n        var el = document.createElement(\"div\");\r\n        el.innerHTML = text;\r\n        return jQuery.makeArray(el.childNodes);\r\n    }\r\n\r\n    // Generate a reusable function that will serve to render a template against data\r\n    function buildTmplFn(markup) {\r\n        var code = \"var $=jQuery,call,_=[],$data=$item.data;\" +\r\n\r\n        // Introduce the data as local variables using with(){}\r\n\t\t\t        \"with($data){_.push('\" +\r\n\r\n        // Convert the template into pure JavaScript\r\n\t\t\t        jQuery.trim(markup)\r\n\t\t\t\t        .replace(/([\\\\'])/g, \"\\\\$1\")\r\n\t\t\t\t        .replace(/[\\r\\t\\n]/g, \" \")\r\n\t\t\t\t        .replace(/\\$\\{([^\\}]*)\\}/g, \"{{= $1}}\")\r\n\t\t\t\t        .replace(/\\{\\{(\\/?)(\\w+|.)(?:\\(((?:[^\\}]|\\}(?!\\}))*?)?\\))?(?:\\s+(.*?)?)?(\\(((?:[^\\}]|\\}(?!\\}))*?)\\))?\\s*\\}\\}/g,\r\n\t\t\t\t        function (all, slash, type, fnargs, target, parens, args) {\r\n\t\t\t\t            var tag = jQuery.tmpl.tag[type], def, expr, exprAutoFnDetect;\r\n\t\t\t\t            if (!tag) {\r\n\t\t\t\t                throw \"Template command not found: \" + type;\r\n\t\t\t\t            }\r\n\t\t\t\t            def = tag._default || [];\r\n\t\t\t\t            if (parens && !/\\w$/.test(target)) {\r\n\t\t\t\t                target += parens;\r\n\t\t\t\t                parens = \"\";\r\n\t\t\t\t            }\r\n\t\t\t\t            if (target) {\r\n\t\t\t\t                target = unescape(target);\r\n\t\t\t\t                args = args ? (\",\" + unescape(args) + \")\") : (parens ? \")\" : \"\");\r\n\t\t\t\t                // Support for target being things like a.toLowerCase();\r\n\t\t\t\t                // In that case don't call with template item as 'this' pointer. Just evaluate...\r\n\t\t\t\t                expr = parens ? (target.indexOf(\".\") > -1 ? target + parens : (\"(\" + target + \").call($item\" + args)) : target;\r\n\t\t\t\t                exprAutoFnDetect = parens ? expr : \"(typeof(\" + target + \")==='function'?(\" + target + \").call($item):(\" + target + \"))\";\r\n\t\t\t\t            } else {\r\n\t\t\t\t                exprAutoFnDetect = expr = def.$1 || \"null\";\r\n\t\t\t\t            }\r\n\t\t\t\t            fnargs = unescape(fnargs);\r\n\t\t\t\t            return \"');\" +\r\n\t\t\t\t\t\t        tag[slash ? \"close\" : \"open\"]\r\n\t\t\t\t\t\t\t        .split(\"$notnull_1\").join(target ? \"typeof(\" + target + \")!=='undefined' && (\" + target + \")!=null\" : \"true\")\r\n\t\t\t\t\t\t\t        .split(\"$1a\").join(exprAutoFnDetect)\r\n\t\t\t\t\t\t\t        .split(\"$1\").join(expr)\r\n\t\t\t\t\t\t\t        .split(\"$2\").join(fnargs ?\r\n\t\t\t\t\t\t\t\t        fnargs.replace(/\\s*([^\\(]+)\\s*(\\((.*?)\\))?/g, function (all, name, parens, params) {\r\n\t\t\t\t\t\t\t\t            params = params ? (\",\" + params + \")\") : (parens ? \")\" : \"\");\r\n\t\t\t\t\t\t\t\t            return params ? (\"(\" + name + \").call($item\" + params) : all;\r\n\t\t\t\t\t\t\t\t        })\r\n\t\t\t\t\t\t\t\t        : (def.$2 || \"\")\r\n\t\t\t\t\t\t\t        ) +\r\n\t\t\t\t\t\t        \"_.push('\";\r\n\t\t\t\t        }) +\r\n\t\t\t        \"');}return _;\";\r\n\r\n        // Uncomment next section for debug template generated code\r\n        /*\r\n        var codeParts = code.split(\"'\");\r\n        for (var i = 0; i < codeParts.length; i++) {\r\n        if (i%2 == 0){\r\n        codeParts[i] = codeParts[i].replace(/([;{}])/g, \"$1\\r\\n\");\r\n        }\r\n        }\r\n        code = codeParts.join(\"'\");\r\n        */\r\n        // End uncomment            \r\n\r\n        return new Function(\"jQuery\", \"$item\", code);\r\n\r\n    }\r\n\r\n\r\n    function updateWrapped(options, wrapped) {\r\n        // Build the wrapped content. \r\n        options._wrap = build(options, true,\r\n        // Suport imperative scenario in which options.wrapped can be set to a selector or an HTML string.\r\n\t\t\tjQuery.isArray(wrapped) ? wrapped : [htmlExpr.test(wrapped) ? wrapped : jQuery(wrapped).html()]\r\n\t\t).join(\"\");\r\n    }\r\n\r\n    function unescape(args) {\r\n        return args ? args.replace(/\\\\'/g, \"'\").replace(/\\\\\\\\/g, \"\\\\\") : null;\r\n    }\r\n    function outerHtml(elem) {\r\n        var div = document.createElement(\"div\");\r\n        div.appendChild(elem.cloneNode(true));\r\n        return div.innerHTML;\r\n    }\r\n\r\n    // Store template items in jQuery.data(), ensuring a unique tmplItem data data structure for each rendered template instance.\r\n\r\n    function storeTmplItems(content) {\r\n        var keySuffix = \"_\" + cloneIndex, elem, elems, newClonedItems = {}, i, l, m;\r\n        for (i = 0, l = content.length; i < l; i++) {\r\n            if ((elem = content[i]).nodeType !== 1) {\r\n                continue;\r\n            }\r\n            elems = elem.getElementsByTagName(\"*\");\r\n            for (m = elems.length - 1; m >= 0; m--) {\r\n                processItemKey(elems[m]);\r\n            }\r\n            processItemKey(elem);\r\n        }\r\n        function processItemKey(el) {\r\n            var pntKey, pntNode = el, pntItem, tmplItem, key;\r\n            // Ensure that each rendered template inserted into the DOM has its own template item,\r\n            if ((key = el.getAttribute(tmplItmAtt))) {\r\n                while (pntNode.parentNode && (pntNode = pntNode.parentNode).nodeType === 1 && !(pntKey = pntNode.getAttribute(tmplItmAtt))) { }\r\n                if (pntKey !== key) {\r\n                    // The next ancestor with a _tmplitem expando is on a different key than this one.\r\n                    // So this is a top-level element within this template item\r\n                    // Set pntNode to the key of the parentNode, or to 0 if pntNode.parentNode is null, or pntNode is a fragment.\r\n                    pntNode = pntNode.parentNode ? (pntNode.nodeType === 11 ? 0 : (pntNode.getAttribute(tmplItmAtt) || 0)) : 0;\r\n                    if (!(tmplItem = newTmplItems[key])) {\r\n                        // The item is for wrapped content, and was copied from the temporary parent wrappedItem.\r\n                        tmplItem = wrappedItems[key];\r\n                        tmplItem = newTmplItem(tmplItem, newTmplItems[pntNode] || wrappedItems[pntNode], null, true);\r\n                        tmplItem.key = ++itemKey;\r\n                        newTmplItems[itemKey] = tmplItem;\r\n                    }\r\n                    if (cloneIndex) {\r\n                        cloneTmplItem(key);\r\n                    }\r\n                }\r\n                el.removeAttribute(tmplItmAtt);\r\n            } else if (cloneIndex && (tmplItem = jQuery.data(el, \"tmplItem\"))) {\r\n                // This was a rendered element, cloned during append or appendTo etc.\r\n                // TmplItem stored in jQuery data has already been cloned in cloneCopyEvent. We must replace it with a fresh cloned tmplItem.\r\n                cloneTmplItem(tmplItem.key);\r\n                newTmplItems[tmplItem.key] = tmplItem;\r\n                pntNode = jQuery.data(el.parentNode, \"tmplItem\");\r\n                pntNode = pntNode ? pntNode.key : 0;\r\n            }\r\n            if (tmplItem) {\r\n                pntItem = tmplItem;\r\n                // Find the template item of the parent element. \r\n                // (Using !=, not !==, since pntItem.key is number, and pntNode may be a string)\r\n                while (pntItem && pntItem.key != pntNode) {\r\n                    // Add this element as a top-level node for this rendered template item, as well as for any\r\n                    // ancestor items between this item and the item of its parent element\r\n                    pntItem.nodes.push(el);\r\n                    pntItem = pntItem.parent;\r\n                }\r\n                // Delete content built during rendering - reduce API surface area and memory use, and avoid exposing of stale data after rendering...\r\n                delete tmplItem._ctnt;\r\n                delete tmplItem._wrap;\r\n                // Store template item as jQuery data on the element\r\n                jQuery.data(el, \"tmplItem\", tmplItem);\r\n                //cacheTmplItem.push(el);\r\n            }\r\n            function cloneTmplItem(key) {\r\n                key = key + keySuffix;\r\n                tmplItem = newClonedItems[key] =\r\n\t\t\t\t\t(newClonedItems[key] || newTmplItem(tmplItem, newTmplItems[tmplItem.parent.key + keySuffix] || tmplItem.parent, null, true));\r\n            }\r\n        }\r\n    }\r\n\r\n    //---- Helper functions for template item ----\r\n\r\n    function tiCalls(content, tmpl, data, options) {\r\n        if (!content) {\r\n            return stack.pop();\r\n        }\r\n        stack.push({ _: content, tmpl: tmpl, item: this, data: data, options: options });\r\n    }\r\n\r\n    function tiNest(tmpl, data, options) {\r\n        // nested template, using {{tmpl}} tag\r\n        if (!options) options = {};\r\n        options.nestedExecution = true;\r\n        return jQuery.tmpl(jQuery.template(tmpl), data, options, this);\r\n    }\r\n\r\n    function tiWrap(call, wrapped) {\r\n        // nested template, using {{wrap}} tag\r\n        var options = call.options || {};\r\n        options.wrapped = wrapped;\r\n        // Apply the template, which may incorporate wrapped content, \r\n        return jQuery.tmpl(jQuery.template(call.tmpl), call.data, options, call.item);\r\n    }\r\n\r\n    function tiHtml(filter, textOnly) {\r\n        var wrapped = this._wrap;\r\n        return jQuery.map(\r\n\t\t\tjQuery(jQuery.isArray(wrapped) ? wrapped.join(\"\") : wrapped).filter(filter || \"*\"),\r\n\t\t\tfunction (e) {\r\n\t\t\t    return textOnly ?\r\n\t\t\t\t\te.innerText || e.textContent :\r\n\t\t\t\t\te.outerHTML || outerHtml(e);\r\n\t\t\t});\r\n    }\r\n\r\n    function tiUpdate() {\r\n        var coll = this.nodes;\r\n        jQuery.tmpl(null, null, null, this).insertBefore(coll[0]);\r\n        jQuery(coll).remove();\r\n    }\r\n})(jQuery);\r\n","/*\r\n *   Name: BizAgi Services\r\n *   Author: Diego Parra\r\n *   Comments:\r\n *   -   This class will provide a facade to access to all REST services available in Bizagi\r\n *   -   Can be extendable by each sub-module ex. rendering\r\n */\r\n\r\n$.Class.extend(\"bizagi.services.service\", {}, {\r\n    /* \r\n     *   Constructor\r\n     */\r\n    init: function () {\r\n\r\n    },\r\n    getServerResourceDictionary: function () {\r\n        var proxyPrefix = \"\";\r\n        if(typeof bizagiConfig !== \"undefined\" && bizagiConfig.proxyPrefix){\r\n            proxyPrefix = bizagiConfig.proxyPrefix;\r\n        }else{\r\n            if(typeof BIZAGI_PROXY_PREFIX !== 'undefined'){\r\n                proxyPrefix = BIZAGI_PROXY_PREFIX;\r\n            }\r\n        }\r\n        //var proxyPrefix = (typeof bizagiConfig !== \"undefined\" && bizagiConfig.proxyPrefix) ? bizagiConfig.proxyPrefix: ((typeof (BIZAGI_PROXY_PREFIX) !== 'undefined' ? BIZAGI_PROXY_PREFIX : \"\");\r\n        //var lowCaseLanguage = BIZAGI_LANGUAGE.substring(0, 2);\r\n        var culture = typeof BIZAGI_LANGUAGE === \"undefined\" ? bizagi.language : BIZAGI_LANGUAGE;\r\n        return $.ajax({\r\n            url: proxyPrefix + \"Rest/Multilanguage/Client?cultureName=\" + culture + \"&version=\" + bizagi.loader.version,\r\n            rpcEnabled: false,\r\n            cache:true,\r\n            dataType: \"json\",\r\n            async: true\r\n        });\r\n    },\r\n    getResourceDictionary: function (url) {\r\n        return $.ajax({\r\n            url: url,\r\n            rpcEnabled: false,\r\n            dataType: \"json\",\r\n            async: true\r\n        });\r\n    }\r\n});\r\n","/*\r\n*   Name: BizAgi Template Services\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This class will provide a facade to access to all templates available on bizagi\r\n*/\r\n\r\n$.Class.extend(\"bizagi.templates.services.service\", {\r\n    /*  Static templates*/\r\n    customTemplateFile: bizagi.loader.getResource(\"tmpl\", \"bizagi.overrides.\" + bizagi.detectDevice() + \".custom.templates\"),\r\n    cachedTemplates: {},\r\n    customTemplates: {}\r\n\r\n}, {\r\n    /* \r\n    *   Constructor\r\n    */\r\n    init: function (localization) {\r\n        this.localization = localization;\r\n        this.cssRegex = /{{css \"(.+)\"}}/g;\r\n        this.loadingFileDeferred = {};\r\n    },\r\n\r\n    /*\r\n    *   Load custom templates info in order to override framework stuff\r\n    */\r\n    loadCustomTemplates: function () {\r\n        var self = this;\r\n        var defer = new $.Deferred();\r\n\r\n        $.when(this.getTemplateFile(this.Class.customTemplateFile))\r\n        .done(function (response) {\r\n            var temp = $(\"<div />\").html(response);\r\n            var responseParts = $(\"script\", temp);\r\n            $.each(responseParts, function (i, responsePart) {\r\n                responsePart = $(responsePart);\r\n                self.Class.customTemplates[responsePart.attr(\"id\")] = responsePart.html();\r\n            });\r\n\r\n\r\n            // Resolve deferred\r\n            defer.resolve();\r\n        });\r\n\r\n        return defer.promise();\r\n    },\r\n\r\n    /*\r\n    *   Returns the template from cache or from ajax\r\n    *   Must return a deferred\r\n    */\r\n    getTemplate: function (template) {\r\n\r\n        var self = this;\r\n        var isCustomTemplate = false;\r\n\r\n\r\n        // If the template contains double hash, it's because its in release mode, then we got to ignore the first hash\r\n        template = template.replace(/([^#]*#)([^#]*#)([^#]*)/g, \"$1$3\");\r\n\r\n        // If the template contains the hash before the question mark, we need to exchange them\r\n        template = template.replace(/([a-zA-Z_\\/.-=]*)#([a-zA-Z_\\/.-]*)\\?(build=[a-zA-Z0-9.-]*)/g, \"$1?$3#$2\");\r\n\r\n        if (bizagi.enableCustomizations) {\r\n            var hash = self.getHash(template);\r\n\r\n            // Check if a custom template has been given in order to override it\r\n            if (self.Class.customTemplates[hash])\r\n                isCustomTemplate = true;\r\n        }\r\n\r\n        if(isCustomTemplate || (bizagi.loader.environment !== \"release\")){\r\n            return this.internalGetTemplate(template)\r\n            .pipe(function (resolvedTemplate) {\r\n                // Creates a in-memory element to hold the template\r\n                return   $.template(\"#\" + template, resolvedTemplate);\r\n            });\r\n        }\r\n        else {\r\n            return this.getTemplateForRelease(template).pipe(function (resolvedTemplate) {\r\n                return   $.template(\"#\" + template, resolvedTemplate);\r\n            });\r\n        }\r\n    },\r\n\r\n    /*\r\n     *   Returns the template from cache or from ajax\r\n     *   Must return a deferred\r\n     */\r\n    getTemplateWidget : function(template){\r\n        var self = this;\r\n        var isCustomTemplate = false;\r\n\r\n\r\n        // If the template contains double hash, it's because its in release mode, then we got to ignore the first hash\r\n        template = template.replace(/([^#]*#)([^#]*#)([^#]*)/g, \"$1$3\");\r\n\r\n        // If the template contains the hash before the question mark, we need to exchange them\r\n        template = template.replace(/([a-zA-Z_\\/.-=]*)#([a-zA-Z_\\/.-]*)\\?(build=[a-zA-Z0-9.-]*)/g, \"$1?$3#$2\");\r\n\r\n        if (bizagi.enableCustomizations) {\r\n            var hash = self.getHash(template);\r\n\r\n            // Check if a custom template has been given in order to override it\r\n            if (self.Class.customTemplates[hash])\r\n                isCustomTemplate = true;\r\n        }\r\n\r\n        if(isCustomTemplate || (bizagi.loader.environment !== \"release\")){\r\n            return this.internalGetTemplate(template)\r\n                .pipe(function (resolvedTemplate) {\r\n                    // Creates a in-memory element to hold the template\r\n                    return  $.templates(\"#\" + template, resolvedTemplate);\r\n                });\r\n        }\r\n        else {\r\n            return this.getTemplateForRelease(template).pipe(function (resolvedTemplate) {\r\n                return  $.templates(\"#\" + template, resolvedTemplate);\r\n            });\r\n        }\r\n    },\r\n\r\n\r\n    /*\r\n    *   Returns the template from cache or from ajax\r\n    *   Must return a deferred\r\n    */\r\n    getTemplateWebpart: function (template) {\r\n\r\n        // If the template contains double hash, it's because its in release mode, then we got to ignore the first hash\r\n        template = template.replace(/([^#]*#)([^#]*#)([^#]*)/g, \"$1$3\");\r\n\r\n        // If the template contains the hash before the question mark, we need to exchange them\r\n        template = template.replace(/([a-zA-Z_\\/.-=]*)#([a-zA-Z_\\/.-]*)\\?(build=[a-zA-Z0-9.-]*)/g, \"$1?$3#$2\");\r\n        return this.internalGetTemplate(template)\r\n\t    .pipe(function (resolvedTemplate) {\r\n\t        // Creates a in-memory element to hold the template\r\n\t        return $.template(\"#\" + template, resolvedTemplate);\r\n\t    });\r\n    },\r\n\r\n    /*\r\n    * Load the production template and return requested template\r\n    */\r\n    getTemplateForRelease: function (template) {\r\n        var self = this, defer = $.Deferred(), url, hash, cachedTemplate;\r\n\r\n        // extract url\r\n        if (self.containsHash(template)) {\r\n            url = self.getUrlWithoutHashes(template);\r\n            hash = self.getHash(template);\r\n        } else {\r\n            url = template;\r\n            hash = \"\";\r\n        }\r\n\r\n        cachedTemplate = self.Class.cachedTemplates[url];\r\n\r\n        if (!cachedTemplate) {\r\n            $.when(self.loadTemplateFileForRelease(url))\r\n            .done(function(){\r\n                defer.resolve(self.processAndReturnTemplate(url, hash));\r\n            });            \r\n            \r\n        } else {\r\n            defer.resolve(self.processAndReturnTemplate(url, hash));\r\n        }\r\n\r\n        return defer.promise();\r\n    },\r\n\r\n    loadTemplateFileForRelease: function (url) {\r\n        var self = this;\r\n        var defer = $.Deferred();\r\n\r\n        // Check in cache\r\n        if (self.Class.cachedTemplates[url]) return self.Class.cachedTemplates[url];\r\n\r\n        // Check if it is already being loaded\r\n        if (self.loadingFileDeferred[url]) {\r\n            $.when(self.loadingFileDeferred[url])\r\n            .done(function () {\r\n                // Resolve with cached content\r\n                defer.resolve(self.Class.cachedTemplates[url]);\r\n            });\r\n            return defer.promise();\r\n        }\r\n\r\n        // Load file via ajax\r\n        self.loadingFileDeferred[url] = $.Deferred();\r\n        $.when($.ajax({\r\n            url: url,\r\n            dataType: \"text\"\r\n        }),\r\n                self.localization.ready()\r\n        ).done(function (response) {\r\n            if (!response) {\r\n                defer.reject(\"\");\r\n            }\r\n            // response is an object\r\n            if (typeof (response) != \"string\") {\r\n                response = JSON.parse(response[0]);\r\n            }\r\n\r\n            self.Class.cachedTemplates[url] = response;\r\n\r\n            // process templates for translate, remove CSS and generate global function template\r\n            var index, valueTemplate, translatedTemplate;\r\n            for (index in response) {\r\n                if (response.hasOwnProperty(index)) {\r\n                    valueTemplate = response[index];\r\n\r\n                    translatedTemplate = self.localization.translate(valueTemplate);\r\n\r\n\r\n                    // Remove css tags\r\n                    translatedTemplate = translatedTemplate.replace(self.cssRegex, \"\");\r\n\r\n                    if ( index.indexOf(\"jsrender\") >= 0){\r\n                        delete self.Class.cachedTemplates[url][index];\r\n                        \r\n                        index = index.substring(0, index.indexOf(\"jsrender\") - 1);\r\n                        self.Class.cachedTemplates[url][index] = valueTemplate;\r\n                        $.templates(\"#\" + index, translatedTemplate);\r\n\r\n                    } else {\r\n                        $.template(\"#\" + index, translatedTemplate);\r\n                    }\r\n\r\n                    self.Class.cachedTemplates[url][index] = self.Class.cachedTemplates[index] = translatedTemplate;\r\n\r\n\r\n                }\r\n            }\r\n\r\n            self.loadingFileDeferred[url].resolve();\r\n            defer.resolve(response);\r\n        });\r\n\r\n        return defer.promise();\r\n    },\r\n\r\n    /*\r\n    * Return hashed template\r\n    */\r\n    processAndReturnTemplate: function (url, hash) {\r\n        var self = this;\r\n        var template = self.Class.cachedTemplates[url][hash];\r\n\r\n        if (!template) {\r\n            throw \"template \" + template + \"doesn't exist\";\r\n        }\r\n\r\n        return template;\r\n    },\r\n\r\n    /*\r\n    *   Returns the template from cache or from ajax\r\n    *   Must return a deferred\r\n    */\r\n    internalGetTemplate: function (template) {\r\n        var self = this;\r\n        var defer = new $.Deferred();\r\n        var cachedTemplate = this.Class.cachedTemplates[template];\r\n        if (!cachedTemplate) {\r\n\r\n            // Check if the template has a hash\r\n            if (self.containsHash(template)) {\r\n                var url = self.getUrlWithoutHashes(template);\r\n                var hash = self.getHash(template);\r\n\r\n                // Check if a custom template has been given in order to override it\r\n                if (self.Class.customTemplates[hash]) {\r\n                    // Resolve deferred\r\n                    defer.resolve(self.Class.customTemplates[hash]);\r\n                    return defer.promise();\r\n                }\r\n\r\n                $.when(self.getTemplatePart(url, hash))\r\n                .done(function (response) {\r\n                    // Set in cache\r\n                    self.Class.cachedTemplates[template] = response;\r\n\r\n                    // Resolve deferred\r\n                    defer.resolve(response);\r\n                });\r\n\r\n            } else {\r\n\r\n                // Gets the full template\r\n                $.when(self.getTemplateFile(template))\r\n                .done(function (response) {\r\n\r\n                    // Resolve deferred\r\n                    defer.resolve(response);\r\n                });\r\n            }\r\n        }\r\n        else {\r\n\r\n            defer.resolve(cachedTemplate);\r\n        }\r\n\r\n        return defer.promise();\r\n    },\r\n\r\n    /*\r\n    *   Gets a template part from a composite template file\r\n    *   Just load one template at a time to avoid multiple loadings of the same file\r\n    */\r\n    getTemplatePart: function (templateUrl, hash) {\r\n        var self = this;\r\n        var defer = new $.Deferred();\r\n\r\n        // If it is already loading a template set a timeout to check later\r\n        $.when(self.loadingTemplatePartExecution)\r\n        .done(function () {\r\n            // Set a async flag to synchronize this method\r\n            self.loadingTemplatePart = true;\r\n            self.loadingTemplatePartExecution = new $.Deferred();\r\n\r\n            // Load template file\r\n            $.when(self.getTemplateFile(templateUrl))\r\n            .done(function (response) {\r\n                var temp = $(\"<div />\").html(response);\r\n                var responsePart = $(\"#\" + hash, temp);\r\n\r\n                // Assertion to check that hash exists inside the main template\r\n                bizagi.assert(responsePart.length > 0, \"No template part (\" + hash + \") found in content for:\" + templateUrl);\r\n\r\n                // Set response\r\n                response = responsePart.html();\r\n\r\n                // Free async flag\r\n                self.loadingTemplatePartExecution.resolve();\r\n                self.loadingTemplatePart = true;\r\n\r\n                // Resolve main deferred\r\n                defer.resolve(response);\r\n            });\r\n        });\r\n\r\n        return defer.promise();\r\n    },\r\n\r\n    /*\r\n    *   Loads a full template file and keeps it on cache\r\n    */\r\n    getTemplateFile: function (template) {\r\n        var self = this;\r\n        var cachedTemplate = this.Class.cachedTemplates[template];\r\n\r\n        if (cachedTemplate) {\r\n            return cachedTemplate;\r\n        }\r\n\r\n        // Not found in cache, fetch it with ajax\r\n        return $.when(\r\n                    $.ajax({\r\n                        url: template,\r\n                        dataType: \"text\"                     \r\n                    }),\r\n                    self.localization.ready()\r\n                ).pipe(function (response) {\r\n                    // if no response has been found in the source file return an empty template\r\n                    if (!response) return \"\";\r\n\r\n                    if (typeof (response) != \"string\") {\r\n                        response = response[0];\r\n                    }\r\n\r\n                    if (typeof (response) == \"undefined\") return \"\";\r\n\r\n                    // Translate template\r\n                    var translatedTemplate = self.localization.translate(response);\r\n\r\n                    // Find css and import them\r\n                    var matches = translatedTemplate.match(self.cssRegex);\r\n                    if (matches) {\r\n                        $.each(matches, function (i, match) {\r\n                            var cssFile = match.replace(self.cssRegex, \"$1\");\r\n                            bizagi.loader.loadFile({\r\n                                src: cssFile,\r\n                                type: \"css\",\r\n                                environment: \"debug\"\r\n                            });\r\n                        });\r\n                    }\r\n                    // Remove css tags\r\n                    translatedTemplate = translatedTemplate.replace(self.cssRegex, \"\");\r\n\r\n                    // Cache all sub-templates\r\n                    var temp = $(\"<div />\").html(translatedTemplate);\r\n                    $(\"script\", temp).each(function (i, subTemplate) {\r\n                        var id = $(subTemplate).attr(\"id\"),\r\n                            type = $(subTemplate).attr(\"type\");\r\n\r\n                        if ($.templates && type && type.indexOf('jsrender') >= 0){\r\n                            $.templates(\"#\" + id, $(subTemplate).html());\r\n                        } else {\r\n                            try {\r\n                                $.template(\"#\" + id, $(subTemplate).html());\r\n                            } catch (e){\r\n                                console.log(e, temp);\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    // Set in cache\r\n                    self.Class.cachedTemplates[template] = typeof (translatedTemplate) === \"string\" ? translatedTemplate : translatedTemplate[0].outerHTML;\r\n\r\n                    return translatedTemplate;\r\n                });\r\n    },\r\n\r\n    /*\r\n    *   Check if a url contains hashes\r\n    */\r\n    containsHash: function (url) {\r\n        return url.indexOf(\"#\") != -1;\r\n    },\r\n\r\n    /*\r\n    *   Get url hash\r\n    */\r\n    getHash: function (url) {\r\n        return url.substring(url.indexOf(\"#\") + 1, url.length);\r\n    },\r\n\r\n    /*\r\n    *   Get url without hashes\r\n    */\r\n    getUrlWithoutHashes: function (url) {\r\n        return url.substring(0, url.indexOf(\"#\"));\r\n    }\r\n});\r\n\r\n// Overrides empty method to apply custom stuff\r\nvar originalEmptyMethod = jQuery.fn.empty;\r\njQuery.fn.empty = function () {\r\n    // Call original jquery method\r\n    var result = originalEmptyMethod.apply(this, arguments);\r\n\r\n    // Check if it has loading property to apply plugin\r\n    var element = $(this);\r\n    if (element.hasClass(\"ui-bizagi-component-loading\")) {\r\n        element.loadingMessage();\r\n    }\r\n\r\n    // Return original response\r\n    return result;\r\n};\r\n// Overrides detach method to apply custom stuff\r\njQuery.fn.fastEmpty = function () {\r\n    // Call original jquery method\r\n    this.children().remove();\r\n\r\n    // Check if it has loading property to apply plugin\r\n    var element = $(this);\r\n    if (element.hasClass(\"ui-bizagi-component-loading\")) {\r\n        element.loadingMessage();\r\n    }\r\n};\r\n// Overrides append and prepend method to apply custom stuff\r\nvar originalPrependMethod = jQuery.fn.prepend;\r\njQuery.fn.prepend = function() {\r\n\t// Check if it has loading property to apply plugin\r\n\tvar element = $(this);\r\n\tif (element.length == 0) return jQuery.fn;\r\n\tif (element.data(\"loading\")) {\r\n\t\t// Clear the container\r\n\t\toriginalEmptyMethod.apply(this);\r\n\t\telement.data(\"loading\", false);\r\n\t}\r\n\t\r\n\t// Call original jquery method\r\n\tvar result = originalPrependMethod.apply(this, arguments);\r\n\t\r\n\t// Check if the new content has adjustable content\r\n\tif (element[0].tagName.toLowerCase() != \"body\"  && element.find(\".ui-bizagi-component-adjustable\").length > 0) {\r\n\t\t$(document).triggerHandler(\"resizeLayout\");\r\n    }\r\n    element.removeData(\"loading\");\r\n\t\r\n\t// Return original response\r\n    return result;\r\n};\r\n\r\nvar originalAppendMethod = jQuery.fn.append;\r\njQuery.fn.append = function() {\r\n\t// Check if it has loading property to apply plugin\r\n\tvar element = $(this);\r\n\tif (element.length == 0) return jQuery.fn;\r\n\tif (eval(element.attr(\"data-loading\"))) {\r\n\t\t// Clear the container\r\n\t\toriginalEmptyMethod.apply(this);\r\n\t\telement.data(\"loading\", false);\r\n\t}\r\n\t\r\n\t// Call original jquery method\r\n\tvar result = originalAppendMethod.apply(this, arguments);\r\n\t\r\n\t// Check if the new content has adjustable content\r\n\tvar tagName = element[0].tagName || \"\";\r\n\tif (tagName.toLowerCase() != \"body\"  && element.find(\".ui-bizagi-component-adjustable\").length > 0) {\r\n\t\t$(document).triggerHandler(\"resizeLayout\");\r\n    }\r\n    element.removeData(\"loading\");\r\n\t\r\n\t// Return original response\r\n    return result;\r\n};\r\n\r\n/*\r\n*   JQuery tmpl extension\r\n*/\r\nvar originalTmplMethod = jQuery.tmpl;\r\njQuery.tmpl = function () {\r\n    // Call original jquery method\r\n    var result = originalTmplMethod.apply(this, arguments);\r\n    if (arguments[2] && arguments[2].fast) return result;\r\n\r\n    // Execute custom stuff after the template has been processed\r\n    $(\".ui-bizagi-component\", result).each(function (i, element) {\r\n        var component = $(element).attr(\"component\");\r\n        var parent = $(element).parent();\r\n        while (parent[0].tagName.length == 0) {\r\n            parent = parent.parent();\r\n        }\r\n\r\n        parent.attr(\"data-bizagi-component\", component);\r\n        $(element).detach();\r\n    });\r\n\r\n    // Configure loading message\r\n    if ($(\"[data-loading=true]\", result).length > 0) {\r\n        $(\"[data-loading=true]\", result).loadingMessage();\r\n    }\r\n    $(\"[data-loading=true]\", result).addClass(\"ui-bizagi-component-loading\");\r\n    if (result.jquery) {\r\n        // Check in root elements\r\n        $.each(result, function (i, element) {\r\n            if (element.outerHTML && $(element).is(\"[data-loading=true]\")) {\r\n                $(element).loadingMessage();\r\n                $(element).addClass(\"ui-bizagi-component-loading\");\r\n            }\r\n        });\r\n    }\r\n\r\n    // Configure adjustable containers\r\n    $(\"[data-adjustable=true]\", result).addClass(\"ui-bizagi-component-adjustable\");\r\n    if (result.jquery) {\r\n        // Check in root elements\r\n        $.each(result, function (i, element) {\r\n            if (element.outerHTML && $(element).is(\"[data-adjustable=true]\")) {\r\n                $(element).addClass(\"ui-bizagi-component-adjustable\");\r\n            }\r\n        });\r\n    }\r\n\r\n    // Return original response\r\n    return result;\r\n};\r\n\r\n// Clone inner methods / objects\r\nfor(key in originalTmplMethod) {\r\n\tjQuery.tmpl[key] = originalTmplMethod[key];\r\n}\r\n\r\n// Extend with custom tags\r\n$.extend(jQuery.tmpl.tag, {\r\n    'component': {\r\n    \t open: '_ = _.concat(\\'<div class=\"ui-bizagi-component\" component=\"$1\"></div>\\');'\r\n    },\r\n\t'loading': {\r\n    \t open: '_ = _.concat(\\'data-loading=\"true\"\\');'\r\n    },\r\n\t'adjustable': {\r\n    \t open: '_ = _.concat(\\'data-adjustable=\"true\"\\');'\r\n    },\r\n\t'resource': {\r\n\t\t_default: { $1: \"$data\" },\r\n    \t open: \"if($notnull_1){_.push($.encode(bizagi.localization.getResource($1a)));}\"\r\n    },\r\n    'log': {\r\n\t\t open: \"console.log($1, $2);\"\r\n    },\r\n    'children': {\r\n        open: \"_ = _.concat(\\'{{children}}');\"\r\n    },\r\n    'control': {\r\n        open: \"_ = _.concat(\\'{{control}}');\"\r\n    },\r\n    'files': {\r\n        open: \"_ = _.concat(\\'{{files}}');\"\r\n    },\r\n    'result': {\r\n        open: \"_ = _.concat(\\'{{result}}');\"\r\n    },\r\n    'element': {\r\n        open: \"_ = _.concat(\\'{{element $1}}');\"\r\n    },\r\n    \"for\": {\r\n        _default: { $2: \"var i=1;i<=1;i++\" },\r\n        open: 'for ($2){',\r\n        close: '};'\r\n    },\r\n    'actions': {\r\n        open: \"_ = _.concat(\\'{{actions}}');\"\r\n    },\r\n});\r\n","/*\r\n*   Name: BizAgi Logging Feature\r\n*   Author: Diego Parra\r\n*   Comments:\r\n*   -   This script will create global definitions to allow easy logging\r\n*/\r\n\r\n// Create or Define BizAgi namespace\r\nbizagi = (typeof (bizagi) !== \"undefined\") ? bizagi : {};\r\nbizagi.chrono = (typeof (bizagi.chrono) !== \"undefined\") ? bizagi.chrono : {};\r\n\r\n\r\n// Default logging variables\r\nbizagi.enableTrace = false;\r\nbizagi.enableDebug = false;\r\nbizagi.enableChrono = false;\r\n\r\nbizagi.log = function (message, data, icon) {\r\n    var doc = window.document;\r\n\r\n    // Check if trace is enabled\r\n    if (!bizagi.enableTrace) return;\r\n\r\n    if (bizagi.logContainer === undefined) {\r\n        bizagi.logContainer = $(\".ui-bizagi-log-container\", doc);\r\n\r\n        if (bizagi.logContainer.length == 0) {\r\n            bizagi.logContainer = createNotificationsBox();\r\n        }\r\n    }\r\n\t// Clone data if present\r\n    if (data) { try { data = JSON.parse(JSON.encode(data)); } catch (e) { data = {}; }} \r\n\r\n    bizagi.logContainer.bizagi_notifications(\"addNotification\", message, data, getIcon(icon));\r\n\t\r\n    // Helper method\r\n    function createNotificationsBox() {\r\n        var logContainer = $('<div />').appendTo($(\"body\", doc));\r\n    \tvar device = typeof bizagi.detectDevice !== \"undefined\" ? bizagi.detectDevice() : bizagi.util.detectDevice();\r\n\r\n        // Apply plugin\r\n        logContainer.bizagi_notifications({\r\n            headerAdditionalClass: \"ui-bizagi-log-container-header\",\r\n            containerAdditionalClass: \"ui-bizagi-notifications-container ui-bizagi-log-container\",\r\n            itemIcon: \"ui-icon-info\",\r\n            title: \"Debugging Log\",\r\n        \tlocation: \"top\",\r\n        \tdevice: device\r\n        });\r\n\r\n        // Advanced log view\r\n        logContainer.bind(\"itemClick\", function (e, ui) {\r\n            var popup = $(\"<div />\").appendTo($(\"body\"), doc);\r\n        \tvar contentViewer = device == \"desktop\"  ? $(\"<textarea />\"): $(\"<textarea readonly=true />\");\r\n            if (typeof(ui.data) == \"string\"){\r\n                // Create text area\r\n            \tcontentViewer.height(\"90%\");\r\n            \tcontentViewer.width(\"100%\");\r\n                contentViewer.text(ui.data);\r\n                popup.append(contentViewer);\r\n                \r\n            } else{\r\n                // Create text area\r\n                contentViewer.height(\"90%\");\r\n            \tcontentViewer.width(\"100%\");\r\n                contentViewer.text(JSON.encode(ui.data));\r\n                popup.append(contentViewer);\r\n            }                \r\n            \r\n            // Shows dialog\r\n            popup.dialog({\r\n                width: 640,\r\n                height: 480,\r\n                modal: true,\r\n                title: \"Object Hierarchy\",\r\n                close: function () {\r\n                    popup.dialog(\"destroy\");\r\n                    popup.detach();\r\n                }\r\n            });\r\n            \r\n        });\r\n\r\n        return logContainer;\r\n    }\r\n\r\n    // Returns the icon associated to the messageType\r\n    function getIcon(_icon) {\r\n        _icon = _icon || \"ui-icon-bullet\";\r\n\r\n        if (_icon == \"info\") {\r\n            return \"ui-icon-info\";\r\n        }\r\n\r\n        if (_icon == \"warning\") {\r\n            return \"ui-icon-alert\";\r\n        }\r\n\r\n        if (_icon == \"error\") {\r\n            return \"ui-icon-circle-close\";\r\n        }\r\n    \t\r\n    \tif (_icon == \"timer\") {\r\n            return \"ui-icon-clock\";\r\n        }\r\n\r\n        if (_icon == \"success\") {\r\n            return \"ui-icon-check\";\r\n        }\r\n\r\n        return _icon;\r\n    }\r\n};\r\n\r\n/*\r\n*   Creates a log message when the condition is false  \r\n*/\r\nbizagi.assert = function (condition, message, data) {\r\n    if (!condition) {\r\n        bizagi.log(message, data, \"error\");\r\n    }\r\n};\r\n\r\n/*\r\n*   Creates an error message\r\n*/\r\nbizagi.logError = function (message, data) {\r\n    bizagi.log(message, data, \"error\");\r\n};\r\n\r\n/*\r\n*   Creates a log message only when debug option is true\r\n*/\r\nbizagi.debug = function (message, data) {\r\n    if (bizagi.enableDebug) {\r\n    \tbizagi.log(message, data, \"info\");\r\n    }\r\n};\r\n\r\n/*\r\n*   Returns the log container instance\r\n*/\r\nbizagi.getLogInstance = function () {\r\n    // Return log object\r\n    return bizagi.logContainer;\r\n};\r\n\r\n/*\r\n*   Reset all the timers\r\n*/\r\nbizagi.chrono.init = function(timer) {\r\n\tif (!timer) bizagi.chronos = { };\r\n\telse bizagi.chronos[timer] = { millis: 0, timestamp: 0};\r\n};\r\n\r\n/*\r\n*   Starts a timer to measure performance\r\n*/\r\nbizagi.chrono.start = function (timer, profile) {\r\n    if (!bizagi.enableChrono) return;\r\n    profile = profile !== undefined ? profile : false;\r\n    bizagi.chronos[timer] = bizagi.chronos[timer] || { millis: 0, timestamp: 0 };\r\n    \r\n    // If the timer is already running don't do anything\r\n    if (bizagi.chronos[timer].running) return;\r\n\r\n    // Start timers\r\n    bizagi.chronos[timer].timestamp = new Date().getTime();\r\n    bizagi.chronos[timer].profiling = (bizagi.enableProfiler && profile);\r\n    bizagi.chronos[timer].running = true;\r\n\r\n    // Use chrome profiling\r\n    if (bizagi.enableProfiler && profile) {\r\n        console.time(timer);\r\n        console.timeStamp(timer);\r\n        console.profile(timer);\r\n    }\r\n};\r\n\r\n/*\r\n*   Starts an inits a new timer\r\n*/\r\nbizagi.chrono.initAndStart = function (timer) {\r\n    bizagi.chrono.init(timer);\r\n    bizagi.chrono.start(timer);\r\n};\r\n\r\n/*\r\n*   Stops a timer to measure performance\r\n*/\r\nbizagi.chrono.stop = function (timer) {\r\n    if (!bizagi.enableChrono) return;\r\n    bizagi.chronos[timer] = bizagi.chronos[timer] || { millis: 0, timestamp: 0 };\r\n\r\n    // If the timer is not running don't do anything\r\n    if (!bizagi.chronos[timer].running) return;\r\n    \r\n    // Stop the timer\r\n    var diff = new Date().getTime() - bizagi.chronos[timer].timestamp;\r\n    bizagi.chronos[timer].millis = bizagi.chronos[timer].millis + diff;\r\n    bizagi.chronos[timer].running = false ;\r\n    \r\n    // Use chrome profiling\r\n    if (bizagi.chronos[timer].profiling) {\r\n        console.timeEnd(timer);\r\n        console.timeStamp(timer + \"end\");\r\n        console.profileEnd(timer);\r\n    }\r\n};\r\n\r\n/*\r\n*   Stops a timer, and log it to the debugging log\r\n*/\r\nbizagi.chrono.stopAndLog = function (timer) {\r\n    // If the timer is not running don't do anything\r\n    if (bizagi.chronos[timer] && bizagi.chronos[timer].running) bizagi.chrono.stop(timer);\r\n    bizagi.chrono.log(timer);\r\n};\r\n\r\n/*\r\n*   Returns the current value of a timer\r\n*/\r\nbizagi.chrono.log = function (timer) {\r\n    if (!bizagi.chronos[timer]) return;\r\n    bizagi.log(\"Timer \" + timer + \": \" + bizagi.chronos[timer].millis + \"ms\", null, \"timer\");\r\n};\r\n\r\n/*\r\n*   Returns the current value of a timer\r\n*/\r\nbizagi.chrono.logTimers = function() {\r\n\tif (!bizagi.enableChrono) return;\r\n\tfor (key in bizagi.chronos) {\r\n\t\tbizagi.chrono.log(key);\r\n\t}\r\n};\r\nbizagi.chrono.init();\r\n","/**\r\n *   Name: BizAgi Localization Plugin\r\n *   Author: Diego Parra\r\n *   Comments:\r\n *   -   This script creates a plugin with an options hash which defines the json resources to localize\r\n */\r\n\r\n\r\n// Create or Define BizAgi namespace\r\nbizagi = (typeof (bizagi) !== \"undefined\") ? bizagi : {};\r\nbizagi.util = (typeof (bizagi.util) !== \"undefined\") ? bizagi.util : {};\r\n\r\n$.Class.extend(\"bizagi.l10n\", {\r\n    templateRegex: /%{([\\w-{}$.]+)}/,\r\n    templateSubExpressionRegex: /[$]{([\\w.]+)}/g\r\n}, {\r\n    /*\r\n     *   Constructor\r\n     */\r\n    init: function (resourceLocationDefinition) {\r\n        this.resourceLocationDefinition = resourceLocationDefinition;\r\n        this.service = new bizagi.services.service();\r\n        this.dictionaries = {};\r\n        this.dictionary = {};\r\n        this.readyDeferred = null;\r\n        this.enableCustomizations = typeof (bizagi.enableCustomizations) !== \"undefined\" ? bizagi.enableCustomizations : (typeof (BIZAGI_ENABLE_CUSTOMIZATIONS) !== \"undefined\" ? BIZAGI_ENABLE_CUSTOMIZATIONS : true);\r\n        this.defaultDatetimeInfo = (typeof BIZAGI_DEFAULT_DATETIME_INFO != \"undefined\") ? BIZAGI_DEFAULT_DATETIME_INFO : false;\r\n    },\r\n    /*\r\n     *   This methods set the langague used to localize\r\n     *   Returns a promise\r\n     */\r\n    setLanguage: function (language) {\r\n        var self = this;\r\n\r\n        self.language = language;\r\n        self.readyDeferred = new $.Deferred();\r\n\r\n        // Run async method\r\n        $.when(self._getDictionary(language))\r\n            .done(function (dictionary) {\r\n                self.dictionary = dictionary;\r\n\r\n                // Override Time Format defined on default.aspx\r\n                if (self.defaultDatetimeInfo) {\r\n                    if (self.defaultDatetimeInfo.shortDateFormat) {\r\n                        self.overrideSpecificResource('dateFormat', self.defaultDatetimeInfo.shortDateFormat);\r\n                    }\r\n\r\n                    if (self.defaultDatetimeInfo.timeFormat) {\r\n                        self.overrideSpecificResource('timeFormat', self.defaultDatetimeInfo.timeFormat);\r\n                    }\r\n                }\r\n\r\n\r\n                if (self.enableCustomizations) {\r\n                    if (self.resourceLocationDefinition[\"custom\"]) {\r\n                        //BIZAGI_LOCAL_RESOURCES is defined only for test\r\n                        var dictionaryService = (typeof BIZAGI_LOCAL_RESOURCES !== \"undefined\" && BIZAGI_LOCAL_RESOURCES) ? self.service.getResourceDictionary : self.service.getServerResourceDictionary;\r\n\r\n                        // If language is the same, dont request twice culture\r\n                        if (dictionaryService === self.service.getServerResourceDictionary && BIZAGI_LANGUAGE === self.language) {\r\n                            self.readyDeferred.resolve();\r\n                        } else {\r\n                            dictionaryService(self.resourceLocationDefinition[\"custom\"]).done(function (overrides) {\r\n                                if (self.enableCustomizations) {\r\n                                    self.overrideResources(overrides);\r\n                                }\r\n                                self.readyDeferred.resolve();\r\n                            });\r\n                        }\r\n\r\n                    }\r\n                } else {\r\n                    self.readyDeferred.resolve();\r\n                }\r\n\r\n        });\r\n    },\r\n\r\n    /*\r\n     *   This methods load a set of new keys and merge to the current dictionary (LOCALLY initially)\r\n     *   Returns a promise\r\n     */\r\n    loadLanguageExtension: function (language) {\r\n        var self = this;\r\n\r\n        self.language = language;\r\n        self.readyDeferred = new $.Deferred();\r\n\r\n        var loadLanguage = self.getLanguageFromCulture(language);\r\n        if (typeof self.resourceLocationDefinition[loadLanguage.toLowerCase()] === \"undefined\") {\r\n            loadLanguage = \"default\";\r\n        }\r\n\r\n        // Load local dictionary\r\n        self.service.getResourceDictionary(self.resourceLocationDefinition[loadLanguage.toLowerCase()])\r\n            .done(function (dictionary) {\r\n                self.dictionaries[language.toLowerCase()] = self.dictionaries[language.toLowerCase()] || {};\r\n                $.extend(self.dictionaries[language.toLowerCase()], dictionary);\r\n                self.readyDeferred.resolve();\r\n            })\r\n            .fail(function (_, status, errorMessage) {\r\n                alert(\"Can't load localization file for language: \" + language + \", \" + status + \" - \" + errorMessage);\r\n            });\r\n\r\n        return self.readyDeferred.promise();\r\n    },\r\n\r\n    /**\r\n     * Get language by culture\r\n     */\r\n    getLanguageFromCulture: function (culture) {\r\n        return culture.indexOf('-') !== -1 ? culture.split('-')[0] : culture;\r\n    },\r\n\r\n    /*\r\n     *   Get a localized name, resolving a localization complex object\r\n     */\r\n    resolvei18n: function (localizationObject) {\r\n        if (!localizationObject)\r\n            return \"\";\r\n        if (typeof (localizationObject) == \"string\")\r\n            return localizationObject;\r\n        if (this.language && this.language != \"default\") {\r\n            var result = localizationObject.i18n[\"default\"].languages[this.language];\r\n            if (result)\r\n                return result;\r\n        }\r\n\r\n        return localizationObject.i18n[\"default\"];\r\n    },\r\n    /**\r\n     *   This method returns the localized version of the resource\r\n     * @override\r\n     * @param resource string Key of the resource\r\n     * @param defaultValue string Default value in case key does not exists\r\n     * @returns string resource found or default value\r\n     */\r\n    getResource: function (resource, defaultValue) {\r\n        var self = this;\r\n\r\n        // Return original resource when not found on dictionary\r\n        if (self.dictionary[resource] == null)\r\n            return (defaultValue !== undefined ? defaultValue : resource);\r\n\r\n        // if found return translated resource\r\n        return self.dictionary[resource];\r\n    },\r\n    /*\r\n     *   This method set the localized version of the resource\r\n     */\r\n    setResource: function (resource, value) {\r\n        var self = this;\r\n        if (resource && resource !== \"\") {\r\n            self.dictionary[resource] = value;\r\n        }\r\n    },\r\n    /**\r\n     * \r\n     * @param {string} messageStatus \r\n     * @param {string} messageType \r\n     * @param {string[]} params \r\n     * @param {boolean} isFromServer \r\n     */\r\n    getMessageFromLocalization: function (messageStatus, messageType, params, isFromServer) {\r\n        var self = this, message = \"\";\r\n\r\n        if (messageType == \"error\") {\r\n\r\n            //Checks if the message comes from the server, so add it as it comes\r\n            if (isFromServer) {\r\n                message = messageStatus;\r\n            } else {\r\n\r\n                messageStatus = messageStatus.toLowerCase();\r\n\r\n                //Try to capture the error from the localization files\r\n                message = bizagi.localization.getResource(\"workportal-general-error-\" + messageStatus);\r\n\r\n                //If is message does´nt exist, add the generic error\r\n                if (message === (\"workportal-general-error-\" + messageStatus)) {\r\n                    var auxMessage = bizagi.localization.getResource(\"workportal-general-error-generic\");\r\n                    if (auxMessage === \"workportal-general-error-generic\") { //if localization resources don't loaded\r\n                        message = \"The request could not be completed.\";\r\n                    }\r\n                }\r\n            }\r\n\r\n        } else {\r\n            message = bizagi.localization.getResource(messageStatus);\r\n        }\r\n\r\n        //Checks is there is any extraparameter, to customise a field inside the error message\r\n        if (params) {\r\n            for (var i = 0; i < params.length; i++) {\r\n                message = message.replace(\"{\" + i + \"}\", params[i]);\r\n            }\r\n        }\r\n\r\n        return message;\r\n    },\r\n    /*\r\n     *   This method locates all the localization hints (%) and translates the full text\r\n     */\r\n    translate: function (text) {\r\n        var self = this;\r\n\r\n        var nextToken;\r\n        do {\r\n            nextToken = this.Class.templateRegex.exec(text);\r\n\r\n            if (nextToken) {\r\n                var enclosedValue = nextToken[1];\r\n                if (enclosedValue.indexOf(\"$\") == -1) {\r\n                    text = text.replaceAll(nextToken[0], self.getResource(enclosedValue));\r\n                } else {\r\n                    var subExpressionToken = this.Class.templateSubExpressionRegex.exec(enclosedValue);\r\n                    if (!subExpressionToken) {\r\n                        var regEx = /[$]{([\\w.]+)}/g;\r\n                        subExpressionToken = regEx.exec(enclosedValue);\r\n                    }\r\n                    text = text.replaceAll(nextToken[0], \"{{resource \" + subExpressionToken[1] + \"}}\");\r\n                }\r\n            }\r\n\r\n        } while (nextToken != null);\r\n\r\n        return text;\r\n    },\r\n    /*\r\n     *   Allow to override some resources in order to allow project customizations\r\n     */\r\n    overrideResources: function (overrides) {\r\n        var self = this;\r\n        var userLanguage = self._getUserLanguage(self.language);\r\n        // Only use current language overrides\r\n        var languageOverrides = overrides[userLanguage];\r\n        for (var resourceOverride in languageOverrides) {\r\n            self.dictionary[resourceOverride] = languageOverrides[resourceOverride];\r\n        }\r\n    },\r\n    /*\r\n     *   Override value of specific language\r\n     */\r\n    overrideSpecificResource: function (key, value) {\r\n        var self = this;\r\n        key = key || \"nodefined\";\r\n        value = value || \"\";\r\n\r\n        self.dictionary[key] = value;\r\n    },\r\n    /*\r\n     *   This method loads or returns a cached version of a dictionary for a given language\r\n     */\r\n    _getDictionary: function (language) {\r\n        var self = this;\r\n        var defer = new $.Deferred();\r\n        language = language.toLowerCase();\r\n\r\n        // Check for cache\r\n        if (self.dictionaries[language] != null)\r\n            return self.dictionaries[language];\r\n\r\n        // Load resource from web\r\n        var userLanguage = self._getUserLanguage(language);\r\n\r\n        //BIZAGI_LOCAL_RESOURCES is defined only for test\r\n        var dictionaryService = (typeof BIZAGI_LOCAL_RESOURCES !== \"undefined\" && BIZAGI_LOCAL_RESOURCES) ? self.service.getResourceDictionary : self.service.getServerResourceDictionary;\r\n\r\n        dictionaryService(self.resourceLocationDefinition[userLanguage])\r\n            .done(function (dictionary) {\r\n                self.dictionaries[language] = dictionary;\r\n                defer.resolve(dictionary);\r\n            })\r\n            .fail(function (_, status, errorMessage) {\r\n                if (typeof _.responseJSON === \"undefined\" && _.status === 0 && _.statusText === \"error\" && errorMessage === \"\") {\r\n                    console.log(\"Can't load localization file for language: \" + language + \", \" + status + \" - \" + errorMessage);\r\n                } else {\r\n                    if (_.status === 503) {\r\n                        var dictionary = {};\r\n                        defer.resolve(dictionary);\r\n                    } else {\r\n                        alert(\"Can't load localization file for language: \" + language + \", \" + status + \" - \" + errorMessage);\r\n                    }\r\n                }\r\n\r\n            });\r\n\r\n        return defer.promise();\r\n\r\n    },\r\n    _getUserLanguage: function (language) {\r\n        var self = this;\r\n\r\n        // Load resource from web\r\n        var userLanguage = language.toLowerCase();\r\n\r\n        if (self.resourceLocationDefinition[userLanguage] == null && userLanguage.length > 0) {\r\n            // get all the components of the language\r\n            var userLanguageParts = userLanguage.split(\"-\");\r\n            // Check if any of the language fits (i.e. Norwegian is No, but there are nn-no variants)\r\n            for (var i = userLanguageParts.length - 1; i >= 0; i--) {\r\n                if (self.resourceLocationDefinition[userLanguageParts[i]] != null) {\r\n                    userLanguage = userLanguageParts[i];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (userLanguage.length == 0 || self.resourceLocationDefinition[userLanguage] == null) {\r\n            // Return default language\r\n            bizagi.log(\"No resource definition location has been given for language :\" + language + \", loading default language\");\r\n            userLanguage = \"default\";\r\n        }\r\n\r\n        return userLanguage;\r\n    },\r\n    /*\r\n     *   Helps to check if the language is loaded\r\n     */\r\n    ready: function () {\r\n        var self = this;\r\n        return self.readyDeferred.promise();\r\n    }\r\n});\r\n","/*\r\n *   Name: BizAgi Utils\r\n *   Author: Diego Parra\r\n *   Comments:\r\n *   -   This class will provide misc helpers to all modules\r\n */\r\n\r\n// Create or Define BizAgi namespace\r\nbizagi = (typeof (bizagi) !== \"undefined\") ? bizagi : {};\r\nbizagi.util = (typeof (bizagi.util) !== \"undefined\") ? bizagi.util : {};\r\nbizagi.context = (typeof (bizagi.context) !== \"undefined\") ? bizagi.context : {};\r\nbizagi.util.smartphone = (typeof (bizagi.util.smartphone) !== \"undefined\") ? bizagi.util.smartphone : {};\r\nbizagi.util.tablet = (typeof (bizagi.util.tablet) !== \"undefined\") ? bizagi.util.tablet : {};\r\n\r\nvar DEVICES = {};\r\n\r\nDEVICES[DEVICES['desktop'] = 0] = 'desktop';\r\nDEVICES[DEVICES['smartphone'] = 1] = 'smartphone';\r\nDEVICES[DEVICES['tablet'] = 2] = 'tablet';\r\n\r\nbizagi.deviceEnum = DEVICES;\r\n\r\n/*\r\n *   Define mini-plugin to acceess iframe's boundaries\r\n */\r\n(function ($) {\r\n    $.fn.callInside = function (fx, args) {\r\n        if ($(this)[0].tagName.toLowerCase() != \"iframe\")\r\n            return null;\r\n        // Don't execute the code when the content window is not ready yet    \r\n        if ($(this)[0].contentWindow == null)\r\n            return null;\r\n        // Check if the iframe is cross domain\r\n        try {\r\n            // Evals the content\r\n            $(this)[0].contentWindow.args = args;\r\n        } catch (e) {\r\n            // If an exception is thrown here this is a cross domain access\r\n            return null;\r\n        }\r\n\r\n        if ($.browser.msie) {\r\n            return $(this)[0].contentWindow.execScript('args = (this.window.args)?this.window.args:{}; insideFunction = ' + fx.toString() + '; insideFunction(args)');\r\n        } else if ($.browser.webkit || $.browser.mozilla) {\r\n            return $(this)[0].contentWindow.eval('args = window.args;insideFunction = ' + fx.toString() + '; insideFunction(args)');\r\n        }\r\n    };\r\n})(jQuery);\r\n(function ($) {\r\n    $.fn.callInsidePopup = function (fx, args) {\r\n        // This is window here\r\n        var self = this;\r\n        $(document).ready(function () {\r\n            // Check if the iframe is cross domain\r\n            try {\r\n                // Evals the content\r\n                $(self)[0].args = args;\r\n            } catch (e) {\r\n                // If an exception is thrown here this is a cross domain access\r\n                return null;\r\n            }\r\n\r\n            if ($.browser.msie) {\r\n                return $(self)[0].execScript('args = (this.window.args)?this.window.args:{}; insideFunction = ' + fx.toString() + '; insideFunction(args)');\r\n            } else if ($.browser.webkit || $.browser.mozilla) {\r\n                return $(self)[0].eval('args = window.args;insideFunction = ' + fx.toString() + '; insideFunction(args)');\r\n            }\r\n\r\n        });\r\n    };\r\n})(jQuery);\r\n(function ($) {\r\n\r\n    // add support for CSS functions for \"setProperty\" in ie8\r\n    var isStyleFuncSupported = !!CSSStyleDeclaration.prototype.getPropertyValue;\r\n    if (!isStyleFuncSupported) {\r\n        CSSStyleDeclaration.prototype.getPropertyValue = function (a) {\r\n            return this.getAttribute(a);\r\n        };\r\n        CSSStyleDeclaration.prototype.setProperty = function (styleName, value, priority) {\r\n            this.setAttribute(styleName, value);\r\n            var priority = typeof priority != 'undefined' ? priority : '';\r\n            if (priority != '') {\r\n                // Add priority manually\r\n                var rule = new RegExp(RegExp.escape(styleName) + '\\\\s*:\\\\s*' + RegExp.escape(value) + '(\\\\s*;)?', 'gmi');\r\n                this.cssText = this.cssText.replace(rule, styleName + ': ' + value + ' !' + priority + ';');\r\n            }\r\n        };\r\n\r\n        CSSStyleDeclaration.prototype.removeProperty = function (a) {\r\n            return this.removeAttribute(a);\r\n        };\r\n\r\n        CSSStyleDeclaration.prototype.getPropertyPriority = function (styleName) {\r\n            var rule = new RegExp(RegExp.escape(styleName) + '\\\\s*:\\\\s*[^\\\\s]*\\\\s*!important(\\\\s*;)?', 'gmi');\r\n            return rule.test(this.cssText) ? 'important' : '';\r\n        };\r\n    }\r\n\r\n    // Escape regex chars with \\\r\n    RegExp.escape = function (text) {\r\n        return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\");\r\n    };\r\n\r\n    // The style function\r\n    jQuery.fn.style = function (styleName, value, priority) {\r\n        // DOM node\r\n        var node = this.get(0);\r\n        // Ensure we have a DOM node \r\n        if (typeof node == 'undefined') {\r\n            return;\r\n        }\r\n        // CSSStyleDeclaration\r\n        var style = this.get(0).style;\r\n        // Getter/Setter\r\n        if (typeof styleName != 'undefined') {\r\n            if (typeof value != 'undefined') {\r\n                // Set style property\r\n                var priority = typeof priority != 'undefined' ? priority : '';\r\n                // Hack to IE8\r\n                if (style.setProperty) {\r\n                    style.setProperty(styleName, value, priority);\r\n                } else {\r\n                    style.setAttribute(styleName, value, priority);\r\n                }\r\n            } else {\r\n                // Get style property\r\n\r\n                return style.getPropertyValue(styleName);\r\n            }\r\n        } else {\r\n            // Get CSSStyleDeclaration\r\n            return style;\r\n        }\r\n    };\r\n})(jQuery);\r\n\r\n(function ($) {\r\n    jQuery.nl2br = function (value) {\r\n        return value.replace(/(\\r\\n|\\n\\r|\\r|\\n|\\\\r\\\\n|\\\\n\\\\r|\\\\r|\\\\n)/g, \"<br>\");\r\n    };\r\n})(jQuery);\r\n\r\n\r\n\r\n(function ($) {\r\n    jQuery.br2nl = function (value) {\r\n        return value.replace(/\\r\\n|\\r|\\n/g, \"\\r\");\r\n    };\r\n})(jQuery);\r\n\r\n/**\r\n *   Can be compare control between their intance value and existing value\r\n */\r\n//TODO: DEPL- Please move this out of here, this is rendering logic, it must exists as a function for the render, and every erender could override its implementation\r\n(function ($) {\r\n    jQuery.controlValueIsChanged = function (control) {\r\n        var self = control;\r\n        var properties = self.properties;\r\n        var value = self.getValue();\r\n        var compareValue = properties.originalValue;\r\n        var result = true;\r\n\r\n        // Flag to force to collect data\r\n        if ($.forceCollectData) {\r\n            return true;\r\n        }\r\n\r\n        // Verify if control has been ready\r\n        if (control.properties.type == \"grid\" && control.ready().state() == \"pending\") {\r\n            return false;\r\n        }\r\n\r\n        if ([\"combo\", \"queryCombo\", \"list\", \"queryList\", \"radio\", \"queryRadio\", \"queryState\", ].includes(properties.type) || /^cascadingcombo$/i.test(properties.type)) {\r\n            if (value && value.length !== undefined)\r\n                value = value[0];\r\n            if (compareValue && compareValue.length !== undefined)\r\n                compareValue = compareValue[0];\r\n            value = value && value.id ? value.id : value;\r\n            compareValue = compareValue && compareValue.id ? compareValue.id : compareValue;\r\n            result = (compareValue == value) ? false : true;\r\n        } else if (properties.type == \"boolean\" || properties.type == \"queryBoolean\" || properties.type == \"queryCheck\") {\r\n            result = (bizagi.util.parseBoolean(compareValue) == bizagi.util.parseBoolean(value)) ? false : true;\r\n        } else if (properties.type == \"searchNumber\") {\r\n\r\n            result = (value) ? true : false;\r\n        } else if (properties.type === \"date\") {\r\n            result = (new Date(compareValue).getTime()) !== (new Date(value).getTime());\r\n        } else {\r\n            result = (compareValue === value) ? false : true;\r\n        }\r\n\r\n        return result;\r\n    };\r\n})(jQuery);\r\n\r\n(function ($) {\r\n    jQuery.getMaxZindex = function () {\r\n        var elm = $(\"*\");\r\n        var maxZindex = 1;\r\n\r\n        $.each(elm, function (key, value) {\r\n            var zindex = parseInt($(value).css(\"z-index\"));\r\n            if (zindex > maxZindex) {\r\n                maxZindex = zindex + 1;\r\n            }\r\n\r\n        });\r\n\r\n        return maxZindex;\r\n    }\r\n})(jQuery);\r\n\r\n/**\r\n * Set the same max height to multiples divs\r\n */\r\n(function ($) {\r\n    jQuery.equalizeHeights = function (selector) {\r\n        var heights = new Array();\r\n        // Loop to get all element heights\r\n        $(selector).each(function () {\r\n\r\n            // Need to let sizes be whatever they want so no overflow on resize\r\n            $(this).css('min-height', '0');\r\n            $(this).css('max-height', 'none');\r\n            $(this).css('height', 'auto');\r\n\r\n            // Then add size (no units) to array\r\n            heights.push($(this).outerHeight());\r\n        });\r\n\r\n        // Find max height of all elements\r\n        var max = Math.max.apply(Math, heights);\r\n\r\n        // Set all heights to max height\r\n        $(selector).each(function () {\r\n            $(this).css('height', max + 'px');\r\n        });\r\n    }\r\n})(jQuery);\r\n\r\n//TODO: DEPL - Move this to rendering\r\nbizagi.util.autoSave = function () {\r\n    var deferredSave = $.Deferred();\r\n\r\n    //if attr data-event exist trigger event auto-save or resolve the deferred\r\n    if (bizagi.util.detectDevice() !== \"desktop\") {\r\n        if ($(document).data('auto-save')) {\r\n            $(document).trigger('save-form', [deferredSave]);\r\n        } else {\r\n            deferredSave.resolve();\r\n        }\r\n    } else {\r\n        if ($._data($(document)[0], 'events')[\"save-form\"] && $._data($(document)[0], 'events')[\"save-form\"].length > 0) {\r\n            $(document).trigger('save-form', [deferredSave]);\r\n        } else {\r\n            deferredSave.resolve();\r\n        }\r\n    }\r\n    return deferredSave.promise();\r\n};\r\n//--  **Users Deleted** the name will fill on first reques in UsersPictures\r\nbizagi.util.anonymizedUserInformation = {\r\n    id: \"00000000-0000-0000-0000-000000000000\",\r\n    name: \"\",\r\n    username: \"\",\r\n    email: \"\",\r\n    domain: \"\",\r\n    picture: \"\",\r\n    isAnonymized: true\r\n};\r\n\r\n//-- **Resources for date picker**\r\nbizagi.util.datepickerResource=[];\r\n// taken  from https://github.com/jquery/jquery-ui/tree/master/ui/i18n\r\nbizagi.util.datepickerResource[\"en\"]={ closeText: \"Done\", prevText: \"Prev\",nextText: \"Next\",currentText: \"Today\",monthNames: [ \"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\" ],monthNamesShort: [ \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\",\"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\" ],dayNames: [ \"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\" ],dayNamesShort: [ \"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\" ],dayNamesMin: [ \"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\" ],weekHeader: \"Wk\",dateFormat: \"dd/mm/yy\",firstDay: 1,isRTL: false,showMonthAfterYear: false,yearSuffix: \"\" };\r\nbizagi.util.datepickerResource[\"es\"]={ closeText: \"Cerrar\", prevText: \"&#x3C;Ant\",nextText: \"Sig&#x3E;\",currentText: \"Hoy\",monthNames: [ \"enero\",\"febrero\",\"marzo\",\"abril\",\"mayo\",\"junio\",\"julio\",\"agosto\",\"septiembre\",\"octubre\",\"noviembre\",\"diciembre\" ],monthNamesShort: [ \"ene\",\"feb\",\"mar\",\"abr\",\"may\",\"jun\",\"jul\",\"ago\",\"sep\",\"oct\",\"nov\",\"dic\" ],dayNames: [ \"domingo\",\"lunes\",\"martes\",\"miércoles\",\"jueves\",\"viernes\",\"sábado\" ],dayNamesShort: [ \"dom\",\"lun\",\"mar\",\"mié\",\"jue\",\"vie\",\"sáb\" ],dayNamesMin: [ \"D\",\"L\",\"M\",\"X\",\"J\",\"V\",\"S\" ],weekHeader: \"Sm\",dateFormat: \"dd/mm/yy\",firstDay: 1,isRTL: false,showMonthAfterYear: false,yearSuffix: \"\" };\r\nbizagi.util.datepickerResource[\"ar\"]={ closeText: \"إغلاق\", prevText: \"&#x3C;السابق\",nextText: \"التالي&#x3E;\",currentText: \"اليوم\",monthNames: [ \"يناير\", \"فبراير\", \"مارس\", \"أبريل\", \"مايو\", \"يونيو\",\"يوليو\", \"أغسطس\", \"سبتمبر\", \"أكتوبر\", \"نوفمبر\", \"ديسمبر\" ],monthNamesShort: [ \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\" ],dayNames: [ \"الأحد\", \"الاثنين\", \"الثلاثاء\", \"الأربعاء\", \"الخميس\", \"الجمعة\", \"السبت\" ],dayNamesShort: [ \"أحد\", \"اثنين\", \"ثلاثاء\", \"أربعاء\", \"خميس\", \"جمعة\", \"سبت\" ],dayNamesMin: [ \"ح\", \"ن\", \"ث\", \"ر\", \"خ\", \"ج\", \"س\" ],weekHeader: \"أسبوع\",dateFormat: \"dd/mm/yy\",firstDay: 0,isRTL: true,showMonthAfterYear: false,yearSuffix: \"\" };\r\nbizagi.util.datepickerResource[\"cs\"]={ closeText: \"Zavřít\", prevText: \"&#x3C;Dříve\",nextText: \"Později&#x3E;\",currentText: \"Nyní\",monthNames: [ \"leden\",\"únor\",\"březen\",\"duben\",\"květen\",\"červen\",\"červenec\",\"srpen\",\"září\",\"říjen\",\"listopad\",\"prosinec\" ],monthNamesShort: [ \"led\",\"úno\",\"bře\",\"dub\",\"kvě\",\"čer\",\"čvc\",\"srp\",\"zář\",\"říj\",\"lis\",\"pro\" ],dayNames: [ \"neděle\", \"pondělí\", \"úterý\", \"středa\", \"čtvrtek\", \"pátek\", \"sobota\" ],dayNamesShort: [ \"ne\", \"po\", \"út\", \"st\", \"čt\", \"pá\", \"so\" ],dayNamesMin: [ \"ne\",\"po\",\"út\",\"st\",\"čt\",\"pá\",\"so\" ],weekHeader: \"Týd\",dateFormat: \"dd.mm.yy\",firstDay: 1,isRTL: false,showMonthAfterYear: false,yearSuffix: \"\" };\r\nbizagi.util.datepickerResource[\"de\"]={ closeText: \"Schließen\", prevText: \"&#x3C;Zurück\",nextText: \"Vor&#x3E;\",currentText: \"Heute\",monthNames: [ \"Januar\",\"Februar\",\"März\",\"April\",\"Mai\",\"Juni\",\"Juli\",\"August\",\"September\",\"Oktober\",\"November\",\"Dezember\" ],monthNamesShort: [ \"Jan\",\"Feb\",\"Mär\",\"Apr\",\"Mai\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Okt\",\"Nov\",\"Dez\" ],dayNames: [ \"Sonntag\",\"Montag\",\"Dienstag\",\"Mittwoch\",\"Donnerstag\",\"Freitag\",\"Samstag\" ],dayNamesShort: [ \"So\",\"Mo\",\"Di\",\"Mi\",\"Do\",\"Fr\",\"Sa\" ],dayNamesMin: [ \"So\",\"Mo\",\"Di\",\"Mi\",\"Do\",\"Fr\",\"Sa\" ],weekHeader: \"KW\",dateFormat: \"dd.mm.yy\",firstDay: 1,isRTL: false,showMonthAfterYear: false,yearSuffix: \"\" };\r\nbizagi.util.datepickerResource[\"fr\"]={ closeText: \"Fermer\", prevText: \"Précédent\",nextText: \"Suivant\",currentText: \"Aujourd'hui\",monthNames: [ \"janvier\", \"février\", \"mars\", \"avril\", \"mai\", \"juin\",\"juillet\", \"août\", \"septembre\", \"octobre\", \"novembre\", \"décembre\" ],monthNamesShort: [ \"janv.\", \"févr.\", \"mars\", \"avr.\", \"mai\", \"juin\", \"juil.\", \"août\", \"sept.\", \"oct.\", \"nov.\", \"déc.\" ],dayNames: [ \"dimanche\", \"lundi\", \"mardi\", \"mercredi\", \"jeudi\", \"vendredi\", \"samedi\" ],dayNamesShort: [ \"dim.\", \"lun.\", \"mar.\", \"mer.\", \"jeu.\", \"ven.\", \"sam.\" ],dayNamesMin: [ \"D\",\"L\",\"M\",\"M\",\"J\",\"V\",\"S\" ],weekHeader: \"Sem.\",dateFormat: \"dd/mm/yy\",firstDay: 1,isRTL: false,showMonthAfterYear: false,yearSuffix: \"\" };\r\nbizagi.util.datepickerResource[\"it\"]={ closeText: \"Chiudi\", prevText: \"&#x3C;Prec\",nextText: \"Succ&#x3E;\",currentText: \"Oggi\",monthNames: [ \"Gennaio\",\"Febbraio\",\"Marzo\",\"Aprile\",\"Maggio\",\"Giugno\",\"Luglio\",\"Agosto\",\"Settembre\",\"Ottobre\",\"Novembre\",\"Dicembre\" ],monthNamesShort: [ \"Gen\",\"Feb\",\"Mar\",\"Apr\",\"Mag\",\"Giu\",\"Lug\",\"Ago\",\"Set\",\"Ott\",\"Nov\",\"Dic\" ],dayNames: [ \"Domenica\",\"Lunedì\",\"Martedì\",\"Mercoledì\",\"Giovedì\",\"Venerdì\",\"Sabato\" ],dayNamesShort: [ \"Dom\",\"Lun\",\"Mar\",\"Mer\",\"Gio\",\"Ven\",\"Sab\" ],dayNamesMin: [ \"Do\",\"Lu\",\"Ma\",\"Me\",\"Gi\",\"Ve\",\"Sa\" ],weekHeader: \"Sm\",dateFormat: \"dd/mm/yy\",firstDay: 1,isRTL: false,showMonthAfterYear: false,yearSuffix: \"\" };\r\nbizagi.util.datepickerResource[\"ja\"]={ closeText: \"閉じる\", prevText: \"&#x3C;前\",nextText: \"次&#x3E;\",currentText: \"今日\",monthNames: [ \"1月\",\"2月\",\"3月\",\"4月\",\"5月\",\"6月\",\"7月\",\"8月\",\"9月\",\"10月\",\"11月\",\"12月\" ],monthNamesShort: [ \"1月\",\"2月\",\"3月\",\"4月\",\"5月\",\"6月\",\"7月\",\"8月\",\"9月\",\"10月\",\"11月\",\"12月\" ],dayNames: [ \"日曜日\",\"月曜日\",\"火曜日\",\"水曜日\",\"木曜日\",\"金曜日\",\"土曜日\" ],dayNamesShort: [ \"日\",\"月\",\"火\",\"水\",\"木\",\"金\",\"土\" ],dayNamesMin: [ \"日\",\"月\",\"火\",\"水\",\"木\",\"金\",\"土\" ],weekHeader: \"週\",dateFormat: \"yy/mm/dd\",firstDay: 0,isRTL: false,showMonthAfterYear: true,yearSuffix: \"年\" };\r\nbizagi.util.datepickerResource[\"nl\"]={ closeText: \"Sluiten\", prevText: \"←\",nextText: \"→\",currentText: \"Vandaag\",monthNames: [ \"januari\", \"februari\", \"maart\", \"april\", \"mei\", \"juni\",\"juli\", \"augustus\", \"september\", \"oktober\", \"november\", \"december\" ],monthNamesShort: [ \"jan\", \"feb\", \"mrt\", \"apr\", \"mei\", \"jun\",\"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\" ],dayNames: [ \"zondag\", \"maandag\", \"dinsdag\", \"woensdag\", \"donderdag\", \"vrijdag\", \"zaterdag\" ],dayNamesShort: [ \"zon\", \"maa\", \"din\", \"woe\", \"don\", \"vri\", \"zat\" ],dayNamesMin: [ \"zo\", \"ma\", \"di\", \"wo\", \"do\", \"vr\", \"za\" ],weekHeader: \"Wk\",dateFormat: \"dd-mm-yy\",firstDay: 1,isRTL: false,showMonthAfterYear: false,yearSuffix: \"\" };\r\nbizagi.util.datepickerResource[\"pt\"]={ closeText: \"Fechar\", prevText: \"Anterior\",nextText: \"Seguinte\",currentText: \"Hoje\",monthNames: [ \"Janeiro\",\"Fevereiro\",\"Março\",\"Abril\",\"Maio\",\"Junho\",\"Julho\",\"Agosto\",\"Setembro\",\"Outubro\",\"Novembro\",\"Dezembro\" ],monthNamesShort: [ \"Jan\",\"Fev\",\"Mar\",\"Abr\",\"Mai\",\"Jun\",\"Jul\",\"Ago\",\"Set\",\"Out\",\"Nov\",\"Dez\" ],dayNames: [\"Domingo\",\"Segunda-feira\",\"Terça-feira\",\"Quarta-feira\",\"Quinta-feira\",\"Sexta-feira\",\"Sábado\"],dayNamesShort: [ \"Dom\",\"Seg\",\"Ter\",\"Qua\",\"Qui\",\"Sex\",\"Sáb\" ],dayNamesMin: [ \"Dom\",\"Seg\",\"Ter\",\"Qua\",\"Qui\",\"Sex\",\"Sáb\" ],weekHeader: \"Sem\",dateFormat: \"dd/mm/yy\",firstDay: 1,isRTL: false,showMonthAfterYear: false,yearSuffix: \"\" };\r\nbizagi.util.datepickerResource[\"ru\"]={ closeText: \"Закрыть\", prevText: \"&#x3C;Пред\",nextText: \"След&#x3E;\",currentText: \"Сегодня\",monthNames: [ \"Январь\",\"Февраль\",\"Март\",\"Апрель\",\"Май\",\"Июнь\",\"Июль\",\"Август\",\"Сентябрь\",\"Октябрь\",\"Ноябрь\",\"Декабрь\" ],monthNamesShort: [ \"Янв\",\"Фев\",\"Мар\",\"Апр\",\"Май\",\"Июн\",\"Июл\",\"Авг\",\"Сен\",\"Окт\",\"Ноя\",\"Дек\" ],dayNames: [ \"воскресенье\",\"понедельник\",\"вторник\",\"среда\",\"четверг\",\"пятница\",\"суббота\" ],dayNamesShort: [ \"вск\",\"пнд\",\"втр\",\"срд\",\"чтв\",\"птн\",\"сбт\" ],dayNamesMin: [ \"Вс\",\"Пн\",\"Вт\",\"Ср\",\"Чт\",\"Пт\",\"Сб\" ],weekHeader: \"Нед\",dateFormat: \"dd.mm.yy\",firstDay: 1,isRTL: false,showMonthAfterYear: false,yearSuffix: \"\" };\r\nbizagi.util.datepickerResource[\"zh\"]={ closeText: \"关闭\", prevText: \"&#x3C;上月\",nextText: \"下月&#x3E;\",currentText: \"今天\",monthNames: [ \"一月\",\"二月\",\"三月\",\"四月\",\"五月\",\"六月\",\"七月\",\"八月\",\"九月\",\"十月\",\"十一月\",\"十二月\" ],monthNamesShort: [ \"一月\",\"二月\",\"三月\",\"四月\",\"五月\",\"六月\",\"七月\",\"八月\",\"九月\",\"十月\",\"十一月\",\"十二月\" ],dayNames: [ \"星期日\",\"星期一\",\"星期二\",\"星期三\",\"星期四\",\"星期五\",\"星期六\" ],dayNamesShort: [ \"周日\",\"周一\",\"周二\",\"周三\",\"周四\",\"周五\",\"周六\" ],dayNamesMin: [ \"日\",\"一\",\"二\",\"三\",\"四\",\"五\",\"六\" ],weekHeader: \"周\",dateFormat: \"yy-mm-dd\",firstDay: 1,isRTL: false,showMonthAfterYear: true,yearSuffix: \"年\" };\r\n\r\n//--  **Communication between Workportal and LiveProcesses**\r\n\r\n// Create new Live Process\r\nbizagi.util.liveProcessesEvents = bizagi.util.liveProcessesEvents || {};\r\nbizagi.util.liveProcessesEvents.newLiveProcess = document.createEvent('Event');\r\nbizagi.util.liveProcessesEvents.newLiveProcess.initEvent('new-live-process', true, true);\r\n\r\n// Event for changing route inside LiveProcesses\r\nbizagi.util.liveProcessesEvents.routeEvents = document.createEvent('Event');\r\nbizagi.util.liveProcessesEvents.routeEvents.initEvent('parent-route-events', true, true);\r\nbizagi.util.liveProcessesEvents.routeEvents.route = '/';\r\n\r\n// Verify save condition\r\nbizagi.util.liveProcessesEvents.saveEvent = document.createEvent('Event');\r\nbizagi.util.liveProcessesEvents.saveEvent.initEvent('save-live', true, true);\r\nbizagi.util.liveProcessesEvents.saveEvent.lastWidget = '';\r\nbizagi.util.liveProcessesEvents.saveEvent.nextWidget = '';\r\n\r\nbizagi.util.liveSave = function (widgetName) {\r\n    bizagi.util.liveProcessesEvents.saveEvent.nextWidget = widgetName;\r\n    var deferredLiveSave = $.Deferred();\r\n    var indeX = 0;\r\n    // next try/catch avoids crossdomain messages in the middle of \"Next button\" execution\r\n    try {\r\n        indeX = $(document).find('iframe')[0].contentWindow.location.href.indexOf('quickprocess');\r\n    }\r\n    catch (e) {\r\n        indeX = -1;\r\n    }\r\n    if (\r\n        (widgetName !== bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_PROFLY || widgetName === bizagi.util.liveProcessesEvents.saveEvent.lastWidget) &&\r\n        $(document).find('iframe').length > 0 && (indeX > 0)\r\n    ) {\r\n        bizagi.util.liveProcessesEvents.saveEvent.saveLivePromise = deferredLiveSave;\r\n        document.dispatchEvent(bizagi.util.liveProcessesEvents.saveEvent);\r\n    } else {\r\n        deferredLiveSave.resolve();\r\n    }\r\n    $.when(deferredLiveSave).done(function () { bizagi.util.liveProcessesEvents.saveEvent.lastWidget = widgetName })\r\n    return deferredLiveSave.promise();\r\n};\r\n\r\n/**\r\n * CryptoJS MD5\r\n * @param {} message\r\n * @returns {}\r\n */\r\nbizagi.util.md5 = function (message) {\r\n    // Code here will be linted with JSHint.\r\n    /* jshint ignore:start */\r\n    var CryptoJS = CryptoJS || function (s, p) { var m = {}, l = m.lib = {}, n = function () { }, r = l.Base = { extend: function (b) { n.prototype = this; var h = new n; b && h.mixIn(b); h.hasOwnProperty(\"init\") || (h.init = function () { h.$super.init.apply(this, arguments) }); h.init.prototype = h; h.$super = this; return h }, create: function () { var b = this.extend(); b.init.apply(b, arguments); return b }, init: function () { }, mixIn: function (b) { for (var h in b) b.hasOwnProperty(h) && (this[h] = b[h]); b.hasOwnProperty(\"toString\") && (this.toString = b.toString) }, clone: function () { return this.init.prototype.extend(this) } }, q = l.WordArray = r.extend({ init: function (b, h) { b = this.words = b || []; this.sigBytes = h != p ? h : 4 * b.length }, toString: function (b) { return (b || t).stringify(this) }, concat: function (b) { var h = this.words, a = b.words, j = this.sigBytes; b = b.sigBytes; this.clamp(); if (j % 4) for (var g = 0; g < b; g++) h[j + g >>> 2] |= (a[g >>> 2] >>> 24 - 8 * (g % 4) & 255) << 24 - 8 * ((j + g) % 4); else if (65535 < a.length) for (g = 0; g < b; g += 4) h[j + g >>> 2] = a[g >>> 2]; else h.push.apply(h, a); this.sigBytes += b; return this }, clamp: function () { var b = this.words, h = this.sigBytes; b[h >>> 2] &= 4294967295 << 32 - 8 * (h % 4); b.length = s.ceil(h / 4) }, clone: function () { var b = r.clone.call(this); b.words = this.words.slice(0); return b }, random: function (b) { for (var h = [], a = 0; a < b; a += 4) h.push(4294967296 * s.random() | 0); return new q.init(h, b) } }), v = m.enc = {}, t = v.Hex = { stringify: function (b) { var a = b.words; b = b.sigBytes; for (var g = [], j = 0; j < b; j++) { var k = a[j >>> 2] >>> 24 - 8 * (j % 4) & 255; g.push((k >>> 4).toString(16)); g.push((k & 15).toString(16)) } return g.join(\"\") }, parse: function (b) { for (var a = b.length, g = [], j = 0; j < a; j += 2) g[j >>> 3] |= parseInt(b.substr(j, 2), 16) << 24 - 4 * (j % 8); return new q.init(g, a / 2) } }, a = v.Latin1 = { stringify: function (b) { var a = b.words; b = b.sigBytes; for (var g = [], j = 0; j < b; j++) g.push(String.fromCharCode(a[j >>> 2] >>> 24 - 8 * (j % 4) & 255)); return g.join(\"\") }, parse: function (b) { for (var a = b.length, g = [], j = 0; j < a; j++) g[j >>> 2] |= (b.charCodeAt(j) & 255) << 24 - 8 * (j % 4); return new q.init(g, a) } }, u = v.Utf8 = { stringify: function (b) { try { return decodeURIComponent(escape(a.stringify(b))) } catch (g) { throw Error(\"Malformed UTF-8 data\"); } }, parse: function (b) { return a.parse(unescape(encodeURIComponent(b))) } }, g = l.BufferedBlockAlgorithm = r.extend({ reset: function () { this._data = new q.init; this._nDataBytes = 0 }, _append: function (b) { \"string\" == typeof b && (b = u.parse(b)); this._data.concat(b); this._nDataBytes += b.sigBytes }, _process: function (b) { var a = this._data, g = a.words, j = a.sigBytes, k = this.blockSize, m = j / (4 * k), m = b ? s.ceil(m) : s.max((m | 0) - this._minBufferSize, 0); b = m * k; j = s.min(4 * b, j); if (b) { for (var l = 0; l < b; l += k) this._doProcessBlock(g, l); l = g.splice(0, b); a.sigBytes -= j } return new q.init(l, j) }, clone: function () { var b = r.clone.call(this); b._data = this._data.clone(); return b }, _minBufferSize: 0 }); l.Hasher = g.extend({ cfg: r.extend(), init: function (b) { this.cfg = this.cfg.extend(b); this.reset() }, reset: function () { g.reset.call(this); this._doReset() }, update: function (b) { this._append(b); this._process(); return this }, finalize: function (b) { b && this._append(b); return this._doFinalize() }, blockSize: 16, _createHelper: function (b) { return function (a, g) { return (new b.init(g)).finalize(a) } }, _createHmacHelper: function (b) { return function (a, g) { return (new k.HMAC.init(b, g)).finalize(a) } } }); var k = m.algo = {}; return m }(Math); (function (s) { function p(a, k, b, h, l, j, m) { a = a + (k & b | ~k & h) + l + m; return (a << j | a >>> 32 - j) + k } function m(a, k, b, h, l, j, m) { a = a + (k & h | b & ~h) + l + m; return (a << j | a >>> 32 - j) + k } function l(a, k, b, h, l, j, m) { a = a + (k ^ b ^ h) + l + m; return (a << j | a >>> 32 - j) + k } function n(a, k, b, h, l, j, m) { a = a + (b ^ (k | ~h)) + l + m; return (a << j | a >>> 32 - j) + k } for (var r = CryptoJS, q = r.lib, v = q.WordArray, t = q.Hasher, q = r.algo, a = [], u = 0; 64 > u; u++) a[u] = 4294967296 * s.abs(s.sin(u + 1)) | 0; q = q.MD5 = t.extend({ _doReset: function () { this._hash = new v.init([1732584193, 4023233417, 2562383102, 271733878]) }, _doProcessBlock: function (g, k) { for (var b = 0; 16 > b; b++) { var h = k + b, w = g[h]; g[h] = (w << 8 | w >>> 24) & 16711935 | (w << 24 | w >>> 8) & 4278255360 } var b = this._hash.words, h = g[k + 0], w = g[k + 1], j = g[k + 2], q = g[k + 3], r = g[k + 4], s = g[k + 5], t = g[k + 6], u = g[k + 7], v = g[k + 8], x = g[k + 9], y = g[k + 10], z = g[k + 11], A = g[k + 12], B = g[k + 13], C = g[k + 14], D = g[k + 15], c = b[0], d = b[1], e = b[2], f = b[3], c = p(c, d, e, f, h, 7, a[0]), f = p(f, c, d, e, w, 12, a[1]), e = p(e, f, c, d, j, 17, a[2]), d = p(d, e, f, c, q, 22, a[3]), c = p(c, d, e, f, r, 7, a[4]), f = p(f, c, d, e, s, 12, a[5]), e = p(e, f, c, d, t, 17, a[6]), d = p(d, e, f, c, u, 22, a[7]), c = p(c, d, e, f, v, 7, a[8]), f = p(f, c, d, e, x, 12, a[9]), e = p(e, f, c, d, y, 17, a[10]), d = p(d, e, f, c, z, 22, a[11]), c = p(c, d, e, f, A, 7, a[12]), f = p(f, c, d, e, B, 12, a[13]), e = p(e, f, c, d, C, 17, a[14]), d = p(d, e, f, c, D, 22, a[15]), c = m(c, d, e, f, w, 5, a[16]), f = m(f, c, d, e, t, 9, a[17]), e = m(e, f, c, d, z, 14, a[18]), d = m(d, e, f, c, h, 20, a[19]), c = m(c, d, e, f, s, 5, a[20]), f = m(f, c, d, e, y, 9, a[21]), e = m(e, f, c, d, D, 14, a[22]), d = m(d, e, f, c, r, 20, a[23]), c = m(c, d, e, f, x, 5, a[24]), f = m(f, c, d, e, C, 9, a[25]), e = m(e, f, c, d, q, 14, a[26]), d = m(d, e, f, c, v, 20, a[27]), c = m(c, d, e, f, B, 5, a[28]), f = m(f, c, d, e, j, 9, a[29]), e = m(e, f, c, d, u, 14, a[30]), d = m(d, e, f, c, A, 20, a[31]), c = l(c, d, e, f, s, 4, a[32]), f = l(f, c, d, e, v, 11, a[33]), e = l(e, f, c, d, z, 16, a[34]), d = l(d, e, f, c, C, 23, a[35]), c = l(c, d, e, f, w, 4, a[36]), f = l(f, c, d, e, r, 11, a[37]), e = l(e, f, c, d, u, 16, a[38]), d = l(d, e, f, c, y, 23, a[39]), c = l(c, d, e, f, B, 4, a[40]), f = l(f, c, d, e, h, 11, a[41]), e = l(e, f, c, d, q, 16, a[42]), d = l(d, e, f, c, t, 23, a[43]), c = l(c, d, e, f, x, 4, a[44]), f = l(f, c, d, e, A, 11, a[45]), e = l(e, f, c, d, D, 16, a[46]), d = l(d, e, f, c, j, 23, a[47]), c = n(c, d, e, f, h, 6, a[48]), f = n(f, c, d, e, u, 10, a[49]), e = n(e, f, c, d, C, 15, a[50]), d = n(d, e, f, c, s, 21, a[51]), c = n(c, d, e, f, A, 6, a[52]), f = n(f, c, d, e, q, 10, a[53]), e = n(e, f, c, d, y, 15, a[54]), d = n(d, e, f, c, w, 21, a[55]), c = n(c, d, e, f, v, 6, a[56]), f = n(f, c, d, e, D, 10, a[57]), e = n(e, f, c, d, t, 15, a[58]), d = n(d, e, f, c, B, 21, a[59]), c = n(c, d, e, f, r, 6, a[60]), f = n(f, c, d, e, z, 10, a[61]), e = n(e, f, c, d, j, 15, a[62]), d = n(d, e, f, c, x, 21, a[63]); b[0] = b[0] + c | 0; b[1] = b[1] + d | 0; b[2] = b[2] + e | 0; b[3] = b[3] + f | 0 }, _doFinalize: function () { var a = this._data, k = a.words, b = 8 * this._nDataBytes, h = 8 * a.sigBytes; k[h >>> 5] |= 128 << 24 - h % 32; var l = s.floor(b / 4294967296); k[(h + 64 >>> 9 << 4) + 15] = (l << 8 | l >>> 24) & 16711935 | (l << 24 | l >>> 8) & 4278255360; k[(h + 64 >>> 9 << 4) + 14] = (b << 8 | b >>> 24) & 16711935 | (b << 24 | b >>> 8) & 4278255360; a.sigBytes = 4 * (k.length + 1); this._process(); a = this._hash; k = a.words; for (b = 0; 4 > b; b++) h = k[b], k[b] = (h << 8 | h >>> 24) & 16711935 | (h << 24 | h >>> 8) & 4278255360; return a }, clone: function () { var a = t.clone.call(this); a._hash = this._hash.clone(); return a } }); r.MD5 = t._createHelper(q); r.HmacMD5 = t._createHmacHelper(q) })(Math);\r\n    /* jshint ignore:end */\r\n    return CryptoJS.MD5(message).toString();\r\n};\r\n\r\n/**\r\n * Replace all coincidences in a text, based on key value object\r\n *  @argument mapDataToReplace = {\"keyTofind\":\"valueToReplace\",...}\r\n */\r\nbizagi.util.multiReplace = function (text, mapDataToReplace) {\r\n    mapDataToReplace = mapDataToReplace || {};\r\n\r\n    for (var key in mapDataToReplace) {\r\n        var reg = new RegExp(key, \"g\");\r\n        text = text.replace(reg, mapDataToReplace[key]);\r\n    }\r\n    return text;\r\n};\r\n/*\r\n *   Creates a replace all method that is left from the String Class\r\n */\r\nbizagi.util.replaceAll = function (text, pcFrom, pcTo) {\r\n    // Call the method located in bizagi.loader\r\n    return bizagi.replaceAll(text, pcFrom, pcTo);\r\n};\r\n/*\r\n *replaces global expressions regulars\r\n */\r\nbizagi.util.replaceAllGlobalRegExp = function (text, pcFrom, pcTo) {\r\n    var temp = text;\r\n\r\n    var re = new RegExp(pcFrom, \"g\");\r\n    temp = temp.replace(re, pcTo);\r\n\r\n    return temp.toString();\r\n};\r\n// Also append it to the string class\r\nString.prototype.replaceAll = function (pcFrom, pcTo) {\r\n    return bizagi.util.replaceAll(this, pcFrom, pcTo);\r\n};\r\n// Capitalize a string\r\nString.prototype.capitalize = function () {\r\n    return this.charAt(0).toUpperCase() + this.slice(1);\r\n};\r\n// Add this (Create an starts with function) to the string prototype\r\nString.prototype.startsWith = function (str) {\r\n    return this.slice(0, str.length) == str;\r\n};\r\n\r\n/**\r\n * get Initials of a string/name and if the name is empty return the anonymized icon\r\n */\r\nString.prototype.getInitials = function () {\r\n    var initials = \"\";\r\n    if (this.length===0) {\r\n        initials = '<svg  class=\"bz-icon bz-icon-24 bz-icon-svg\"><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-user-deactivated\"></use></svg>';\r\n    } else {\r\n        try {\r\n            var removeRepeatSpaces = this.replace(/  +/g, ' ');\r\n            var words = removeRepeatSpaces.split(' ');\r\n            for (var i = 0; i < words.length; i += 1) {\r\n                initials += words[i][0] || '';\r\n                if (initials.length == 2) {\r\n                    break;\r\n                }\r\n            }\r\n        } catch (e) { }\r\n    \r\n        initials = initials.toUpperCase();\r\n    }\r\n    return initials;\r\n};\r\n\r\nMath.sign = Math.sign || function (x) {\r\n    x = +x; // convert to a number\r\n    if (x === 0 || isNaN(x)) {\r\n        return x;\r\n    }\r\n    return x > 0 ? 1 : -1;\r\n}\r\n\r\n// Add a clone to the object prototype\r\nbizagi.clone = function (obj) {\r\n    return JSON.parse(JSON.encode(obj));\r\n};\r\n// Measures the pixel size of a string\r\nbizagi.measureString = function (string, fontSize) {\r\n    var test = $(\"<span/>\").appendTo(\"body\");\r\n    test.text(string);\r\n    if (fontSize)\r\n        test.css(\"font-size\", fontSize);\r\n    var width = test.width();\r\n    test.detach();\r\n    return width;\r\n};\r\n/*\r\n *   Creates a trim method\r\n */\r\nbizagi.util.trim = function (text) {\r\n    if (typeof (text) === \"undefined\" || text == null)\r\n        return text;\r\n    // Call the method located in bizagi.loader\r\n    return text.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\r\n};\r\n// Create an ends with function\r\nString.prototype.endsWith = function (suffix) {\r\n    return this.indexOf(suffix, this.length - suffix.length) !== -1;\r\n};\r\n\r\n/*\r\n * Method to detect IE7 visitors\r\n */\r\nbizagi.util.isIE7 = function () {\r\n    return bizagi.util.isIE() && document.documentMode == 7;\r\n};\r\n/*\r\n * Method to detect IE8 visitors\r\n */\r\nbizagi.util.isIE8 = function () {\r\n    return bizagi.util.isIE() && document.documentMode == 8;\r\n};\r\n/*\r\n * Method to detect IE9 visitors\r\n */\r\nbizagi.util.isIE9 = function () {\r\n    return bizagi.util.isIE() && document.documentMode == 9;\r\n};\r\n/*\r\n * Method to detect IE10 visitors\r\n */\r\nbizagi.util.isIE10 = function () {\r\n    return bizagi.util.isIE() && document.documentMode == 10;\r\n};\r\n/*\r\n * Method to detect IE11 visitors\r\n */\r\nbizagi.util.isIE11 = function () {\r\n    return !!navigator.userAgent.match(/Trident\\/7.0/) && !navigator.userAgent.match(/MSIE/i);\r\n};\r\n\r\n/*\r\n * Method to detect IE11 or lower\r\n */\r\nbizagi.util.isIE11OrLower = function () {\r\n    return bizagi.util.isIE11() || bizagi.util.isIE10() || bizagi.util.isIE9() || bizagi.util.isIE8() || bizagi.util.isIE7();\r\n};\r\n\r\n/*\r\n * Method to detect IE10 or lower\r\n */\r\nbizagi.util.isIE10OrLower = function () {\r\n    return bizagi.util.isIE10() || bizagi.util.isIE9() || bizagi.util.isIE8() || bizagi.util.isIE7();\r\n};\r\n\r\n/*\r\n * Method to detect IE12 or Edge(Windows 10) visitors\r\n */\r\nbizagi.util.isEdge = function () {\r\n    if (/Edge\\/*./i.test(navigator.userAgent)) {\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n/*\r\n * Method to detect IE visitors\r\n */\r\nbizagi.util.isIE = function () {\r\n    return (navigator.appName.indexOf(\"Internet Explorer\") > 0 || !!navigator.userAgent.match(/Trident/));\r\n};\r\n/*\r\n * Get the specific version of IE \r\n */\r\nbizagi.util.getIEVersion = function () {\r\n    var sAgent = window.navigator.userAgent;\r\n    var indexMSIE = sAgent.indexOf(\"MSIE\");\r\n    var version = 0;\r\n    if (indexMSIE > 0) {\r\n        version = parseInt(sAgent.substring(indexMSIE + 5, sAgent.indexOf(\".\", indexMSIE)));\r\n    } else\r\n        if (!!navigator.userAgent.match(/Trident/) || window.navigator.userAgent.indexOf(\"Edge\") > -1) { // Condition Check IF IE 11 and or MS Edge\r\n            version = 11;\r\n        }\r\n    return version;\r\n};\r\n/*\r\n * Method to detect is chrome browser\r\n */\r\nbizagi.util.isChrome = function () {\r\n    return /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);\r\n};\r\n/*\r\n * Method to detect is Firefox browser\r\n */\r\nbizagi.util.isFirefox = function(minVersion) {\r\n    function getVersion() {\r\n        var ua=navigator.userAgent,tem,M=ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || []; \r\n        if(/trident/i.test(M[1])){\r\n            tem=/\\brv[ :]+(\\d+)/g.exec(ua) || []; \r\n            return {name:'IE',version:(tem[1]||'')};\r\n            }   \r\n        if(M[1]==='Chrome'){\r\n            tem=ua.match(/\\bOPR|Edge\\/(\\d+)/)\r\n            if(tem!=null)   {return {name:'Opera', version:tem[1]};}\r\n            }   \r\n        M=M[2]? [M[1], M[2]]: [navigator.appName, navigator.appVersion, '-?'];\r\n        if((tem=ua.match(/version\\/(\\d+)/i))!=null) {M.splice(1,1,tem[1]);}\r\n        return {\r\n          name: M[0],\r\n          version: M[1]\r\n        };   \r\n    }\r\n    return /Firefox/.test(navigator.userAgent) && (minVersion===undefined || minVersion<=getVersion().version);\r\n};\r\n/*\r\n * return the browser name this function can be modified if needs more browsers\r\n */\r\nbizagi.util.getBrowser = function() {\r\n    var bw=\"undetected\";\r\n    if(bizagi.util.isChrome()){\r\n        bw=\"chrome\";\r\n    }else if(bizagi.util.isFirefox()){\r\n        bw=\"firefox\";\r\n    }else if(bizagi.util.isEdge()){\r\n        bw=\"edge\";\r\n    }else if(bizagi.util.isIE11()){\r\n        bw=\"ie11\";\r\n    \r\n    }else if(bizagi.util.isIE10()){\r\n        bw=\"ie10\";\r\n    }\r\n    return bw;\r\n};\r\n\r\n/**\r\n * Empty Navigator Info\r\n */\r\nbizagi.util.emptyNavigatorInfo = function() {\r\n    if (bizagi.navigator && bizagi.navigator.info) {\r\n        bizagi.navigator.info={};\r\n    }\r\n};\r\n\r\n/**\r\n * Auto call setting the browser class for css specific selectors, etc..\r\n */\r\n$( document ).ready(function() {\r\n    $(\"html\").addClass(\"browser-\"+bizagi.util.getBrowser());\r\n    if (bizagi.language) {\r\n        var language=bizagi.language.split(\"-\");\r\n        if (language && language.length>0) {\r\n            $(\"html\").addClass(\"language-\"+language[0]);\r\n        }\r\n    }\r\n  });\r\n\r\n\r\n\r\n\r\n/**\r\n * Method to detect iOS version X and apply styles to that device \r\n */\r\nbizagi.util.setIphoneXOverrides = function () {\r\n    if (bizagi.util.isNativePluginSupported() && typeof (bizagiapp.isIphoneX) !== 'undefined') {\r\n        bizagiapp.isIphoneX(function (value) {\r\n            var flagIphoneX = value;\r\n            var styleIphoneX = \".bz-menu-home .bz-menu-carousel .bz-menu-carousel-seat{padding:0 16px 16px}.bz-home-header .km-navbar{padding:35px 16px 5px}#menuHome .bz-home-header .km-navbar{padding:30px 3px 0}#menuHome .km-navbar .km-rightitem{font-size:19px;right:.4em;top:32px}#menuHome .km-navbar .km-leftitem{font-size:24px;left:0;top:25px}#taskFeed .km-navbar .km-rightitem{font-size:19px;top:25px;right:0}#taskFeed .km-navbar .km-leftitem{font-size:24px;top:20px;left:0}#homePortal #menuHome .km-view-title .km-buttongroup{margin-left:0;top:2px}.bz-render-header,.search-container{padding-top:25px}#activity-search,.search-container .bz-wp-mu-button-search{padding-top:40px}#content-newCase-drawer{padding-top:25px}#menuHome{background:#EBEDF1!important}.km-flat .km-content{background-color:#fff} .k-loading-mask{top:0!important}\";\r\n\r\n            if (flagIphoneX === 'true') {\r\n                $('head').append('<style type=\"text/css\" id=\"iphoneXStyle\"></style>');\r\n                $('#iphoneXStyle').text(styleIphoneX);\r\n\r\n            } else if (bizagi.util.isiOSDevice()) {\r\n                $('head').append('<style type=\"text/css\" id=\"iphoneStyle\"></style>');\r\n                var paddingStyle = \"#homePortal .bz-home-header > div{padding-top:.8em}\";\r\n                $('#iphoneStyle').text(paddingStyle);\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nbizagi.util.isString = function (value) {\r\n    return Object.prototype.toString.apply(value) === \"[object String]\";\r\n};\r\n\r\nbizagi.util.isObject = function (value) {\r\n    return Object.prototype.toString.apply(value) === \"[object Object]\";\r\n};\r\n\r\nbizagi.util.isArray = function (value) {\r\n    return Array.isArray(value);\r\n};\r\nbizagi.util.isNull = function (value) {\r\n    return Object.prototype.toString.apply(value) === \"[object Null]\";\r\n};\r\nbizagi.util.isBoolean = function (value) {\r\n    return Object.prototype.toString.apply(value) === \"[object Boolean]\";\r\n};\r\n\r\n/*\r\n *   Method to detect IE version\r\n */\r\nbizagi.util.getInternetExplorerVersion = function () {\r\n    if (!bizagi.util.isIE())\r\n        return -1;\r\n    return Number(document.documentMode);\r\n};\r\n/*  \r\n *   Detect a device based on the width\r\n */\r\nbizagi.util.detectDevice = function () {\r\n    // Call the method located in bizagi.loader\r\n    return bizagi.detectDevice();\r\n};\r\n\r\n// Check if a string is number\r\nbizagi.util.isNumeric = function (n) {\r\n    return !isNaN(parseFloat(n)) && isFinite(n);\r\n};\r\n\r\n// Check if a string is GUID\r\nbizagi.util.isGUID = function (n) {\r\n    return /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(n);\r\n};\r\n// Throw not implemented exception\r\nbizagi.util.mustImplement = function (notImplementedMethod) {\r\n    try {\r\n        console.log(\"Not implemented exception: \" + notImplementedMethod);\r\n    } catch (exe) { //IE console variable not exist\r\n    }\r\n    //throw \"You must implement \" + notImplementedMethod;\r\n};\r\n// Encodes the xpath \r\nbizagi.util.encodeXpath = function (xpath) {\r\n    if (bizagi.util.isEmpty(xpath) || typeof xpath.replaceAll === \"undefined\")\r\n        return \"\";\r\n    return xpath.replaceAll(\".\", \"_\").replaceAll(\"=\", \"_\").replaceAll(\"[\", \"_\").replaceAll(\"]\", \"_\");\r\n};\r\n// Parses a value to return the correct boolean value\r\nbizagi.util.parseBoolean = function (value) {\r\n    if (value === undefined) {\r\n        return null;\r\n    }\r\n\r\n    if (value === null) {\r\n        return null;\r\n    }\r\n\r\n    if (value === '') {\r\n        return null;\r\n    }\r\n\r\n    // Parse true values\r\n    if (value === true || value === 1 || value.toString() === \"true\" || value === \"1\") {\r\n        return true;\r\n    }\r\n    if (value.toString().toLowerCase() === \"true\") {\r\n        return true;\r\n    }\r\n\r\n    // Parse false values\r\n    if ((value !== null && value === false) || value === 0 || value.toString() === \"false\" || value === \"0\") {\r\n        return false;\r\n    }\r\n    if (value.toString().toLowerCase() === \"false\") {\r\n        return false;\r\n    }\r\n\r\n    return null;\r\n};\r\n/*\r\n *   Checks if a given string is empty\r\n */\r\nbizagi.util.isEmpty = function (value) {\r\n    if (value === 0)\r\n        return false;\r\n\r\n    if (value === undefined || value === null || value === \"\") {\r\n        return true;\r\n    }\r\n\r\n    if (typeof (value) === \"Array\") {\r\n        return value.length == 0;\r\n    }\r\n\r\n    if (Object.prototype.toString.apply(value) === \"[object Array]\") {\r\n        return value.length === 0;\r\n    }\r\n\r\n    if (Object.prototype.toString.apply(value) === \"[object Object]\") {\r\n        if ($.isEmptyObject(value)) {\r\n            return true;\r\n        } else {\r\n            return bizagi.util.isEmptyCombo(value);\r\n        }\r\n    }\r\n\r\n    // Side effect - I can't delete the last item in the multiselect and searchlist\r\n   /* if (value == \"{\\\"value\\\":[]}\"){\r\n        return true;\r\n    }  */\r\n\r\n    return false;\r\n};\r\n\r\nbizagi.util.isEmptyCombo = function (object) {\r\n    if (Object.prototype.toString.apply(object) === \"[object Object]\") {\r\n        var property, id = false,\r\n            value = false,\r\n            other = false;\r\n        for (property in object) {\r\n            if (object.hasOwnProperty(property)) {\r\n                if (property === \"id\") {\r\n                    id = true;\r\n                } else {\r\n                    if (property === \"value\") {\r\n                        value = true;\r\n                    } else {\r\n                        other = true;\r\n                    }\r\n                }\r\n                if (other) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        if (id) {\r\n            if (object[\"id\"] === \"\") {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    return undefined;\r\n};\r\n\r\n/**\r\n * Decode data from encodeURI charset\r\n */\r\nbizagi.util.decodeURI = function (value) {\r\n    value = value || \"\";\r\n    var finishDecoded = false;\r\n    var decodedValue = value;\r\n    var infinityControl;\r\n\r\n    // Try to decode data value\r\n    while (!finishDecoded) {\r\n        try {\r\n            infinityControl = decodeURI(decodedValue);\r\n            if (bizagi.util.hasNonVisibleChars(infinityControl)) {\r\n                decodedValue = value;\r\n                break;\r\n            }\r\n            if (infinityControl == decodedValue) {\r\n                finishDecoded = true;\r\n            } else {\r\n                decodedValue = infinityControl;\r\n            }\r\n        } catch (e) {\r\n            finishDecoded = true;\r\n        }\r\n    }\r\n\r\n    return decodedValue;\r\n};\r\n\r\nbizagi.util.hasNonVisibleChars = function (value) {\r\n    value = value || \"\";\r\n    var length = value.length;\r\n    var i = 0,\r\n        result = false,\r\n        ch;\r\n    for (; i < length;) {\r\n        ch = value.charCodeAt(i++);\r\n        if (ch < 32 || ch > 126) {\r\n            result = true;\r\n            break;\r\n        }\r\n    }\r\n    return result;\r\n};\r\n\r\n/* \r\n *   Converts a percent into a number\r\n */\r\nbizagi.util.percent2Number = function (value) {\r\n    return Number(String(value).replace(\"%\", \"\"));\r\n};\r\n/*\r\n *   Check if a object is empty\r\n */\r\nbizagi.util.isObjectEmpty = function (obj) {\r\n    if (obj.length > 0)\r\n        return false;\r\n    return true;\r\n};\r\n/*\r\n *   Check if a map object is empty\r\n */\r\nbizagi.util.isMapEmpty = function (map) {\r\n    // First we validate a special case\r\n    if (map.length == 1 && map[0].length == 0)\r\n        return true;\r\n    // Then we do normal validation\r\n    for (var key in map) {\r\n        if (map.hasOwnProperty(key)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n};\r\n/*\r\n *   Replaces a matched selector in the container for the specified \"replace\" element\r\n */\r\nbizagi.util.replaceSelector = function (container, selector, replace) {\r\n    // Replace children tag\r\n    var elementToReplace = $(selector, container);\r\n    if (elementToReplace.length > 0) {\r\n        elementToReplace.append(replace);\r\n        elementToReplace.children().unwrap();\r\n    }\r\n};\r\n/*\r\n *   Determines if a control as a scrollbar \r\n */\r\nbizagi.util.hasScroll = function (el, direction) {\r\n    if (el.length)\r\n        el = el[0];\r\n    direction = (direction === 'vertical') ? 'scrollTop' : 'scrollLeft';\r\n    var result = !!el[direction];\r\n    if (!result) {\r\n        el[direction] = 1;\r\n        result = !!el[direction];\r\n        el[direction] = 0;\r\n    }\r\n    return result;\r\n};\r\n\r\n//TODO: DEPL - Rename this to areIdenticalObjects\r\nbizagi.util.identicalObjects = function (obj1, obj2) {\r\n    var self = this;\r\n\r\n    if (typeof (obj1) !== typeof (obj2)) {\r\n        return false;\r\n    }\r\n\r\n    if (typeof (obj1) === \"function\") {\r\n        return obj1.toString() === obj2.toString();\r\n    }\r\n\r\n    if (obj1 instanceof Object && obj2 instanceof Object) {\r\n\r\n        // Count properties\r\n        if (bizagi.util.countProps(obj1) !== bizagi.util.countProps(obj2)) {\r\n            return false;\r\n        }\r\n\r\n        var r = true;\r\n        for (k in obj1) {\r\n            r = bizagi.util.identicalObjects(obj1[k], obj2[k]);\r\n            if (!r) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    } else {\r\n        return obj1 === obj2;\r\n    }\r\n};\r\n\r\nbizagi.util.countProps = function (obj) {\r\n    var count = 0;\r\n    for (k in obj) {\r\n        if (obj.hasOwnProperty(k)) {\r\n            count++;\r\n        }\r\n    }\r\n    return count;\r\n};\r\n/*\r\n *   Determines if a element has visibility\r\n */\r\nbizagi.util.isScrolledIntoView = function (elem, layout) {\r\n    if (elem == undefined) {\r\n        return false;\r\n    }\r\n\r\n    layout = layout || $(window);\r\n    var scrollTop = layout.scrollTop();\r\n    var elemTop = $(elem).offset().top;\r\n    var elemBottom = elemTop + $(elem).height();\r\n    var docViewBottom = scrollTop + $(layout).height();\r\n    return ((elemBottom <= docViewBottom) && (elemTop >= scrollTop));\r\n};\r\nbizagi.util.centerElementIntoScroll = function (elem, layout) {\r\n    if (elem == undefined) {\r\n        return false;\r\n    }\r\n\r\n    layout = layout || $(window);\r\n    var actualScroll = layout.scrollTop();\r\n    var elementTop = $(elem).offset().top;\r\n    var elementHeight = $(elem).height();\r\n    var offset = 0;\r\n    if (elementTop > 0) {\r\n        offset = elementTop + elementHeight;\r\n    } else {\r\n        offset = elementTop - elementHeight;\r\n    }\r\n    var newTop = actualScroll + offset;\r\n    layout.scrollTop(newTop);\r\n};\r\n/*\r\n *   Encode a html string\r\n */\r\nbizagi.util.encodeHtml = function (text) {\r\n    if (text === undefined || text === null) {\r\n        return \"\";\r\n    }\r\n    if (typeof (text) == \"string\") {\r\n        return text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\r\n    }\r\n    return text;\r\n};\r\n\r\n/*\r\n *   Encode a string as HTML\r\n */\r\nbizagi.util.decodeHtmlEntities = function (text) {\r\n    if (text === undefined || text === null) {\r\n        return \"\";\r\n    }\r\n    if (typeof (text) == \"string\") {\r\n        return text.replace(/&apos;/g, '\"').replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&quot;/g, '\\'');\r\n    }\r\n    return text;\r\n};\r\n/*\r\n *   Read the location hash\r\n */\r\nbizagi.util.getHashParams = function () {\r\n    var params = window.location.hash.substring(1).split(\"#\");\r\n    return params;\r\n};\r\n/*\r\n *   Loads a file on-demand\r\n */\r\nbizagi.util.loadFile = function (params) {\r\n    var defer = new $.Deferred();\r\n    var url = params && params.src ? params.src : params;\r\n    var type = params && params.type ? params.type : null;\r\n\r\n    bizagi.loader.loadFile({ src: url, type: type })\r\n        .then(function () {\r\n            defer.resolve();\r\n        });\r\n\r\n    return defer.promise();\r\n};\r\n\r\n/*\r\n *   Initializes a webpart on-demand\r\n */\r\nbizagi.util.initWebpart = function (webpart, device) {\r\n    var defer = new $.Deferred();\r\n\r\n    device = device || bizagi.detectDevice();\r\n\r\n    if (webpart.initialized) {\r\n        // If already initialized resolve the deferred\r\n        defer.resolve();\r\n    } else {\r\n\r\n        if (webpart.initializing) {\r\n            $.when(webpart.loadingDeferred.promise())\r\n                .done(function () {\r\n                    defer.resolve();\r\n                });\r\n        } else {\r\n\r\n            webpart.loadingDeferred = new $.Deferred();\r\n            webpart.initializing = true;\r\n            bizagi.loader.initWebpart(webpart, device, function () {\r\n\r\n                // Resolve deferreds\r\n                webpart.loadingDeferred.resolve();\r\n                webpart.initializing = false;\r\n                defer.resolve();\r\n            });\r\n        }\r\n    }\r\n\r\n    return defer.promise();\r\n};\r\n/*\r\n *   Read the query string parameteres\r\n */\r\nbizagi.util.getQueryString = function (url) {\r\n    var params = {};\r\n    url = url || window.location.href;\r\n    var query = url.indexOf(\"?\") > 0 ? url.substring(url.indexOf(\"?\") + 1) : \"\";\r\n    var pairs = query.split(\"&\");\r\n    for (var i = pairs.length - 1; i >= 0; i--) {\r\n        var pos = pairs[i].indexOf('=');\r\n        if (pos == -1)\r\n            continue;\r\n        var argname = pairs[i].substring(0, pos);\r\n        var value = pairs[i].substring(pos + 1);\r\n        params[argname] = unescape(value);\r\n    }\r\n    return params;\r\n};\r\n/*\r\n *   Extend querystring\r\n */\r\nbizagi.util.extendQueryString = function (url, additionalParams) {\r\n    var plainUrl = url.indexOf(\"?\") > 0 ? url.substring(0, url.indexOf(\"?\")) : url;\r\n    var existingParams = bizagi.util.getQueryString(url);\r\n    var newParams = $.extend({}, existingParams, additionalParams);\r\n    return plainUrl + \"?\" + $.param(newParams);\r\n};\r\nbizagi.util.getStackTrace = function () {\r\n    var callstack = [];\r\n    var isCallstackPopulated = false;\r\n    try {\r\n        i.dont.exist += 0; //doesn't exist- that's the point\r\n    } catch (e) {\r\n        if (e.stack) { //Firefox\r\n            var lines = e.stack.split('\\n');\r\n            for (var i = 0, len = lines.length; i < len; i++) {\r\n                if (lines[i].match(/^\\s*[A-Za-z0-9\\-_\\$]+\\(/)) {\r\n                    callstack.push(lines[i]);\r\n                }\r\n            }\r\n            //Remove call to printStackTrace()\r\n            callstack.shift();\r\n            isCallstackPopulated = true;\r\n        } else if (window.opera && e.message) { //Opera\r\n            var lines = e.message.split('\\n');\r\n            for (var i = 0, len = lines.length; i < len; i++) {\r\n                if (lines[i].match(/^\\s*[A-Za-z0-9\\-_\\$]+\\(/)) {\r\n                    var entry = lines[i];\r\n                    //Append next line also since it has the file info\r\n                    if (lines[i + 1]) {\r\n                        entry += ' at ' + lines[i + 1];\r\n                        i++;\r\n                    }\r\n                    callstack.push(entry);\r\n                }\r\n            }\r\n            //Remove call to printStackTrace()\r\n            callstack.shift();\r\n            isCallstackPopulated = true;\r\n        }\r\n    }\r\n    if (!isCallstackPopulated) { //IE and Safari\r\n        var currentFunction = arguments.callee.caller;\r\n        while (currentFunction) {\r\n            var fn = currentFunction.toString();\r\n            var fname = fn.substring(fn.indexOf(\"function\") + 8, fn.indexOf('')) || 'anonymous';\r\n            callstack.push(fname);\r\n            currentFunction = currentFunction.caller;\r\n        }\r\n    }\r\n    return callstack;\r\n};\r\n/*\r\n *\thighlight elements\r\n */\r\nbizagi.util.highLightElement = function (el) {\r\n    el.addClass('ui-highlight-control');\r\n    $.when(\r\n        setTimeout(function () {\r\n            el.addClass('ui-highlight-off-control');\r\n        }, 450)\r\n    ).done(\r\n        setTimeout(function () {\r\n            el.removeClass('ui-highlight-control ui-highlight-off-control');\r\n        }, 800));\r\n}\r\n/*\r\n *\tscroll to bottom\r\n */\r\nbizagi.util.autoScrollBottom = function (el) {\r\n    try {\r\n        var elScrollHeight;\r\n        elScrollHeight = el[0].scrollHeight;\r\n        el.scrollTop(elScrollHeight);\r\n    } catch (e) { }\r\n}\r\n\r\n/*create auto scroll with limit top and limit bottom */\r\nbizagi.util.autoScrollInterval = { init: false };\r\nbizagi.util.autoScroll = function (itemScroll, limitTop, limitBottom, idInterval) {\r\n    var outSide = false;\r\n    /* prevent a previous interval */\r\n    clearInterval(bizagi.util.autoScrollInterval[idInterval]);\r\n    bizagi.util.autoScrollInterval[idInterval] = 0;\r\n    bizagi.util.autoScrollInterval['init'] = true;\r\n    $('body').addClass('autoscroll');\r\n    $('body.autoscroll').mousemove(function (event) {\r\n        if (event.pageY < limitTop) {\r\n            if (!outSide) {\r\n                outSide = true;\r\n                bizagi.util.autoScrollTopInterval(itemScroll, 'autoscroll', idInterval);\r\n            }\r\n        } else if (event.pageY > limitBottom) {\r\n            if (!outSide) {\r\n                outSide = true;\r\n                bizagi.util.autoScrollBottomInterval(itemScroll, 'autoscroll', idInterval);\r\n            }\r\n        } else {\r\n            clearInterval(bizagi.util.autoScrollInterval[idInterval]);\r\n            outSide = false;\r\n        }\r\n    });\r\n}\r\n/*create auto scroll movement top */\r\nbizagi.util.autoScrollTopInterval = function (itemScroll, classCSS, idInterval) {\r\n    clearInterval(bizagi.util.autoScrollInterval[idInterval]);\r\n    if (classCSS) {\r\n        $('body').addClass(classCSS);\r\n    }\r\n    if (itemScroll.scrollTop() == 0) {\r\n        clearInterval(bizagi.util.autoScrollInterval[idInterval]);\r\n    } else {\r\n        clearInterval(bizagi.util.autoScrollInterval[idInterval]);\r\n        bizagi.util.autoScrollInterval[idInterval] = setInterval(function () {\r\n            if (itemScroll.scrollTop() > 0) {\r\n                itemScroll.scrollTop(itemScroll.scrollTop() - 40);\r\n            } else {\r\n                clearInterval(bizagi.util.autoScrollInterval[idInterval]);\r\n            }\r\n        }, 100);\r\n    }\r\n}\r\n\r\n/*create auto scroll movement bottom */\r\nbizagi.util.autoScrollBottomInterval = function (itemScroll, classCSS, idInterval) {\r\n    clearInterval(bizagi.util.autoScrollInterval[idInterval]);\r\n    if (classCSS) {\r\n        $('body').addClass(classCSS);\r\n    }\r\n    var valueMaxScrollBottom = $(itemScroll)[0].scrollHeight - $(itemScroll).innerHeight();\r\n    if (itemScroll.scrollTop() >= valueMaxScrollBottom) {\r\n        clearInterval(bizagi.util.autoScrollInterval[idInterval]);\r\n    } else {\r\n        clearInterval(bizagi.util.autoScrollInterval[idInterval]);\r\n        bizagi.util.autoScrollInterval[idInterval] = setInterval(function () {\r\n            bizagi.util.autoScrollBottom($('html'));\r\n            if (itemScroll.scrollTop() < valueMaxScrollBottom) {\r\n                itemScroll.scrollTop(itemScroll.scrollTop() + 40);\r\n            } else {\r\n                clearInterval(bizagi.util.autoScrollInterval[idInterval]);\r\n            }\r\n        }, 100);\r\n    }\r\n};\r\n/*remove auto scroll*/\r\nbizagi.util.removeAutoScroll = function (classCSS, idInterval) {\r\n    $('body.' + classCSS).unbind('mousemove').removeClass(classCSS);\r\n    clearInterval(bizagi.util.autoScrollInterval[idInterval]);\r\n    bizagi.util.autoScrollInterval.init = false;\r\n};\r\n\r\nbizagi.util.getMaxZIndex = function (selector) {\r\n    selector = selector || $(\"div,span\");\r\n    return Math.max.apply(null, $(selector).map(function () {\r\n        var zIndex;\r\n        return isNaN(zIndex = parseInt($(this).css(\"z-index\"), 10)) ? 0 : zIndex;\r\n    }));\r\n};\r\n\r\n/*\r\n * Creates a native popup to open an url\r\n */\r\nbizagi.showPopup = function (url, params, callbackFn) {\r\n    var width = params.width || 1024;\r\n    var height = params.height || 768;\r\n    var top = $(window).height() / 2 - height / 2;\r\n    var left = $(window).width() / 2 - width / 2;\r\n    // Creates a popup window\r\n    var newWindow = window.open(url, \"\", \"width=\" + width + \",height=\" + height + \", top=\" + top + \", left=\" + left + \", Menubar=NO, Location=NO, Status=NO, scrollbars=YES\");\r\n    // Define args to call the function\r\n    window.BAPopupWindow = newWindow;\r\n    window.BAPopupCallback = callbackFn;\r\n    // Define BACLoseWindow in this context, so the external content calls window.opener.BACloseWindow\r\n    window.BACloseWindow = function (controls, submitForm) {\r\n        // Close dialog\r\n        window.BAPopupWindow.close();\r\n        // Executes the callback to assign values and submit form (if requested)\r\n        window.BAPopupCallback(controls, submitForm);\r\n    };\r\n};\r\n/**\r\n * Creates a native popup in quirks mode to open an url\r\n * \r\n * @param url string page to open into popup\r\n * @param params json {width,height,title,afterLoad}\r\n */\r\nbizagi.showQuirksModePopup = function (url, params) {\r\n    var quirksModePage = window.BIZAGI_PATH_TO_BASE + \"quirks.html\";\r\n    var width = params.width || 1024;\r\n    var height = params.height || 768;\r\n    var top = $(window).height() / 2 - height / 2;\r\n    var left = $(window).width() / 2 - width / 2;\r\n    // Creates a popup window\r\n    var newWindow = window.open(quirksModePage, \"bizagiPopup\", \"width=\" + width + \",height=\" + height + \", top=\" + top + \", left=\" + left + \", Menubar=NO, Location=NO, Status=NO, scrollbars=YES\");\r\n    window.BAQuirksPopupWindow = newWindow;\r\n    // Attempto to set a window title\r\n    setTimeout(function () {\r\n        try {\r\n            newWindow.document.title = params.title;\r\n        } catch (e) { }\r\n    }, 50);\r\n    // We use a hack to eval content inside the popup\r\n    $(newWindow).callInsidePopup(function (windowParams) {\r\n\r\n        var $ = windowParams.jQuery;\r\n        var popupWindow = windowParams.popupWindow;\r\n        popupWindow.quirksOnLoad = function () {\r\n            var loadedBody = $(\"body\", popupWindow.document);\r\n            var iframe = $(\"iframe\", loadedBody);\r\n            // Remove waiting\r\n            loadedBody.removeClass(\"ui-bizagi-loading-message\");\r\n            iframe.show();\r\n            // Hacks the iframe\r\n            // This event will fire each time the iframe change its location\r\n            var afterLoad = windowParams.userParams.afterLoad;\r\n            if (afterLoad && afterLoad != null) {\r\n                var callbackParams = $.extend(windowParams.userParams, {\r\n                    popupWindow: popupWindow\r\n                });\r\n                iframe.callInside(afterLoad, callbackParams);\r\n            }\r\n        };\r\n        var loadingFunction = function () {\r\n            var body = $(\"body\", popupWindow.document);\r\n            // Create the iframe inside the new window\r\n            if (body.length > 0) {\r\n                body.append(\"<iframe scrolling='yes' id='innerFrameContent' src='\" + windowParams.url + \"' style='width: 100%; height: 100%; display:none' frameborder='0' onload='quirksOnLoad();'></iframe>\");\r\n            } else {\r\n                // Try again\r\n                setTimeout(function () {\r\n                    loadingFunction();\r\n                }, 50);\r\n            }\r\n        };\r\n        // Execute loading function\r\n        loadingFunction();\r\n    }, {\r\n            jQuery: $,\r\n            userParams: params,\r\n            popupWindow: newWindow,\r\n            url: url\r\n        });\r\n};\r\n/*\r\n *   Returns the resolved result from a promise when the promise has been executed already\r\n */\r\nbizagi.resolveResult = function (promise) {\r\n    var result;\r\n    promise.done(function (data) {\r\n        result = data;\r\n    });\r\n    return result;\r\n};\r\n/*\r\n *   Creates a popup using overlay style\r\n */\r\nbizagi.createPopup = function (params) {\r\n    var popupName = params.name,\r\n        onClose = params.onClose,\r\n        popupHeader;\r\n    var popupTitle = (params.title) ? params.title : '';\r\n    var overlay = $('<div class=\"ui-widget-overlay ' + popupName + '-overlay\" />');\r\n    var popup = $('<div class=\"' + popupName + '-popup  ui-popup-modal\"/>').appendTo(overlay);\r\n    var closeButton = $('<div class=\"' + popupName + '-btn-close biz-btn-close\"><i class=\"biz-icon ui-close-btn bz-studio bz-black bz-false_16x16_black\"></i></div>').appendTo(popup);\r\n    if (params.title) {\r\n        popupHeader = $('<div class=\"' + popupName + '-popup-header ui-popup-header\" ><h3>' + popupTitle + '</h3></div>').appendTo(popup);\r\n    }\r\n\r\n    var popupContent = $('<div class=\"' + popupName + '-popup-content\" />').appendTo(popup);\r\n    // Add to body\r\n    popup.hide();\r\n    if (params.additionalClass)\r\n        popup.addClass(params.additionalClass);\r\n    var container = params.container || \"body\";\r\n    overlay.appendTo($(container, document));\r\n\r\n    if (params.center) {\r\n        // Resize popup to the center\r\n        popup.css(\"top\", (overlay.height() - popup.height()) / 2);\r\n        popup.css(\"left\", (overlay.width() - popup.width()) / 2);\r\n    }\r\n    popup.show();\r\n    // Close handler\r\n    var closeHandler = function (params) {\r\n        overlay.detach();\r\n        if (onClose)\r\n            onClose(params);\r\n    };\r\n    closeButton.click(closeHandler);\r\n    // Return a full independent object\r\n    return {\r\n        fullPopup: popup,\r\n        overlay: overlay,\r\n        content: popupContent,\r\n        close: function (params) {\r\n            closeHandler(params);\r\n        }\r\n    };\r\n};\r\n/*\r\n * Create an Ok, Cancel popup using bizagi.createPopup()\r\n */\r\n\r\nbizagi.createOkCancelPopup = function (params) {\r\n    params.name = \"popup-ok-cancel\";\r\n    var onOk = params.onOk,\r\n        onCancel = params.onCancel;\r\n    var popup = bizagi.createPopup(params);\r\n    var container = $(\"<div></div>\").addClass(\"container-okcancel-popup\");\r\n    var message = $(\"<div></div>\").addClass(\"message-okcancel-popup ui-light-bevel-border biz-gradient-v\");\r\n    var buttonsContainer = $(\"<div></div>\").addClass(\"buttonsContainer-okcancel-popup biz-actions-bar\");\r\n    message.text(params.message);\r\n    message.appendTo(container);\r\n    var buttonOk = $(\"<span></span>\").addClass(\"ok-button-okcancel-popup editor-ui-button-actions biz-action-btn biz-btn\");\r\n    var buttonCancel = $(\"<span></span>\").addClass(\"cancel-button-okcancel-popup editor-ui-button-actions biz-action-btn biz-btn\");\r\n    buttonOk.text(bizagi.localization.getResource(\"bizagi-editor-okcancel-ok\"));\r\n    buttonCancel.text(bizagi.localization.getResource(\"bizagi-editor-okcancel-cancel\"));\r\n    buttonOk.appendTo(buttonsContainer);\r\n    buttonCancel.appendTo(buttonsContainer);\r\n    buttonsContainer.appendTo(container);\r\n    container.appendTo(popup.content);\r\n    var okHandler = function () {\r\n        popup.close();\r\n        if (typeof (onOk) == \"function\") {\r\n            onOk();\r\n        }\r\n    };\r\n    buttonOk.click(okHandler);\r\n    var cancelHandler = function () {\r\n        popup.close();\r\n        if (typeof (onCancel) == \"function\") {\r\n            onCancel();\r\n        }\r\n    };\r\n    buttonCancel.click(cancelHandler);\r\n    return {\r\n        close: function () {\r\n            popup.close();\r\n        },\r\n        ok: function () {\r\n            okHandler();\r\n        },\r\n        cancel: function () {\r\n            cancelHandler();\r\n        }\r\n    };\r\n};\r\n/*\r\n * Create an generic dialog\r\n */\r\nbizagi.dialog = function (params) {\r\n\r\n    var dialog = $(\"<div></div>\").addClass(\"biz-dialog\");\r\n    var msg = $(\"<p></p>\");\r\n    msg.text(params.message || \"\");\r\n    msg.appendTo(dialog);\r\n    dialog.appendTo($(\"body\", document));\r\n    dialog.dialog({\r\n        title: params.title,\r\n        modal: true,\r\n        buttons: params.buttons,\r\n        close: function () {\r\n            dialog.dialog(\"destroy\");\r\n        }\r\n    });\r\n};\r\n/*\r\n *   Close the quirks mode popup window\r\n */\r\nbizagi.closeQuirksModePopup = function () {\r\n    var quirksPopup = window.BAQuirksPopupWindow;\r\n    window.BAQuirksPopupWindow = null;\r\n    try {\r\n        if (quirksPopup)\r\n            quirksPopup.close();\r\n    } catch (e) { }\r\n};\r\n/**\r\n * Get css class definition to string\r\n */\r\nbizagi.getStyle = function (style) {\r\n    var pathName = location.href.replace(\"/default.aspx\", \"\");\r\n    var getFontFace = (style.match(/@/)) ? true : false;\r\n    var matchFontFace = \"@font-face\";\r\n    var getAllChildrens = (style.match(/\\*/)) ? true : false;\r\n    var matchStyles = new RegExp(style.replace(\"*\", \"\"), \"g\");\r\n    var stringCss = \"\";\r\n    var css;\r\n    if (style == \"\") {\r\n        return \"\";\r\n    }\r\n    var awesomeBrowser = function (style) {\r\n        for (var file = 0; file < document.styleSheets.length; file++) {\r\n            css = document.styleSheets[file].rules || document.styleSheets[file].cssRules;\r\n            if (css != null) {\r\n                for (var key = 0; key < css.length; key++) {\r\n                    if (document.styleSheets[file].href != null && (document.styleSheets[file].href.match(/less.css/g) == null || BIZAGI_ENVIRONMENT == \"release\")) {\r\n\r\n                        var cssTextOriginal = (css[key].cssText) ? css[key].cssText : '';\r\n                        // Get all matches\r\n                        if (getAllChildrens) {\r\n                            if (css[key].selectorText != undefined && css[key].selectorText.match(matchStyles) != null) {\r\n\r\n                                if ($.browser.webkit) {\r\n                                    stringCss += css[key].cssText.replace(/\\(path\\)/g, \"\");\r\n                                } else if ($.browser.msie && $.browser.version == \"8.0\") {\r\n                                    stringCss += css[key].style.cssText;\r\n                                } else {\r\n                                    stringCss += css[key].cssText.replace(/\\(path\\)/g, \"../../jquery/workportal/css/desktop\");\r\n                                }\r\n                            }\r\n                        } else if (css[key].selectorText != undefined && css[key].selectorText == style) {\r\n                            stringCss += css[key].cssText;\r\n                        }\r\n\r\n                        // Get @font-face\r\n                        if (getFontFace) {\r\n                            if (css[key] != undefined && cssTextOriginal != undefined) {\r\n                                if (cssTextOriginal.indexOf(matchFontFace) != -1) {\r\n\r\n                                    if ($.browser.webkit) {\r\n                                        stringCss += cssTextOriginal.replace(/jquery\\/workportal\\/css\\/desktop\\//g, \"\").replace(/\\(path\\)/g, \"\");\r\n                                    } else {\r\n                                        stringCss += cssTextOriginal.replace(/\\(path\\)/g, \"../../\");\r\n                                    }\r\n\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return stringCss;\r\n    };\r\n    var suckBrowser = function (style) {\r\n        if ($.browser.version == \"8.0\") {\r\n            // That is crazy, but it has the same document.styleSheets structure to chrome and mozilla\r\n            return awesomeBrowser(style);\r\n        }\r\n        var lastLevel;\r\n        for (var file = 0; file < document.styleSheets.length; file++) {\r\n            css = document.styleSheets[file].cssRules || document.styleSheets[file].rules;\r\n\r\n            if (css != null) {\r\n                for (var key = 0; key < css.length; key++) {\r\n                    if (BIZAGI_ENVIRONMENT == \"release\") {\r\n                        // Get all matches \r\n                        if (getAllChildrens) {\r\n                            if (css[key].selectorText != undefined && css[key].selectorText.match(matchStyles) != null) {\r\n                                stringCss += css[key].cssText.replace(/\\(path\\)/g, pathName + \"/jquery/workportal/css/desktop\");\r\n                            } else if (css[key].selectorText != undefined && css[key].selectorText == style) {\r\n                                stringCss += css[key].cssText.replace(/\\(path\\)/g, pathName + \"/jquery/workportal/css/desktop\");\r\n                            }\r\n                        }\r\n                    } else if (css[key].href != null && css[key].href != undefined && css[key].href.match(/less.css/g) == null) {\r\n                        // Get all matches \r\n                        lastLevel = css[key].styleSheet.cssRules || [];\r\n                        for (var n = 0; n < lastLevel.length; n++) {\r\n                            if (getAllChildrens) {\r\n                                if ((lastLevel[n].selectorText != undefined || lastLevel[n].selectorText != null) && lastLevel[n].selectorText.match(matchStyles) != null) {\r\n                                    //stringCss += lastLevel[n].cssText;\r\n                                    stringCss += lastLevel[n].cssText.replace(/\\(path\\)/g, pathName + \"/jquery/workportal/css/desktop\");\r\n                                }\r\n                            } else if (lastLevel[n].selectorText != undefined && lastLevel[n].selectorText == style) {\r\n                                // stringCss += lastLevel[n].cssText;\r\n                                stringCss += lastLevel[n].cssText.replace(/\\(path\\)/g, pathName + \"/jquery/workportal/css/desktop\");\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return stringCss;\r\n    };\r\n    var result = ($.browser.msie) ? suckBrowser(style) : awesomeBrowser(style);\r\n    return result;\r\n};\r\n/**\r\n * Set and retrieve Cookie\r\n */\r\nbizagi.cookie = function (key, value, options) {\r\n    // key and at least value given, set cookie...\r\n    if (arguments.length > 1 && String(value) !== \"[object Object]\") {\r\n        options = $.extend({}, options);\r\n        if (value === null || value === undefined) {\r\n            options.expires = -1;\r\n        }\r\n\r\n        if (typeof options.expires === 'number') {\r\n            var days = options.expires,\r\n                t = options.expires = new Date();\r\n            t.setDate(t.getDate() + days);\r\n        }\r\n\r\n        value = String(value);\r\n        return (document.cookie = [\r\n            encodeURIComponent(key), '=',\r\n            options.raw ? value : encodeURIComponent(value),\r\n            options.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE\r\n            options.path ? '; path=' + options.path : '',\r\n            options.domain ? '; domain=' + options.domain : '',\r\n            options.secure ? '; secure' : ''\r\n        ].join(''));\r\n    }\r\n\r\n    // key and possibly options given, get cookie...\r\n    options = value || {};\r\n    var result, decode = options.raw ? function (s) {\r\n        return s;\r\n    } : decodeURIComponent;\r\n    return (result = new RegExp('(?:^|; )' + encodeURIComponent(key) + '=([^;]*)').exec(document.cookie)) ? decode(result[1]) : null;\r\n};\r\n/**\r\n * Returns a random integer between min and max\r\n */\r\nbizagi.util.randomNumber = function (min, max) {\r\n    min = min || 1;\r\n    max = max || 10000000;\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n};\r\n\r\n/**\r\n * Set global context values\r\n * @param params onject\r\n * @param reset boolean\r\n */\r\nbizagi.util.setContext = function (params, reset) {\r\n    params = params || {};\r\n    reset = reset || false;\r\n    if (reset) {\r\n        bizagi.context = {};\r\n    }\r\n    $.each(params, function (key, value) {\r\n        bizagi.context[key] = value;\r\n    });\r\n\r\n    // Fix camel case in idWorkItem Property\r\n    bizagi.context[\"idWorkItem\"] = bizagi.context[\"idWorkitem\"];\r\n};\r\n\r\nbizagi.util.reloadCSS = function () {\r\n    var queryString = '?reload=' + new Date().getTime();\r\n    $('link[rel=\"stylesheet\"]').each(function () {\r\n        this.href = this.href.replace(/\\?.*|$/, queryString);\r\n    });\r\n}\r\n\r\n/**\r\n * Control recursive calls of setTimeout\r\n * @param params json {name:name of call,call: function call}\r\n * @return void\r\n */\r\nbizagi.util.setInterval = function (params) {\r\n    var _name = params.name || 'default';\r\n    var _call = params.call || function () { };\r\n    var _params = params.params || {};\r\n    var _singleton = params.singleton || false;\r\n    var _timeOut = params.timeout || 5000;\r\n    var _maxIterations = params.iterations || 1000;\r\n    var _context = params.context || \"true;\";\r\n    // If callback its diferent to context, remove from hash\r\n    var _killWhenExitContext = (params.hasOwnProperty('killWhenExitContext')) ? params.killWhenExitContext : true;\r\n    bizagi.timeOut = bizagi.timeOut || {};\r\n    if (bizagi.timeOut[_name] == undefined) {\r\n        bizagi.timeOut[_name] = [];\r\n    }\r\n\r\n    // Check if singleton (run once)\r\n    if (_singleton && bizagi.timeOut[_name] != undefined) {\r\n        bizagi.timeOut[_name] = [];\r\n    }\r\n\r\n\r\n    bizagi.timeOut[_name].push({\r\n        name: _name,\r\n        params: _params,\r\n        call: _call,\r\n        singleton: _singleton,\r\n        timeOut: _timeOut,\r\n        iterations: 0,\r\n        maxIterations: _maxIterations,\r\n        context: _context,\r\n        killWhenExitContext: _killWhenExitContext,\r\n        itsRunning: false,\r\n        timeInit: Math.round((new Date()).getTime())\r\n    });\r\n    var executeTimeOut = function () {\r\n        $.each(bizagi.timeOut, function (k, v) {\r\n            $.each(v, function (key, value) {\r\n                var now = Math.round((new Date()).getTime());\r\n                var actualIterations = Math.round((now - value.timeInit) / value.timeOut);\r\n                bizagi.timeOut[value.name][key]['iterations'] = actualIterations;\r\n                if (actualIterations < value.maxIterations) {\r\n                    // Check context\t\t\t\t\t\r\n                    if (eval(value.context)) {\r\n                        if (!value.itsRunning) {\r\n                            if (value.params)\r\n                                // Create a virtual function to IE\r\n                                if ($.browser.msie) {\r\n                                    var ieFunction = function () {\r\n                                        return value.call(value.params);\r\n                                    };\r\n                                }\r\n\r\n                            bizagi.timeOut[value.name][key]['pointer'] = ($.browser.msie) ? setInterval(ieFunction, value.timeOut, 'JavaScript') : setInterval(value.call, value.timeOut, value.params);\r\n                            bizagi.timeOut[value.name][key]['itsRunning'] = true;\r\n                        }\r\n                    } else if (value.killWhenExitContext) {\r\n                        bizagi.timeOut[value.name].splice(key, 1);\r\n                        clearTimeout(value.pointer);\r\n                    } else {\r\n                        bizagi.timeOut[value.name][key]['itsRunning'] = false;\r\n                        clearTimeout(value.pointer);\r\n                    }\r\n                } else {\r\n                    // Cancel timeout and remove call from hash\r\n                    clearTimeout(value.pointer);\r\n                    bizagi.timeOut[value.name].splice(key, 1);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    if (!bizagi.timeOutRunning) {\r\n        bizagi.timeOutRunning = true;\r\n        setInterval(executeTimeOut, 1000);\r\n    }\r\n};\r\nbizagi.util.isDate = function (value) {\r\n    // type A) dd/mm/aaaa \r\n    // type B) aaaa/mm/dd\r\n    // type C) aa/mm/dd\r\n\r\n    var dateRegEx_typeA = /^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/,\r\n        dateRegEx_typeB = /^\\d{4}\\/\\d{1,2}\\/\\d{1,2}$/,\r\n        dateRegEx_typeC = /^\\d{1,2}\\/\\d{1,2}\\/\\d{1,2}$/,\r\n        timeRegEx = /^\\d{1,2}:\\d{2}(:\\d{2})?(\\s[aApP][mM])?$/,\r\n        result = false,\r\n        resultDate = false,\r\n        hasTime = false,\r\n        resultTime = false;\r\n\r\n    value = value || '';\r\n\r\n    var arrayDate = value.toString().split(\" \"),\r\n        dateField,\r\n        timeField;\r\n\r\n    dateField = arrayDate[0];\r\n\r\n    if (dateRegEx_typeA.test(dateField) || dateRegEx_typeB.test(dateField) || dateRegEx_typeC.test(dateField)) {\r\n        resultDate = true;\r\n    }\r\n\r\n    if (arrayDate.length > 1) {\r\n\r\n        timeField = arrayDate[1];\r\n\r\n        hasTime = true;\r\n\r\n        //Checks if AM/PM included in the time element\r\n        if (arrayDate.length == 3)\r\n            timeField = timeField + ' ' + arrayDate[2];\r\n\r\n        if (timeRegEx.test(timeField))\r\n            resultTime = true;\r\n    }\r\n\r\n    if (hasTime)\r\n        result = resultDate && resultTime;\r\n    else\r\n        result = resultDate;\r\n\r\n    return result;\r\n};\r\n/*\r\n *   Encodes unicode characters into html\r\n */\r\nbizagi.util.unicode2htmlencode = function (input) {\r\n    // Shorten\r\n    var natCCA = 'charCodeAt';\r\n    input = input.replace(/\\r\\n/g, '\\n');\r\n    var i, b1, hex,\r\n        len = input.length,\r\n        htmlHex = '';\r\n    for (i = 0; i < len; i++) {\r\n        b1 = input[natCCA](i);\r\n        hex = b1.toString(16);\r\n        htmlHex += '&#x' + hex + ';';\r\n    }\r\n    return htmlHex;\r\n};\r\n/*\r\n *   Gets the head element from the DOM\r\n */\r\nbizagi.util.getHeadElement = function () {\r\n    var hd = document.getElementsByTagName(\"head\")[0];\r\n    var docEl = document && document.documentElement;\r\n    if (!hd) {\r\n        hd = document.createElement(\"head\");\r\n        docEl.insertBefore(hd, docEl.firstChild);\r\n    }\r\n    // replace head so it runs fast next time.\r\n    bizagi.util.getHeadElement = function () {\r\n        return hd;\r\n    };\r\n    return hd;\r\n};\r\n/*\r\n *   Loads a css text into the current document\r\n */\r\nbizagi.util.loadStyle = function (styleText, layoutGuid) {\r\n\r\n    var element = document.getElementById(layoutGuid);\r\n\r\n    if (styleText && !element) { // less\r\n        var css = document.createElement(\"style\");\r\n        css.type = \"text/css\";\r\n        css.id = layoutGuid;\r\n        if (css.styleSheet) { // IE\r\n            css.styleSheet.cssText = styleText;\r\n        } else {\r\n            (function (node) {\r\n                if (css.childNodes.length) {\r\n                    if (css.firstChild.nodeValue !== node.nodeValue) {\r\n                        css.replaceChild(node, css.firstChild);\r\n                    }\r\n                } else {\r\n                    css.appendChild(node);\r\n                }\r\n            })(document.createTextNode(styleText));\r\n        }\r\n        bizagi.util.getHeadElement().appendChild(css);\r\n    }\r\n};\r\n\r\n/*\r\n *   Loads a css text of the icon widget into the current document\r\n */\r\nbizagi.util.loadIconStyle = function (icon, userfieldname) {\r\n    bizagi.log(\"bizagi.util.loadIconStyle\");\r\n    var css = document.createElement(\"style\");\r\n    css.type = \"text/css\";\r\n\r\n    var cssText = \".mtool-item-image-\" + userfieldname + \" { background:url(data:image/png;base64,\" + icon + \"); }\";\r\n    css.innerHTML = cssText;\r\n\r\n    bizagi.util.getHeadElement().appendChild(css);\r\n};\r\n\r\nbizagi.util.formatDecimalAndMoneyCell = function (tableData, externalMoneyFormat) {\r\n    var moneyFormat, decimalFormat, i, j;\r\n    var externalDecimalFormat = {\r\n        decimalSymbol: externalMoneyFormat.decimalSeparator,\r\n        digitGroupSymbol: externalMoneyFormat.groupSeparator,\r\n        roundToDecimalPlace: externalMoneyFormat.decimalDigits\r\n    };\r\n    var defaultMoneyFormat = {\r\n        symbol: \"€\",\r\n        decimalSeparator: \",\",\r\n        groupSeparator: \".\",\r\n        decimalDigits: \"2\"\r\n    };\r\n    var defaultDecimalFormat = {\r\n        colorize: false,\r\n        decimalSymbol: \".\",\r\n        digitGroupSymbol: \",\",\r\n        groupDigits: true,\r\n        negativeFormat: \"(%s%n)\",\r\n        positiveFormat: \"%s%n\",\r\n        roundToDecimalPlace: \"2\",\r\n        symbol: \"\"\r\n    };\r\n\r\n    moneyFormat = $.extend(defaultMoneyFormat, externalMoneyFormat);\r\n    decimalFormat = $.extend(defaultDecimalFormat, externalDecimalFormat);\r\n\r\n    for (i = 0; i < tableData.columnTitle.length; i++) {\r\n        if (tableData.columnTitle[i].type.toUpperCase() == \"MONEY\") {\r\n            for (j = 0; j < tableData.rows.length; j++) {\r\n                tableData.rows[j].fields[i] = bizagi.util.formatMoney(tableData.rows[j].fields[i], moneyFormat);\r\n            }\r\n        }\r\n        if (tableData.columnTitle[i].type.toUpperCase() == \"FLOAT\" || tableData.columnTitle[i].type.toUpperCase() == \"REAL\") {\r\n            for (j = 0; j < tableData.rows.length; j++) {\r\n                var numberValue = bizagi.util.formatDecimal(tableData.rows[j].fields[i], decimalFormat);\r\n                //Gets rids of unnecessary zeros\r\n                if (bizagi.override.removeTrailingZeros === true) {\r\n                    var positive = true;\r\n                    if (numberValue.toString().indexOf(\")\") != -1) {\r\n                        positive = false;\r\n                        numberValue = numberValue.replace(\"(\", \"\").replace(\")\", \"\");\r\n                    }\r\n                    var re = new RegExp(\"(\" + BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator + \"\\\\d*?[1-9])0+$\", \"g\");\r\n                    numberValue = numberValue.replace(re, \"$1\");\r\n                    re = new RegExp(\"\\\\\" + BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator + \"0+$\", \"g\");\r\n                    numberValue = numberValue.replace(re, \"\");\r\n\r\n                    if (!positive) numberValue = \"(\" + numberValue + \")\";\r\n                }\r\n                tableData.rows[j].fields[i] = numberValue;\r\n            }\r\n        }\r\n    }\r\n\r\n    return tableData;\r\n};\r\n\r\n\r\nbizagi.util.formatBoolean = function (value) {\r\n    var self = this;\r\n    if (bizagi.util.parseBoolean(value) == true) {\r\n        return bizagi.localization.getResource(\"render-boolean-yes\");\r\n    } else if (bizagi.util.parseBoolean(value) == false) {\r\n        return bizagi.localization.getResource(\"render-boolean-no\");\r\n    } else {\r\n        return \"\";\r\n    }\r\n};\r\n\r\nbizagi.util.formatInvariantBoolean = function (htmlContent) {\r\n    htmlContent = htmlContent || \"\";\r\n    $(\".formatBoolean\", htmlContent).not(\".formatted\").each(function (index, element) {\r\n        var $element = $(element);\r\n        var content = $element.html();\r\n        $element.addClass(\"formatted\");\r\n        try {\r\n            var formatBoolean = bizagi.util.formatBoolean(content);\r\n            $element.html(formatBoolean);\r\n        } catch (e) {\r\n            $element.html(content);\r\n        }\r\n    });\r\n};\r\n\r\nbizagi.util.formatDecimal = function (value, format) {\r\n    var i = $(\"<i/>\").text(value);\r\n    i.formatCurrency(format);\r\n    return i.text();\r\n};\r\n\r\n/*\r\n * Format monetary cells\r\n */\r\nbizagi.util.formatMonetaryCells = function (tableData, moneyFormat) {\r\n\r\n    var defaultFormat = {\r\n        symbol: \"€\",\r\n        decimalSeparator: \",\",\r\n        groupSeparator: \".\",\r\n        decimalDigits: \"2\"\r\n    };\r\n\r\n    moneyFormat = moneyFormat || defaultFormat;\r\n\r\n    for (var i = 0; i < tableData.columnTitle.length; i++) {\r\n        if (tableData.columnTitle[i].type.toUpperCase() == \"MONEY\") {\r\n            for (var j = 0; j < tableData.rows.length; j++) {\r\n                tableData.rows[j].fields[i] = bizagi.util.formatMoney(tableData.rows[j].fields[i], moneyFormat);\r\n            }\r\n        }\r\n    }\r\n\r\n    return tableData;\r\n\r\n};\r\n\r\n/*\r\n * Format monetary values, the format must have the structure of the next example:\r\n *\r\n * var defaultFormat = {\r\n *        symbol: \"€\",\r\n *        decimalSeparator: \",\",\r\n *        groupSeparator: \".\",\r\n *        decimalDigits: \"2\"\r\n *    };\r\n */\r\nbizagi.util.formatMoney = function (value, format) {\r\n    var result = \"\",\r\n        tmpResult = \"\",\r\n        intSection = \"\",\r\n        decimalSection = \"\",\r\n        decimalResult = \"\",\r\n        isNegative = (value < 0);\r\n\r\n    if (value == null) {\r\n        value = \"\";\r\n    }\r\n\r\n    value = value.toString();\r\n\r\n    if (value.length >= 1) {\r\n        var decimalDigitPosition = value.indexOf(\".\");\r\n\r\n        if (decimalDigitPosition > 0) {\r\n            value = bizagi.util.fixDecimalDigits(value, format.decimalDigits);\r\n            intSection = value.substring(0, decimalDigitPosition).replace(/\\D/g, '');\r\n        } else {\r\n            var zeroChar = \"0\";\r\n\r\n            for (var i = 0; i < format.decimalDigits; i++) {\r\n                decimalResult += zeroChar;\r\n            }\r\n            intSection = value.replace(/\\D/g, '');\r\n        }\r\n\r\n        //take only the number characters removing other characters\r\n        value = value.replace(/\\D/g, '');\r\n        //take the decimal section\r\n        if (format.decimalDigits > 0) {\r\n            decimalSection = decimalDigitPosition > 0 ? format.decimalSeparator + value.substring(value.length - format.decimalDigits, value.length) : format.decimalSeparator + decimalResult;\r\n        } else {\r\n            decimalSection = \"\";\r\n        }\r\n        //insert groupSeparators into int section\r\n        if (intSection.length > 3) {\r\n            var count = 0;\r\n\r\n            //insert separator from end to begin\r\n            for (var i = intSection.length - 1; i >= 0; i--) {\r\n                if (count == 3) {\r\n                    tmpResult += \".\";\r\n                    count = 0;\r\n                }\r\n                tmpResult += intSection[i];\r\n                count += 1;\r\n            }\r\n            //revert the string to get the result value\r\n            for (var i = tmpResult.length - 1; i >= 0; i--) {\r\n                result += tmpResult[i];\r\n            }\r\n        } else {\r\n            result = intSection;\r\n        }\r\n\r\n        //replace the correct group separator\r\n        result = result.replaceAll(\".\", format.groupSeparator);\r\n        //unify all sections and finish format\r\n        if (isNegative) {\r\n            var negativeFormat = bizagi.localization.getResource('numericFormat').negativeFormat;\r\n            result = negativeFormat.replace(\"%s\", format.symbol).replace(\"%n\", result + decimalSection);\r\n        } else {\r\n            result = format.symbol + result + decimalSection;\r\n        }\r\n\r\n        return result;\r\n    } else {\r\n        return value;\r\n    }\r\n\r\n\r\n};\r\n\r\n/**\r\n * Remove all characters except numbers\r\n */\r\nbizagi.util.getOnlyNumbersByString = function (stringValue) {\r\n    return stringValue.replace(/\\D/g, '');\r\n}\r\n\r\n/*\r\n    This method was created because the \"toFixed()\" JavaScript method in some cases round the numbers when it is not needed.\r\n    Can return string or number.\r\n*/\r\nbizagi.util.fixDecimalDigits = function (value, decimalDigits) {\r\n    var decimalDigitPosition,\r\n        intSection,\r\n        decimalSection;\r\n\r\n    decimalDigitPosition = value.indexOf('.');\r\n    intSection = value.substring(0, decimalDigitPosition);\r\n    decimalSection = value.substring(decimalDigitPosition + 1, value.length);\r\n\r\n    if (decimalDigits > decimalSection.length) {\r\n        for (var i = decimalSection.length; i < decimalDigits; i++) {\r\n            value += '0';\r\n        }\r\n    } else {\r\n        value = parseFloat(value).toFixed(decimalDigits);\r\n    }\r\n\r\n    return value;\r\n\r\n};\r\n\r\n/*\r\n * Format html  money\r\n */\r\nbizagi.util.formatInvariantMoney = function (htmlContent, moneyFormat) {\r\n    htmlContent = htmlContent || \"\";\r\n    var defaultFormat = {\r\n        symbol: moneyFormat.symbol,\r\n        decimalSeparator: moneyFormat.decimalSeparator || \",\",\r\n        groupSeparator: moneyFormat.groupSeparator || \".\",\r\n        decimalDigits: moneyFormat.decimalDigits || \"2\"\r\n    };\r\n    if (moneyFormat.allowDecimals === false) {\r\n        defaultFormat.decimalDigits = \"0\";\r\n    }\r\n\r\n    $(\".formatMoney\", htmlContent).not(\".formated\").each(function (index, elem) {\r\n        var content = $(elem).html();\r\n        $(elem).addClass(\"formated\");\r\n        try {\r\n            var value = parseFloat(content);\r\n            if (!isNaN(value)) {\r\n                var formatMoney = bizagi.util.formatMoney(value, defaultFormat);\r\n                $(elem).html(formatMoney);\r\n            }\r\n        } catch (e) {\r\n            // Restore the original content\r\n            $(elem).html(content);\r\n        }\r\n    });\r\n};\r\n\r\n/*\r\n * Format html  number\r\n */\r\nbizagi.util.formatInvariantNumber = function (htmlContent, numberFormat) {\r\n    htmlContent = htmlContent || \"\";\r\n    var decimalDigits = \"2\";\r\n    if (numberFormat.decimalDigits == \"0\")\r\n        decimalDigits = \"0\";\r\n    else\r\n        decimalDigits = numberFormat.decimalDigits || \"2\";\r\n\r\n    var defaultFormat = {\r\n        symbol: \"\",\r\n        decimalSeparator: numberFormat.decimalSeparator || \",\",\r\n        groupSeparator: numberFormat.groupSeparator || numberFormat.thousands ? \".\" : \"\",\r\n        decimalDigits: decimalDigits\r\n    };\r\n    $(\".formatMoney\", htmlContent).not(\".formated\").each(function (index, elem) {\r\n        var content = $(elem).html();\r\n        $(elem).addClass(\"formated\");\r\n        try {\r\n            var containsLetter = content.match(/[a-zA-Z]/);\r\n            var value = (containsLetter != null && containsLetter.length > 0) ? NaN : parseFloat(content);\r\n            if (!isNaN(value)) {\r\n                var formatNumber = bizagi.util.formatMoney(value, defaultFormat);\r\n                if (numberFormat.percentage) {\r\n                    formatNumber = formatNumber.toString() + \"%\";\r\n                }\r\n                $(elem).html(formatNumber);\r\n            }\r\n        } catch (e) {\r\n            // Restore the original content\r\n            $(elem).html(content);\r\n        }\r\n    });\r\n};\r\n\r\n/*\r\n * Format html with invariant date\r\n */\r\nbizagi.util.formatInvariantDate = function (htmlContent, dateFormat) {\r\n    htmlContent = htmlContent || \"\";\r\n    dateFormat = dateFormat || \"MM/dd/yyyy hh:mm:ss\";\r\n    $(\".formatDate\", htmlContent).not(\".formated\").each(function (index, elem) {\r\n        var content = $(elem).html();\r\n        $(elem).addClass(\"formated\");\r\n        try {\r\n            var value = new Date(content);\r\n            var dateTimeFormat = dateFormat;\r\n\r\n            if (bizagi.util.isValidDate(value))\r\n                dateTimeFormat = bizagi.util.getFormatDate(value, dateTimeFormat);\r\n\r\n            var formatDate = bizagi.util.dateFormatter.formatDate(value, dateTimeFormat /*self.getResource(\"dateFormat\")*/);\r\n            $(elem).html(formatDate);\r\n        } catch (e) {\r\n            // Restore the original content\r\n            $(elem).html(content);\r\n        }\r\n    });\r\n};\r\n\r\n/**\r\n * Return format date with resources from string invariant date. It use the format specified\r\n * @param stringDateInvariant, string invariant date\r\n */\r\nbizagi.util.formatDateFromInvariantStringDate = function (stringInvariantDate) {\r\n    if (bizagi.util.isValidDate(stringInvariantDate)) {\r\n        var dateTimeFormat = bizagi.localization.getResource(\"dateFormat\") + ' ' + bizagi.localization.getResource(\"timeFormat\");\r\n        var value = new Date(stringInvariantDate);\r\n        dateTimeFormat = bizagi.util.getFormatDate(value, dateTimeFormat);\r\n\r\n        var formatDate = bizagi.util.dateFormatter.formatDate(value, dateTimeFormat);\r\n        return formatDate;\r\n    }\r\n    return stringInvariantDate || \"\";\r\n};\r\n\r\nbizagi.util.getFormatDate = function (dateValue, defaultFormatDate) {\r\n    var dateTimeFormat = defaultFormatDate;\r\n\r\n    var H = dateValue.getHours();\r\n    var m = dateValue.getMinutes();\r\n    var s = dateValue.getSeconds();\r\n    var ms = dateValue.getMilliseconds();\r\n\r\n    //Don't show time when hour, minutes, seconds and milliseconds are 0\r\n    if (H === 0 && m === 0 && s === 0 && ms === 0)\r\n        dateTimeFormat = bizagi.localization.getResource(\"dateFormat\");\r\n\r\n    return dateTimeFormat;\r\n};\r\n\r\n/**\r\n * Format value by dataType\r\n */\r\n\r\nbizagi.util.formatValueByDataType = function (value, dataType) {\r\n    /**\r\n     * Types Definedin Backend\r\n     * None = 0,BigInt = 1,Int = 2,SmallInt = 3,TinyInt = 4,Boolean = 5,Decimal = 6,Numeric = 7,Money = 8,Float = 10,Real = 11,DateTime = 12,SmallDateTime = 13,\r\n     Char = 14,VarChar = 15,Text = 16,Binary = 17,VarBinary = 18,Image = 19,Guid = 20,NChar = 21,NVarChar = 22,NText = 23,MxMBidirectionalRelationship = 24,\r\n     MxMUnidirectionalRelationship = 25,EntityDisabled = 26,UserAuth = 27,MxMUnidirectionalRelationshipWithoutFilter = 28,OracleNumber = 29,\r\n     Stakeholder = 30,ActivityItems = 31\r\n     *\r\n     * */\r\n    var result = value;\r\n    switch (dataType) {\r\n        case \"NText\":\r\n        case 23:\r\n        case \"Char\":\r\n        case 14:\r\n        case \"VarChar\":\r\n        case 15:\r\n        case \"Text\":\r\n        case 16:\r\n            if (value && value.length > 30) {\r\n                result = bizagi.util.replaceLineBreak(value);\r\n            }\r\n            break;\r\n        case \"Boolean\":\r\n        case 5:\r\n        case \"Binary\":\r\n        case 17:\r\n            result = bizagi.util.formatBoolean(value);\r\n            break;\r\n        case \"Int\":\r\n        case 2:\r\n        case \"BigInt\":\r\n        case 1:\r\n        case \"SmallInt\":\r\n        case 3:\r\n        case \"TinyInt\":\r\n        case 4:\r\n        case \"Numeric\":\r\n        case 7:\r\n            result = (value === undefined || value === null) ? \"\" : value;\r\n            break;\r\n        case \"Money\":\r\n        case 8:\r\n            result = bizagi.util.formatMonetaryCell(value);\r\n            break;\r\n        case \"Float\":\r\n        case 10:\r\n        case \"Real\":\r\n        case 11:\r\n        case \"Decimal\":\r\n        case 6:\r\n            result = bizagi.util.formatDecimalCell(value);\r\n            break;\r\n        case \"DateTime\":\r\n        case 12:\r\n        case \"SmallDateTime\":\r\n        case 13:\r\n            result = bizagi.util.formatDateFromInvariantStringDate(value);\r\n            break;\r\n    }\r\n    if (result == null) {\r\n        result = \"\";\r\n    }\r\n    return result;\r\n};\r\n\r\n/**\r\n * Check if it is a valid date\r\n */\r\nbizagi.util.isValidDate = function (params) {\r\n    if (typeof (params) != \"undefined\" && params != null) {\r\n        var parseDate = new Date(params);\r\n        return !isNaN(parseDate.valueOf());\r\n    } else return false;\r\n};\r\n\r\n/*\r\n *   Defines a date time formatter that will be available globally\r\n */\r\nbizagi.util.monthNames = new Array('January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec');\r\nbizagi.util.dayNames = new Array('Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat');\r\n\r\nbizagi.util.dateFormatter = new function () {\r\n    this.LZ = function (x) {\r\n        return (x < 0 || x > 9 ? \"\" : \"0\") + x;\r\n    };\r\n    /*\r\n     *   isDate ( date_string, format_string )\r\n     *   Returns true if date string matches format of format string and\r\n     *   is a valid date. Else returns false.\r\n     *   It is recommended that you trim whitespace around the value before\r\n     *   passing it to this function, as whitespace is NOT ignored!\r\n     */\r\n    this.isDate = function (val, format) {\r\n        var date = this.getDateFromFormat(val, format);\r\n        if (date == 0) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n\r\n    this.getRelativeTime = function (date, dateFormat, onlyUnitsTime) {\r\n\r\n        var self = this;\r\n        var now = new Date();\r\n        var time = (date instanceof Date) ? date : kendo.parseDate(date, dateFormat);\r\n        var diff = now.getTime() - time.getTime();\r\n        var timeDiff = getTimeDiffDescription(diff, 'year', 31536000000, onlyUnitsTime);\r\n\r\n        if (!timeDiff) {\r\n            timeDiff = getTimeDiffDescription(diff, 'month', 2628000000, onlyUnitsTime);\r\n            if (!timeDiff) {\r\n                timeDiff = getTimeDiffDescription(diff, 'week', 604800000, onlyUnitsTime);\r\n                if (!timeDiff) {\r\n                    timeDiff = getTimeDiffDescription(diff, 'day', 86400000, onlyUnitsTime);\r\n                    if (!timeDiff) {\r\n                        timeDiff = getTimeDiffDescription(diff, 'hour', 3600000, onlyUnitsTime);\r\n                        if (!timeDiff) {\r\n                            timeDiff = getTimeDiffDescription(diff, 'minute', 60000, onlyUnitsTime);\r\n                            if (!timeDiff) {\r\n                                if (onlyUnitsTime) {\r\n                                    if (diff === 0) {\r\n                                        timeDiff = getTimeDiffDescription(diff + 1, 'minute', 1, onlyUnitsTime);\r\n                                    } else {\r\n                                        timeDiff = getTimeDiffDescription(diff, 'minute', 1, onlyUnitsTime);\r\n                                    }\r\n                                } else {\r\n                                    timeDiff = getTimeDiffDescription(diff, 'second', 2000, onlyUnitsTime);\r\n                                    if (!timeDiff) {\r\n                                        timeDiff = bizagi.localization.getResource(\"workportal-relativetime-momentago\");\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return timeDiff;\r\n\r\n        /*\r\n         * Get Time Difference\r\n         */\r\n        function getTimeDiffDescription(diff, unit, timeDivisor, onlyUnitsTime) {\r\n            var unitAmount = (diff / timeDivisor).toFixed(0);\r\n\r\n            if (unitAmount > 0) {\r\n                if (onlyUnitsTime) {\r\n                    return (unitAmount == 1 ? bizagi.localization.getResource(\"workportal-relativetime-\" + unit).replace(\"%s\", unitAmount) : bizagi.localization.getResource(\"workportal-relativetime-\" + unit + \"s\").replace(\"%s\", unitAmount));\r\n                } else {\r\n                    var resourceAgo = bizagi.localization.getResource(\"workportal-relativetime-ago\");\r\n                    return (unitAmount == 1 ? resourceAgo.replace(\"%s\", bizagi.localization.getResource(\"workportal-relativetime-\" + unit).replace(\"%s\", unitAmount)) : resourceAgo.replace(\"%s\", bizagi.localization.getResource(\"workportal-relativetime-\" + unit + \"s\").replace(\"%s\", unitAmount)));\r\n                }\r\n\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n    };\r\n\r\n    /*\r\n     *   compareDates(date1,date1format,date2,date2format)\r\n     *   Compare two date strings to see which is greater.\r\n     *   Returns:\r\n     *   1 if date1 is greater than date2\r\n     *   0 if date2 is greater than date1 of if they are the same\r\n     *  -1 if either of the dates is in an invalid format\r\n     */\r\n    this.compareDates = function (date1, dateformat1, date2, dateformat2) {\r\n        var d1 = getDateFromFormat(date1, dateformat1);\r\n        var d2 = getDateFromFormat(date2, dateformat2);\r\n        if (d1 == 0 || d2 == 0) {\r\n            return -1;\r\n        } else if (d1 > d2) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    };\r\n    /*\r\n     *   getDifferenceBetweenDates(date1,date2, unit)\r\n     *   Compare two date objects to see difference between them. The number result by unit specified.\r\n     *\r\n     *   Returns:\r\n     *   Difference value between two dates.\r\n     *   Message string if either of the dates is in an invalid format\r\n     */\r\n    this.getDifferenceBetweenDates = function (date1, date2, unit) {\r\n        if (date1 instanceof Date && date1 instanceof Date) {\r\n            switch (unit) {\r\n                case \"seconds\":\r\n                    return (date2.getTime() - date1.getTime()) / 1000;\r\n                case \"milliseconds\":\r\n                    return (date2.getTime() - date1.getTime());\r\n                default:\r\n                    return \"unit is not Defined\";\r\n            }\r\n        } else {\r\n            return \"one param not is Date\";\r\n        }\r\n\r\n    };\r\n    /*\r\n     *   formatDate (date_object, format)\r\n     *   Returns a date in the output format specified.\r\n     *   The format string uses the same abbreviations as in getDateFromFormat()\r\n     */\r\n    this.formatDate = function (date, format, i18n) {\r\n        // Check if date is valid\r\n        if (!bizagi.util.isValidDate(date) || date == 0) {\r\n            return \"\";\r\n        }\r\n\r\n        var monthNames = bizagi.util.monthNames;\r\n        var dayNames = bizagi.util.dayNames;\r\n        format = format + \"\";\r\n        var result = \"\";\r\n        var i_format = 0;\r\n        var c;\r\n        var token;\r\n        var y = date.getFullYear() + \"\";\r\n        var M = date.getMonth() + 1;\r\n        var d = date.getDate();\r\n        var E = date.getDay();\r\n        var H = date.getHours();\r\n        var m = date.getMinutes();\r\n        var s = date.getSeconds();\r\n        var f = date.getMilliseconds();\r\n        // Convert real date parts into formatted versions\r\n        var value = new Object();\r\n\r\n        if (bizagi.util.isValidResource(\"datePickerRegional\")) {\r\n            i18n = bizagi.localization.getResource(\"datePickerRegional\");\r\n        }\r\n\r\n        if (i18n) {\r\n            var months = i18n.monthNames.concat(i18n.monthNamesShort);\r\n            var days = i18n.dayNames.concat(i18n.dayNamesShort);\r\n            monthNames = monthNames.toString() === months.toString() ? monthNames : months;\r\n            dayNames = dayNames.toString() === days.toString() ? dayNames : days;\r\n        }\r\n\r\n        if (y.length < 4 || (y.charAt(0) === \"-\" && y.length < 5)) {\r\n            y = \"\" + (y - 0 + 1900);\r\n        }\r\n        value[\"y\"] = \"\" + y;\r\n        value[\"yyyy\"] = y;\r\n        value[\"yy\"] = y.substring(2, 4);\r\n        value[\"M\"] = M;\r\n        value[\"MM\"] = this.LZ(M);\r\n        value[\"MMM\"] = monthNames[M + 11];\r\n        value[\"MMMM\"] = monthNames[M - 1];\r\n        value[\"NNN\"] = monthNames[M + 11];\r\n        value[\"d\"] = d;\r\n        value[\"dd\"] = this.LZ(d);\r\n        value[\"ddd\"] = dayNames[E + 7];\r\n        value[\"dddd\"] = dayNames[E];\r\n        value[\"E\"] = dayNames[E + 7];\r\n        value[\"EE\"] = dayNames[E];\r\n        value[\"H\"] = H;\r\n        value[\"HH\"] = this.LZ(H);\r\n        value[\"tt\"] = H < 12 ? \"am\" : \"pm\";\r\n        value[\"TT\"] = H < 12 ? \"AM\" : \"PM\";\r\n\r\n\r\n        if (H == 0) {\r\n            value[\"h\"] = 12;\r\n        } else if (H > 12) {\r\n            value[\"h\"] = H - 12;\r\n        } else {\r\n            value[\"h\"] = H;\r\n        }\r\n        value[\"hh\"] = this.LZ(value[\"h\"]);\r\n        if (H > 11) {\r\n            value[\"K\"] = H - 12;\r\n        } else {\r\n            value[\"K\"] = H;\r\n        }\r\n        value[\"k\"] = H + 1;\r\n        value[\"KK\"] = this.LZ(value[\"K\"]);\r\n        value[\"kk\"] = this.LZ(value[\"k\"]);\r\n        if (H > 11) {\r\n            value[\"a\"] = \"PM\";\r\n        } else {\r\n            value[\"a\"] = \"AM\";\r\n        }\r\n        value[\"m\"] = m;\r\n        value[\"mm\"] = this.LZ(m);\r\n        value[\"s\"] = s;\r\n        value[\"ss\"] = this.LZ(s);\r\n        value[\"FFF\"] = f;\r\n\r\n        while (i_format < format.length) {\r\n            c = format.charAt(i_format);\r\n            token = \"\";\r\n            while ((format.charAt(i_format) == c) && (i_format < format.length)) {\r\n                token += format.charAt(i_format++);\r\n            }\r\n            if (value[token] != null) {\r\n                result = result + value[token];\r\n            } else {\r\n                result = result + token;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    /*\r\n     *   getDateFromFormat( date_string , format_string )\r\n     *\r\n     *   This function takes a date string and a format string. It matches\r\n     *   If the date string matches the format string, it returns the \r\n     *   getTime() of the date. If it does not match, it returns 0.\r\n     */\r\n    this.getDateFromFormat = function (val, format, i18n) {\r\n        var monthNames = bizagi.util.monthNames;\r\n        var dayNames = bizagi.util.dayNames;\r\n        val = val + \"\";\r\n        format = format + \"\";\r\n        var i_val = 0;\r\n        var i_format = 0;\r\n        var c;\r\n        var token;\r\n        var x = 0,\r\n            y = 0;\r\n        var now = new Date();\r\n        var year = now.getYear();\r\n        var month = now.getMonth() + 1;\r\n        var date = 1;\r\n        var hh = now.getHours();\r\n        var mm = now.getMinutes();\r\n        var ss = now.getSeconds();\r\n        var FFF = now.getMilliseconds();\r\n        var ampm = \"\";\r\n\r\n        if (bizagi.util.isValidResource(\"datePickerRegional\")) {\r\n            i18n = bizagi.localization.getResource(\"datePickerRegional\");\r\n        }\r\n\r\n        if (i18n) {\r\n            var months = i18n.monthNames.concat(i18n.monthNamesShort);\r\n            var days = i18n.dayNames.concat(i18n.dayNamesShort);\r\n            monthNames = monthNames.toString() === months.toString() ? monthNames : months;\r\n            dayNames = dayNames.toString() === days.toString() ? dayNames : days;\r\n        }\r\n\r\n        while (i_format < format.length) {\r\n            // Get next token from format string\r\n            c = format.charAt(i_format);\r\n            token = \"\";\r\n            while ((format.charAt(i_format) == c) && (i_format < format.length)) {\r\n                token += format.charAt(i_format++);\r\n            }\r\n            // Extract contents of value based on format token\r\n            if (token == \"yyyy\" || token == \"yy\" || token == \"y\") {\r\n                if (token == \"yyyy\") {\r\n                    x = 4;\r\n                    y = 4;\r\n                }\r\n                if (token == \"yy\") {\r\n                    x = 2;\r\n                    y = 2;\r\n                }\r\n                if (token == \"y\") {\r\n                    x = 2;\r\n                    y = 4;\r\n                }\r\n                year = _getInt(val, i_val, x, y);\r\n                if (year == null) {\r\n                    return 0;\r\n                }\r\n                i_val += year.length;\r\n                if (year.length == 2) {\r\n                    if (year > 70) {\r\n                        year = 1900 + (year - 0);\r\n                    } else {\r\n                        year = 2000 + (year - 0);\r\n                    }\r\n                }\r\n            } else if (token == \"MMMM\" || token == \"MMM\" || token == \"NNN\") {\r\n                month = 0;\r\n                for (var i = 0; i < monthNames.length; i++) {\r\n                    var month_name = monthNames[i];\r\n                    if (val.substring(i_val, i_val + month_name.length).toLowerCase() == month_name.toLowerCase()) {\r\n                        if (token == \"MMMM\" || token == \"MMM\" || (token == \"NNN\" && i > 11)) {\r\n                            month = i + 1;\r\n                            if (month > 12) {\r\n                                month -= 12;\r\n                            }\r\n                            i_val += month_name.length;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if ((month < 1) || (month > 12)) {\r\n                    return 0;\r\n                }\r\n            } else if (token == \"dddd\" || token == \"EE\" || token == \"E\") {\r\n                for (var j = 0; j < dayNames.length; j++) {\r\n                    var day_name = dayNames[j];\r\n                    if (val.substring(i_val, i_val + day_name.length).toLowerCase() == day_name.toLowerCase()) {\r\n                        i_val += day_name.length;\r\n                        break;\r\n                    }\r\n                }\r\n            } else if (token == \"MM\" || token == \"M\") {\r\n                month = _getInt(val, i_val, 1, 2);\r\n                if (month == null || (month < 1) || (month > 12)) {\r\n                    return 0;\r\n                }\r\n                i_val += month.length;\r\n            } else if (token == \"dd\" || token == \"d\") {\r\n                date = _getInt(val, i_val, 1, 2);\r\n                if (date == null || (date < 1) || (date > 31)) {\r\n                    return 0;\r\n                }\r\n                i_val += date.length;\r\n            } else if (token == \"hh\" || token == \"h\") {\r\n                hh = _getInt(val, i_val, token.length, 2);\r\n                if (hh == null || (hh < 1) || (hh > 12)) {\r\n                    return 0;\r\n                }\r\n                i_val += hh.length;\r\n            } else if (token == \"HH\" || token == \"H\") {\r\n                hh = _getInt(val, i_val, token.length, 2);\r\n                if (hh == null || (hh < 0) || (hh > 23)) {\r\n                    return 0;\r\n                }\r\n                i_val += hh.length;\r\n            } else if (token == \"KK\" || token == \"K\") {\r\n                hh = _getInt(val, i_val, token.length, 2);\r\n                if (hh == null || (hh < 0) || (hh > 11)) {\r\n                    return 0;\r\n                }\r\n                i_val += hh.length;\r\n            } else if (token == \"kk\" || token == \"k\") {\r\n                hh = _getInt(val, i_val, token.length, 2);\r\n                if (hh == null || (hh < 1) || (hh > 24)) {\r\n                    return 0;\r\n                }\r\n                i_val += hh.length;\r\n                hh--;\r\n            } else if (token == \"mm\" || token == \"m\") {\r\n                mm = _getInt(val, i_val, token.length, 2);\r\n                if (mm == null || (mm < 0) || (mm > 59)) {\r\n                    return 0;\r\n                }\r\n                i_val += mm.length;\r\n            } else if (token == \"ss\" || token == \"s\") {\r\n                ss = _getInt(val, i_val, token.length, 2);\r\n                if (ss == null || (ss < 0) || (ss > 59)) {\r\n                    return 0;\r\n                }\r\n                i_val += ss.length;\r\n            } else if (token == \"FFF\") {\r\n                ff = _getInt(val, i_val, token.length, 3);\r\n                if (ff == null || (ff < 0) || (ff > 999)) {\r\n                    return 0;\r\n                }\r\n                i_val += ff.length;\r\n            } else if (token == \"a\" || token == \"tt\") {\r\n                if (val.substring(i_val, i_val + 2).toLowerCase() == \"am\") {\r\n                    ampm = \"AM\";\r\n                } else if (val.substring(i_val, i_val + 2).toLowerCase() == \"pm\") {\r\n                    ampm = \"PM\";\r\n                } else {\r\n                    return 0;\r\n                }\r\n                i_val += 2;\r\n            } else {\r\n                if (val.substring(i_val, i_val + token.length) != token) {\r\n                    return 0;\r\n                } else {\r\n                    i_val += token.length;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Is date valid for month?\r\n        if (month == 2) {\r\n            // Check for leap year\r\n            if (((year % 4 == 0) && (year % 100 != 0)) || (year % 400 == 0)) { // leap year\r\n                if (date > 29) {\r\n                    return 0;\r\n                }\r\n            } else {\r\n                if (date > 28) {\r\n                    return 0;\r\n                }\r\n            }\r\n        }\r\n        if ((month == 4) || (month == 6) || (month == 9) || (month == 11)) {\r\n            if (date > 30) {\r\n                return 0;\r\n            }\r\n        }\r\n        // Correct hours value\r\n        if (hh < 12 && ampm == \"PM\") {\r\n            hh = hh - 0 + 12;\r\n        } else if (hh > 11 && ampm == \"AM\") {\r\n            hh -= 12;\r\n        }\r\n        var newdate = new Date(year, month - 1, date, hh, mm, ss);\r\n        return newdate;\r\n\r\n        /*\r\n         *   Utility method for parsing in getDateFromFormat()\r\n         */\r\n        function _isInteger(_val) {\r\n            var digits = \"1234567890\";\r\n            for (var k = 0; k < _val.length; k++) {\r\n                if (digits.indexOf(_val.charAt(k)) == -1) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        };\r\n        /*\r\n         *   Utility method for parsing in getDateFromFormat()\r\n         */\r\n        function _getInt(str, l, minlength, maxlength) {\r\n            for (var m = maxlength; m >= minlength; m--) {\r\n                var _token = str.substring(l, l + m);\r\n                if (_token.length < minlength) {\r\n                    return null;\r\n                }\r\n                if (_isInteger(_token)) {\r\n                    return _token;\r\n                }\r\n            }\r\n            return null;\r\n        };\r\n    };\r\n    /*\r\n     * parseDate( date_string [, prefer_euro_format] )\r\n     *\r\n     * This function takes a date string and tries to match it to a\r\n     * number of possible date formats to get the value. It will try to\r\n     * match against the following international formats, in this order:\r\n     * y-M-d   MMM d, y   MMM d,y   y-MMM-d   d-MMM-y  MMM d\r\n     * M/d/y   M-d-y      M.d.y     MMM-d     M/d      M-d\r\n     * d/M/y   d-M-y      d.M.y     d-MMM     d/M      d-M\r\n     * A second argument may be passed to instruct the method to search\r\n     * for formats like d/M/y (european format) before M/d/y (American).\r\n     * Returns a Date object or null if no patterns match.\r\n     */\r\n    this.parseDate = function (val) {\r\n        var preferEuro = (arguments.length == 2) ? arguments[1] : false;\r\n        var generalFormats = new Array('y-M-d', 'MMM d, y', 'MMM d,y', 'y-MMM-d', 'd-MMM-y', 'MMM d');\r\n        var monthFirst = new Array('M/d/y', 'M-d-y', 'M.d.y', 'MMM-d', 'M/d', 'M-d');\r\n        var dateFirst = new Array('d/M/y', 'd-M-y', 'd.M.y', 'd-MMM', 'd/M', 'd-M');\r\n        var checkList = new Array(generalFormats, preferEuro ? dateFirst : monthFirst, preferEuro ? monthFirst : dateFirst);\r\n        var d;\r\n        for (var i = 0; i < checkList.length; i++) {\r\n            var l = window[checkList[i]];\r\n            for (var j = 0; j < l.length; j++) {\r\n                d = getDateFromFormat(val, l[j]);\r\n                if (d != 0) {\r\n                    return new Date(d);\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    /*\r\n     *   Method to analyze a time format and checks separator, and hour format, and seconds\r\n     */\r\n    this.analyzeTimeFormat = function (timeFormat) {\r\n        var i = 0;\r\n        var c;\r\n        // Define return object\r\n        var returnObj = {\r\n            show24Hours: false,\r\n            showSeconds: false,\r\n            separator: \":\"\r\n        };\r\n        // Analize format\r\n        var token, lastToken = \"\";\r\n        while (i < timeFormat.length) {\r\n            // Get next token from format string\r\n            c = timeFormat.charAt(i);\r\n            token = \"\";\r\n            while ((timeFormat.charAt(i) == c) && (i < timeFormat.length)) {\r\n                token += timeFormat.charAt(i++);\r\n            }\r\n\r\n            // Extract contents of value based on format token\r\n            if (token == \"hh\" || token == \"h\") {\r\n                lastToken = token;\r\n                returnObj.show24Hours = false;\r\n            } else if (token == \"HH\" || token == \"H\") {\r\n                lastToken = token;\r\n                returnObj.show24Hours = true;\r\n            } else if (token == \"mm\" || token == \"m\") {\r\n                lastToken = token;\r\n            } else if (token == \"ss\" || token == \"s\") {\r\n                lastToken = token;\r\n                returnObj.showSeconds = true;\r\n            } else if (token == \"a\") {\r\n                lastToken = token;\r\n            } else {\r\n                if (lastToken.toUpperCase() == \"H\" || lastToken.toUpperCase() == \"HH\") {\r\n                    returnObj.separator = token;\r\n                }\r\n            }\r\n        }\r\n\r\n        return returnObj;\r\n    };\r\n    this.getDateFromInvariant = function (value, showTime) {\r\n        value = (value == null) ? \"\" : value;\r\n        value = (typeof value != \"string\") ? value.toString() : value;\r\n        var INVARIANT_FORMAT = \"MM/dd/yyyy\" + (showTime ? \" H:mm:ss\" : \"\");\r\n        if (showTime) {\r\n            if (value && (value.toLowerCase().indexOf(\"am\") > 0 || value.toLowerCase().indexOf(\"pm\") > 0)) {\r\n                INVARIANT_FORMAT = \"MM/dd/yyyy h:mm:ss a\";\r\n            }\r\n        }\r\n        var date = bizagi.util.dateFormatter.getDateFromFormat(value, INVARIANT_FORMAT);\r\n        // Also try to read the date with full format if the last instruction didn't success\r\n        if (date == 0 && !showTime) {\r\n            INVARIANT_FORMAT = \"MM/dd/yyyy H:mm:ss\";\r\n            date = bizagi.util.dateFormatter.getDateFromFormat(value, INVARIANT_FORMAT);\r\n        } else if (date == 0 && showTime && value != null && value != \"\") {\r\n            INVARIANT_FORMAT = \"MM/dd/yyyy\";\r\n            date = bizagi.util.dateFormatter.getDateFromFormat(value, INVARIANT_FORMAT);\r\n            date.setHours(0, 0, 0, 0);\r\n        }\r\n\r\n        return date;\r\n    };\r\n    this.formatInvariant = function (date, showTime) {\r\n        var INVARIANT_FORMAT = \"MM/dd/yyyy\" + (showTime ? \" HH:mm:ss\" : \"\");\r\n        var formattedDate = bizagi.util.dateFormatter.formatDate(date, INVARIANT_FORMAT);\r\n        return formattedDate;\r\n    };\r\n    this.getDateFromISO = function (value, showTime) {\r\n        var ISO_FORMAT = \"yyyy-MM-dd\" + (showTime ? \" HH:mm\" : \"\");\r\n        var date = bizagi.util.dateFormatter.getDateFromFormat(value, ISO_FORMAT);\r\n        // If the date could not be parsed, try it out with seconds\r\n        if (date == 0 && showTime) {\r\n            ISO_FORMAT = \"yyyy-MM-dd\" + (showTime ? \" HH:mm:ss\" : \"\");\r\n            date = bizagi.util.dateFormatter.getDateFromFormat(value, ISO_FORMAT);\r\n        }\r\n\r\n        // Also try to read the date with full format if the last instruction didn't success\r\n        if (date == 0 && !showTime) {\r\n            ISO_FORMAT = \"yyyy-MM-dd HH:mm\";\r\n            date = bizagi.util.dateFormatter.getDateFromFormat(value, ISO_FORMAT);\r\n            // If the date could not be parsed, try it out with seconds\r\n            if (date == 0) {\r\n                ISO_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\r\n                date = bizagi.util.dateFormatter.getDateFromFormat(value, ISO_FORMAT);\r\n            }\r\n        }\r\n\r\n        return date;\r\n    };\r\n    this.formatISO = function (date, showTime) {\r\n        var ISO_FORMAT = \"yyyy-MM-dd\" + (showTime ? \" HH:mm\" : \"\");\r\n        var formattedDate = bizagi.util.dateFormatter.formatDate(date, ISO_FORMAT);\r\n        return formattedDate;\r\n    };\r\n\r\n    this.formatISO8601 = function (dateObject, restartTimeToMidnight) {\r\n        var restartTimeToMidnight = restartTimeToMidnight || false;\r\n        var ISO_FORMAT8601 = \"yyyy-MM-ddTHH:mm:ss\";\r\n        if (restartTimeToMidnight) {\r\n            dateObject.setHours(0, 0, 0, 0);\r\n        }\r\n        return bizagi.util.dateFormatter.formatDate(dateObject, ISO_FORMAT8601);\r\n    };\r\n\r\n    this.isFormatISO8601 = function (stringDate) {\r\n        var ISO_8601_WITH_TIME = /^\\d{4}-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d(\\.\\d+)?(([+-]\\d\\d:\\d\\d)|Z)?$/i\r\n        return ISO_8601_WITH_TIME.test(stringDate);\r\n    };\r\n\r\n    this.sleep = function (delay) {\r\n        // Delay in miliseconds\r\n        var start = new Date().getTime();\r\n        while (new Date().getTime() < start + delay) {\r\n            // wait\r\n        }\r\n    };\r\n    this.getDateFormatByDatePickerJqueryUI = function () {\r\n        return bizagi.localization.getResource(\"dateFormat\").replace(\"yyyy\", \"yy\");\r\n    }\r\n};\r\n/*\r\n * Use localStorage in html5 verfiy supports and operations \r\n * http://dev.w3.org/html5/webstorage/#dom-storage-setitem\r\n */\r\n\r\nbizagi.util.browserSupportLocalStorage = function () {\r\n    try {\r\n        return 'localStorage' in window && window['localStorage'] !== null;\r\n    } catch (e) {\r\n        return false;\r\n    }\r\n};\r\n/*\r\n *set the item  in the local storage\r\n */\r\nbizagi.util.setItemLocalStorage = function (key, value) {\r\n    if (bizagi.util.browserSupportLocalStorage()) {\r\n        localStorage.setItem(key, value);\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n};\r\n\r\nbizagi.util.getItemLocalStorage = function (key) {\r\n    return localStorage.getItem(key);\r\n};\r\n\r\nbizagi.util.removeItemLocalStorage = function (key) {\r\n    localStorage.removeItem(key);\r\n};\r\n\r\nbizagi.util.clearLocalStorage = function () {\r\n    if (bizagi.util.browserSupportLocalStorage())\r\n        localStorage.clear();\r\n};\r\n\r\nfunction printf(msg) {\r\n    var args = Array.prototype.slice.call(arguments, 1), arg;\r\n    return msg.replace(/(%[disv])/g, function (a, val) {\r\n        arg = args.shift();\r\n        if (arg !== undefined) {\r\n            switch (val.charCodeAt(1)) {\r\n                case 100:\r\n                    return +arg; // d\r\n                case 105:\r\n                    return Math.round(+arg); // i\r\n                case 115:\r\n                    return String(arg); // s\r\n                case 118:\r\n                    return arg; // v\r\n            }\r\n        }\r\n        return val;\r\n    });\r\n}\r\n\r\n\r\n// Fix problem with console.log when we forgot to remove it\r\n(function () {\r\n    var environment = (typeof BIZAGI_ENVIRONMENT != \"undefined\") ? BIZAGI_ENVIRONMENT : \"release\";\r\n    if (environment == 'debug') {\r\n        if (typeof window.console != \"object\") {\r\n            window.console = {\r\n                log: function (msg) { /*Nothing to do*/ }\r\n            };\r\n        }\r\n    } else {\r\n        if (typeof console != \"object\") {\r\n            window.console = {\r\n                log: function (msg) { /*Nothing to do*/ }\r\n            };\r\n        } else if (bizagiConfig && !bizagiConfig.showConsoleLog) {\r\n            console.log = function (a) { /*Nothing to do*/ };\r\n        }\r\n    }\r\n})();\r\n\r\nbizagi.util.smartphone.startLoading = function (container) {\r\n    var elementToapply = container || $(\"body\");\r\n    elementToapply.append('<div class=\"bz-util-loading-container\"> <div class=\"ui-bizagi-loading-icon bz-util-loading\"></div>  </div>');\r\n};\r\nbizagi.util.smartphone.stopLoading = function (container) {\r\n    var elementToapply = container || $(\"body\");\r\n    $(\".bz-util-loading-container\", elementToapply).remove();\r\n};\r\n\r\n\r\n\r\n/**\r\n * determines whether the element in the browser supports the event we are looking for, eg 'paste', 'input', 'blur', etc. More info check modernizer.js.\r\n * @param  {string|*}           eventName  is the name of an event to test for (e.g. \"resize\")\r\n * @param  {(Object|string|*)=} element    is the element|document|window|tagName to test on\r\n * @return {boolean}\r\n */\r\nbizagi.util.isEventSupported = function (eventName, element) {\r\n    var needsFallback = !('onblur' in document.documentElement);\r\n    var isSupported;\r\n\r\n    if (!eventName) {\r\n        return false;\r\n    }\r\n    if (!element || typeof element === 'string') {\r\n        element = document.createElement(element || 'div');\r\n    }\r\n\r\n    // Testing via the `in` operator is sufficient for modern browsers and IE.\r\n    // When using `setAttribute`, IE skips \"unload\", WebKit skips \"unload\" and\r\n    // \"resize\", whereas `in` \"catches\" those.\r\n    eventName = 'on' + eventName;\r\n    isSupported = eventName in element;\r\n\r\n    // Fallback technique for old Firefox - bit.ly/event-detection\r\n    if (!isSupported && needsFallback) {\r\n        if (!element.setAttribute) {\r\n            // Switch to generic element if it lacks `setAttribute`.\r\n            // It could be the `document`, `window`, or something else.\r\n            element = document.createElement('div');\r\n        }\r\n        if (element.setAttribute && element.removeAttribute) {\r\n            element.setAttribute(eventName, '');\r\n            isSupported = typeof element[eventName] === 'function';\r\n\r\n            if (element[eventName] !== undefined) {\r\n                // If property was created, \"remove it\" by setting value to `undefined`.\r\n                element[eventName] = undefined;\r\n            }\r\n            element.removeAttribute(eventName);\r\n        }\r\n    }\r\n    return isSupported;\r\n};\r\n\r\n\r\n/**\r\n * Execute deferreds in order\r\n * @example var a = new bizagiQueue(); a.add(function);\r\n * \r\n */\r\nfunction bizagiQueue() {\r\n    var self = this;\r\n    var queue = [];\r\n\r\n    self.add = function (callback) {\r\n        queue.push({ callbacks: [callback] });\r\n    };\r\n\r\n    self.addParallel = function (callback) {\r\n        if (queue.length == 0) {\r\n            return self.add(callback);\r\n        }\r\n\r\n        // Put a parallel on last item\r\n        var last = queue[queue.length - 1];\r\n        last.callbacks.push(callback);\r\n    };\r\n\r\n    self.execute = function () {\r\n        var starter = new $.Deferred();\r\n        var promise = starter.promise();\r\n        var queueLength = queue.length;\r\n        for (var i = 0; i < queueLength; i++) {\r\n            promise = promise.pipe(function () {\r\n                var element = queue.shift();\r\n                return $.when.apply($, $.map(element.callbacks, function (callback) {\r\n                    // Function support\r\n                    if (typeof (callback) == \"function\") {\r\n                        var deferred = $.Deferred();\r\n                        $.when(callback()).done(function () {\r\n                            deferred.resolve();\r\n                        }).fail(function () {\r\n                            deferred.resolve();\r\n                        });\r\n                        return deferred.promise();\r\n                    }\r\n                    // Deferred support\r\n                    return callback;\r\n                }))\r\n            });\r\n        }\r\n\r\n        starter.resolve();\r\n        promise = promise.done(function () {\r\n            // Reset queue\r\n            queue = [];\r\n        });\r\n\r\n        return promise;\r\n    };\r\n}\r\n\r\n\r\n/**\r\n * Calculate circular dependencies \r\n * \r\n * @example var a = new bizagi.circularDependencies(); a.addNode('name',obj);\r\n * a.resolve(node);\r\n * \r\n */\r\n//TODO: DEPL - Check this because we agreed to a much simpler solution\r\nbizagi.circularDependencies = function () {\r\n    var circularDependencies = new Function();\r\n    var self = circularDependencies.prototype;\r\n    self.list = []; //[{ name: \"root\", obj: {}, nodeObj: {}, childs: {} }];\r\n    self.lastNodeAdded; // Undefined reference\r\n\r\n    self.addNode = function (name, obj) {\r\n        var OBJ = JSON.encode(obj);\r\n        var foundObjChildNode = _search(name, OBJ);\r\n        if (foundObjChildNode) {\r\n            var lastNode = self.lastNodeAdded || self.list[self.list.length - 1];\r\n            lastNode.nodeObj.addChild(foundObjChildNode.nodeObj);\r\n            self.lastNodeAdded = foundObjChildNode;\r\n        } else {\r\n            var node = new _addNode(name, OBJ);\r\n            self.list.push({\r\n                name: name,\r\n                obj: OBJ,\r\n                nodeObj: node,\r\n                timeStamp: new Date().getTime()\r\n            });\r\n            return node;\r\n        }\r\n    };\r\n\r\n    self.resolve = function (node, resolved, seen) {\r\n        // if dont setted node variable, take the first one -> root\r\n        node = node || _getFirstNodeWithChilds() || self.list[0].nodeObj;\r\n        var resolveDependencies = new _resolve(node, resolved, seen);\r\n        return resolveDependencies;\r\n    };\r\n\r\n    var _resetList = function () {\r\n        self.list = [];\r\n    };\r\n\r\n    var _getFirstNodeWithChilds = function () {\r\n        for (var i = 0; i < self.list.length; i++) {\r\n            if (self.list[i].nodeObj.childs.length > 0) {\r\n                return self.list[i].nodeObj;\r\n            }\r\n        }\r\n        return (self.list.length > 0) ? self.list[0].nodeObj : {};\r\n    };\r\n\r\n    var _search = function (name, obj) {\r\n        for (var i = 0; i < self.list.length; i++) {\r\n            if (self.list[i].name == name) {\r\n                // remove tag element\r\n                var now = new Date().getTime();\r\n                var timeToKeep = 1000; //milliseconds\r\n                if ((self.list[i].timeStamp + timeToKeep) < now) {\r\n                    //remove element from the list\r\n                    self.list.splice(i, 1);\r\n                } else if (self.list[i].obj == obj) {\r\n                    return self.list[i];\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n\r\n    var _addNode = (function (name, obj) {\r\n        name = name || \"\";\r\n        obj = obj || {};\r\n        var node = function (name, obj) {\r\n            this.name = name;\r\n            this.obj = obj;\r\n            this.childs = [];\r\n        };\r\n        var self = node.prototype;\r\n\r\n        self.addChild = function (node) {\r\n            this.childs.push(node);\r\n        };\r\n\r\n        return node;\r\n    })();\r\n\r\n    var _resolve = (function (node, resolved, seen) {\r\n        var resolve = function (node, resolved, seen) {\r\n            this.node = node || {};\r\n            this.node.childs = this.node.childs || [];\r\n            this.resolved = resolved || [];\r\n            this.seen = seen || [];\r\n\r\n            this.seen.push(this.node);\r\n\r\n            for (var i = 0; i < this.node.childs.length; i++) {\r\n                if (!self.hasObject(this.node.childs[i], this.resolved)) {\r\n                    if (self.hasObject(this.node.childs[i], this.seen)) {\r\n                        //throw new _error(\"error node:\" + node.name + \" -> \" + node.childs[i].name);\r\n                        _resetList();\r\n                        var error = {\r\n                            dependencyFrom: this.node.name,\r\n                            dependencyFromObj: this.node.obj,\r\n                            dependencyTo: this.node.childs[i].name,\r\n                            dependencyToObj: this.node.childs[i].obj,\r\n                            path: this.seen\r\n                        };\r\n\r\n                        return {\r\n                            error: $.extend({\r\n                                standardError: {\r\n                                    status: \"error\",\r\n                                    responseText: JSON.encode({ message: self.makeErrorMessage(error), type: \"alert\" })\r\n                                },\r\n                                multiactionError: {\r\n                                    message: self.makeErrorMessage(error),\r\n                                    type: \"alert\"\r\n                                }\r\n                            }, error)\r\n                        };\r\n                    } else {\r\n                        return resolve(this.node.childs[i], this.resolved, this.seen);\r\n                    }\r\n                }\r\n            }\r\n            if (this.resolved) {\r\n                this.resolved.push(this.node);\r\n            }\r\n        };\r\n\r\n        var self = resolve.prototype;\r\n\r\n        self.hasObject = function (toSearch, collection) {\r\n\r\n            for (var i = 0; i < collection.length; i++) {\r\n                if (collection[i].name == toSearch.name) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        };\r\n\r\n        self.makeErrorMessage = function (error) {\r\n            var messageTmpl = bizagi.localization.getResource(\"render-actions-loop-validation\");\r\n\r\n            return printf(messageTmpl, error.dependencyFrom, error.dependencyTo);\r\n\r\n            /*  return {\r\n                  responseText: parsedMessage,\r\n                  message: parsedMessage,\r\n                  extraInfo: error\r\n              };*/\r\n        };\r\n\r\n        return resolve;\r\n    })();\r\n\r\n    return self;\r\n};\r\n\r\n/**\r\n * Apply css string style (one or more). It works to add or override a specific style even if it has !important\r\n * \r\n * @example bizagi.util.cssExtended($('.myClass'), 'display:none!important;color:red');\r\n * \r\n */\r\nbizagi.util.cssExtended = function (instance, options) {\r\n    var cssToAdd = options.split(\";\");\r\n\r\n    for (i = 0; i < cssToAdd.length; i++) {\r\n        if (cssToAdd[i] != \"\") {\r\n            bizagi.util.cssExtendedApplyChanges(instance, cssToAdd[i]);\r\n        }\r\n    }\r\n\r\n};\r\n\r\n/**\r\n * Apply the style change \r\n * \r\n */\r\nbizagi.util.cssExtendedApplyChanges = function (instance, option) {\r\n\r\n    for (var i = 0; i < instance.length; i++) {\r\n        var $this = $(instance[i]);\r\n        var attrToAdd = option.split(\":\")[0];\r\n\r\n        if ($this.attr('style')) {\r\n            var tmpStyle = $this.attr('style').split(\";\");\r\n            var arrProperties = [];\r\n            var resultProperties = \"\";\r\n\r\n            for (j = 0; j < tmpStyle.length; j++) {\r\n                var cssProperty = tmpStyle[j].split(\":\");\r\n\r\n                if ($.trim(cssProperty[0]) != attrToAdd && $.trim(cssProperty[0]) != \"\") {\r\n                    arrProperties.push(cssProperty[0] + \":\" + cssProperty[1] + \";\");\r\n                }\r\n                resultProperties = JSON.stringify(arrProperties).replace(/\\\",\"/g, ' ').replace(/\\[\"/g, ' ').replace(/\\\"]/g, ' ');\r\n            }\r\n\r\n            resultProperties = resultProperties == \"[]\" ? \"\" : resultProperties;\r\n\r\n            $this.attr('style', resultProperties + option + \";\");\r\n        } else if ($this.css(attrToAdd)) {\r\n            var tmpStyle = $this.css(attrToAdd);\r\n            var arrProperties = [];\r\n            var resultProperties = \"\";\r\n\r\n            arrProperties.push(option + \";\");\r\n\r\n            resultProperties = resultProperties == \"[]\" ? \"\" : resultProperties;\r\n\r\n            $this.attr('style', resultProperties + option + \";\");\r\n        }\r\n    }\r\n};\r\n\r\n/*\r\n * Find element to make scroll top\r\n */\r\nbizagi.util.scrollTop = function (canvas) {\r\n    if (canvas && canvas[0]) {\r\n        while (canvas[0].tagName !== \"HTML\" && canvas.css(\"overflow-y\") != \"scroll\" && canvas.css(\"overflow-y\") != \"auto\" && canvas.parent().length > 0) {\r\n            canvas = canvas.parent();\r\n        }\r\n    }\r\n    return canvas;\r\n};\r\n\r\n/*\r\n * Sort a JSON array by attribute and order type (ascendant or descendant)\r\n * example: data = [ {attr1:val1, attr2:val2} , {attr1:val3, attr2:val4 },... ]  , key = \"attr2\" , way = \"asc\"\r\n */\r\nbizagi.util.sortJSON = function (data, key, way) {\r\n    return data.sort(function (a, b) {\r\n        var x = a[key];\r\n        var y = b[key];\r\n        if (way === 'asc') {\r\n            return ((x < y) ? -1 : ((x > y) ? 1 : 0));\r\n        }\r\n        if (way === 'desc') {\r\n            return ((x > y) ? -1 : ((x < y) ? 1 : 0));\r\n        }\r\n    });\r\n};\r\n\r\n/*\r\n * Reducir formato numérico a notación abrevidad (K:1000 - M:1000000 - B:1000000000)\r\n */\r\nbizagi.util.shortNumber = function (number) {\r\n    var newNumber = number.toString();\r\n    var lenghtNumber = newNumber.length;\r\n\r\n    if (lenghtNumber >= 4 && lenghtNumber < 7) {\r\n        newNumber = '+' + newNumber.charAt(0) + 'K';\r\n    } else if (lenghtNumber >= 7 && lenghtNumber < 10) {\r\n        newNumber = '+' + newNumber.charAt(0) + 'M';\r\n    } else if (lenghtNumber >= 10) {\r\n        newNumber = '+' + newNumber.charAt(0) + 'B';\r\n    }\r\n\r\n    return '&nbsp;&nbsp;&nbsp;' + newNumber;\r\n};\r\n\r\n/*\r\n * Aplicar formato salto de linea\r\n */\r\nbizagi.util.replaceLineBreak = function (string) {\r\n    return typeof string === \"string\" ? string.replace(/\\r\\n|\\r|\\n|<br>|<br\\/>/g, \"<br/>\") : string;\r\n};\r\n\r\n// http://shebang.brandonmintern.com/foolproof-html-escaping-in-javascript/\r\nbizagi.util.escapeHtml = function (str) {\r\n    var div = document.createElement('div');\r\n    div.appendChild(document.createTextNode(str));\r\n    return div.innerHTML;\r\n}\r\n\r\n\r\n/*\r\n * Aplicar formato Tipo moneda\r\n */\r\nbizagi.util.formatMonetaryCell = function (value) {\r\n    return bizagi.util.formatMoney(value, BIZAGI_DEFAULT_CURRENCY_INFO);\r\n};\r\n\r\n/*\r\n * Aplicar formato tipo decimal\r\n */\r\nbizagi.util.formatDecimalCell = function (value) {\r\n    var decimalFormat;\r\n    var externalDecimalFormat = {\r\n        decimalSymbol: BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator,\r\n        digitGroupSymbol: BIZAGI_DEFAULT_CURRENCY_INFO.groupSeparator,\r\n        roundToDecimalPlace: BIZAGI_DEFAULT_CURRENCY_INFO.decimalDigits\r\n    };\r\n    var defaultDecimalFormat = {\r\n        colorize: false,\r\n        decimalSymbol: \".\",\r\n        digitGroupSymbol: \",\",\r\n        groupDigits: true,\r\n        negativeFormat: \"(%s%n)\",\r\n        positiveFormat: \"%s%n\",\r\n        roundToDecimalPlace: \"2\",\r\n        symbol: \"\"\r\n    };\r\n    decimalFormat = $.extend(defaultDecimalFormat, externalDecimalFormat);\r\n    var numberValue = bizagi.util.formatDecimal(value, decimalFormat);\r\n    if (bizagi.override.removeTrailingZeros === true) {\r\n        var positive = true;\r\n        if (numberValue.toString().indexOf(\")\") != -1) {\r\n            positive = false;\r\n            numberValue = numberValue.replace(\"(\", \"\").replace(\")\", \"\");\r\n        }\r\n        var re = new RegExp(\"(\" + BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator + \"\\\\d*?[1-9])0+$\", \"g\");\r\n        numberValue = numberValue.replace(re, \"$1\");\r\n        re = new RegExp(\"\\\\\" + BIZAGI_DEFAULT_CURRENCY_INFO.decimalSeparator + \"0+$\", \"g\");\r\n        numberValue = numberValue.replace(re, \"\");\r\n\r\n\r\n        if (!positive) numberValue = \"(\" + numberValue + \")\";\r\n    }\r\n    return numberValue;\r\n};\r\n\r\n/*\r\n * Crea notificacion de corta duracion, principalmente uilizada en para los procesos offline\r\n */\r\nbizagi.util.showNotification = function (params) {\r\n    var params = params || {};\r\n    var div_sync = $('<div id=\"sync-notification\" class=\"bz-cm-icon\"></div>').text(params.text || \"\");\r\n    div_sync.appendTo($('body'));\r\n    div_sync.fadeIn(1500, function () {\r\n        div_sync.stop();\r\n    });\r\n\r\n    div_sync.fadeOut(2000, function () {\r\n        div_sync.remove();\r\n    });\r\n};\r\n\r\n/*\r\n * Verificar el estado de la conexión\r\n */\r\nbizagi.util.isModeOnline = function () {\r\n    return typeof bizagi.context.isOfflineForm !== \"undefined\" && !bizagi.context.isOfflineForm;\r\n};\r\n\r\nbizagi.util.dispose = function (obj) {\r\n    for (key in obj) {\r\n        if (typeof (obj[key]) == \"object\") delete obj[key];\r\n        if (typeof (obj[key]) == \"function\") { obj[key] = null; delete obj[key]; }\r\n    }\r\n};\r\n\r\nbizagi.util.arrayEach = function (array, callback) {\r\n    if (!!array) {\r\n        if (Object.prototype.toString.apply(array) === \"[object Array]\" && Object.prototype.toString.apply(callback) === \"[object Function]\") {\r\n            var index, value;\r\n            for (index in array) {\r\n                if (array.hasOwnProperty(index)) {\r\n                    value = callback.call(array[index], index, array[index]);\r\n                    if (value === false) {\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            $.each(array, callback);\r\n        }\r\n    }\r\n};\r\n\r\n//remove all the character except the +, - and decimal point\r\nbizagi.util.getStandardNotation = function (number, decimalSymbol) {\r\n    var plusCharacter = '+';\r\n    var minusCharacter = '-';\r\n    var decimalSymbol = decimalSymbol || '.';\r\n    var expSymbol = 'e';\r\n    var tmp = '';\r\n    //remove all the character except the +, -, decimal point and the numbers\r\n    var decimalNumber = false;\r\n    var exponentialNumber = false;\r\n    number = (number.length > 0 ? number.toString().toLowerCase() : '').replace(/ /g, '');\r\n    for (var i = 0; i < number.length; i++) {\r\n        if ((number[i] === plusCharacter || number[i] === minusCharacter) && (i === 0 || number[i - 1] == expSymbol)) {\r\n            tmp += number[i];\r\n        } else if (!isNaN(Number(number[i]))) {\r\n            tmp += number[i];\r\n        } else if ((number[i] === decimalSymbol) && !decimalNumber) {\r\n            tmp += number[i];\r\n            decimalNumber = true;\r\n        } else if ((number[i] === expSymbol) && !exponentialNumber) {\r\n            tmp += number[i];\r\n            exponentialNumber = true;\r\n        }\r\n    }\r\n    return tmp;\r\n};\r\n//Return it in normalized scientific notation\r\nbizagi.util.scientificNotationFormat = function (number, decimalSymbol, sdLimit, expMinLimit, expMaxLimit) {\r\n    decimalSymbol = decimalSymbol || '.';\r\n    number = bizagi.util.getStandardNotation(number, decimalSymbol);\r\n    sdLimit = (sdLimit > 0) ? sdLimit : 38;\r\n    expMinLimit = (expMinLimit > 0) ? expMinLimit : -125;\r\n    expMaxLimit = (expMaxLimit > 0) ? expMaxLimit : 125;\r\n    var expSimbol = 'e';\r\n    var sNregex = new RegExp('[0-9]+(' + decimalSymbol + '[0-9]+)?(e[+-]?[0-9]+)?');\r\n    var sNFormat = number.match(sNregex);\r\n\r\n    //get que prefix\r\n    var exp = 0;\r\n\r\n    var prefix = number[0] === '-' ? number[0] : '';\r\n    var originalPointIndex = 0;\r\n\r\n    number = number.replace(prefix, '');\r\n\r\n    //if the number is not in scientific notation\r\n    if (sNFormat && sNFormat[0] && sNFormat[2]) {\r\n        var tempParts = sNFormat[0] ? (sNFormat[0].replace(sNFormat[2], '').split(decimalSymbol)) : '';\r\n\r\n        var significantDigits = '';\r\n        var intPart = '';\r\n\r\n        //calculate significant digits\r\n        //remove zeros at the left\r\n        tempParts[0] = tempParts[0].replace(/^0+/g, '');\r\n\r\n        if (tempParts[0].length > 1) {\r\n            significantDigits = tempParts[0].slice(1);\r\n            originalPointIndex = significantDigits.length;\r\n            intPart = tempParts[0][0] || '';\r\n            significantDigits = significantDigits.concat(sNFormat[1] || '');\r\n        } else if (tempParts[0].length === 1) {\r\n            intPart = tempParts[0][0] || '';\r\n            significantDigits = significantDigits.concat(tempParts[1] || '');\r\n        } else {\r\n            originalPointIndex = tempParts[1].length;\r\n            tempParts[1] = tempParts[1].replace(/^0+/g, '');\r\n            originalPointIndex = (tempParts[1].length - 1) - originalPointIndex;\r\n            intPart = tempParts[1][0];\r\n            significantDigits = tempParts[1].slice(1);\r\n        }\r\n        //remove . and zeros from significant digits\r\n        significantDigits = significantDigits.replace(decimalSymbol, '').replace(/0+$/g, '');\r\n\r\n        if (significantDigits.length >= sdLimit) {\r\n            significantDigits = significantDigits.slice(0, sdLimit - 1);\r\n        }\r\n        exp = Number(sNFormat[2].replace(expSimbol, '')) + originalPointIndex;\r\n        exp = (exp > expMaxLimit) ? expMaxLimit : (exp < expMinLimit) ? expMinLimit : exp;\r\n        return prefix + intPart + (significantDigits ? (decimalSymbol + significantDigits) : '') + expSimbol + (exp > 0 ? '+' + exp : exp);\r\n    } else if (number) {\r\n\r\n        originalPointIndex = number.indexOf(decimalSymbol);\r\n        var from = 0;\r\n        var to = number.length - 1;\r\n\r\n        //remove decimal point\r\n        number = number.replace(decimalSymbol, '');\r\n\r\n        //from\r\n        var i = from;\r\n        while (!significantFlag) {\r\n            if (number[i] !== '0' && number[i] !== decimalSymbol) {\r\n                significantFlag = true;\r\n                from = i;\r\n            } else { i++; }\r\n        }\r\n        //to\r\n        var significantFlag = false;\r\n        var j = to;\r\n        while (!significantFlag) {\r\n            if (number[j] !== '0' && number[j] !== decimalSymbol && '-') {\r\n                significantFlag = true;\r\n                to = j + 1;\r\n            } else { j--; }\r\n        }\r\n        to = to > sdLimit + from ? sdLimit + from : to;\r\n        if (originalPointIndex !== -1) {\r\n            //find significant digits\r\n            var significantFlag = false;\r\n            var significantDigits = number.slice(from, to);\r\n            var pointIndex = from + 1;\r\n            exp = originalPointIndex - pointIndex;\r\n            if (significantDigits.length > 0 && !isNaN(Number(significantDigits[0]))) {\r\n                return prefix + significantDigits[0] + (significantDigits.length > 1 ? decimalSymbol + significantDigits.slice(1) : '') + expSimbol + (exp > 0 ? '+' + exp : exp);\r\n            } else { return '0'; }\r\n\r\n        } else {\r\n            //Int numbers\r\n            var firstDigit = number.slice(from, from + 1);\r\n            var restDigits = number.slice(from + 1, number.length);\r\n            exp = restDigits.length;\r\n            restDigits = restDigits.replace(/0+$/g, '');\r\n            if (restDigits.length > sdLimit) {\r\n                restDigits = number.slice(from + 1, sdLimit + from);\r\n            }\r\n            if (Number(firstDigit)) {\r\n                return prefix + firstDigit + (restDigits.length > 0 ? decimalSymbol + restDigits : '') + expSimbol + (exp > 0 ? '+' + exp : exp);\r\n            } else { return '0'; }\r\n        }\r\n    } else { return ''; }\r\n};\r\n\r\n/**\r\n * Remove all backslashes that represent scape of characters\r\n */\r\nbizagi.util.stripslashes = function (str) {\r\n    return str.replace(/\\\\'/g, '\\'').replace(/\\\"/g, '\"').replace(/\\\\\\\\/g, '\\\\').replace(/\\\\0/g, '\\0');\r\n};\r\n\r\n/*\r\n * Validates if the text is a valid opening and closing tags, including classes\r\n */\r\nbizagi.util.isHTMLValidText = function (text) {\r\n    var ex = new RegExp(/<(.|\\n)*?>/g);\r\n    return ex.test(text);\r\n};\r\n\r\nbizagi.util.resetData = function () {\r\n    var obj = JSON.parse(sessionStorage.getItem(\"bizagiAuthentication\"));\r\n    sessionStorage.removeItem(\"bizagiAuthentication\");\r\n    $.extend(obj, { isAuthenticate: \"false\" });\r\n    sessionStorage.setItem(\"bizagiAuthentication\", JSON.encode(obj));\r\n};\r\n\r\nbizagi.util.changeData = function (params) {\r\n    var obj = JSON.parse(sessionStorage.getItem(\"bizagiAuthentication\"));\r\n    sessionStorage.removeItem(\"bizagiAuthentication\");\r\n    $.extend(obj, params);\r\n    sessionStorage.setItem(\"bizagiAuthentication\", JSON.encode(obj));\r\n};\r\n\r\n// ------------------------------------------------------------------------\r\n// UTILS FOR MOBILE DEVICE\r\n// ------------------------------------------------------------------------\r\n\r\nbizagi.util.isMobileDevice = function (device) {\r\n    device = device || bizagi.detectDevice();\r\n\r\n    return ([\r\n        \"smartphone_ios\",\r\n        \"smartphone_ios_native\",\r\n        \"smartphone_android\",\r\n        \"smartphone_android_native\",\r\n        \"tablet\",\r\n        \"tablet_ios\",\r\n        \"tablet_ios_native\",\r\n        \"tablet_android\",\r\n        \"tablet_android_native\"\r\n    ].indexOf(device) > -1);\r\n};\r\n\r\n/** \r\n * Verify mobile device type\r\n * @returns {} \r\n */\r\nbizagi.util.isTabletDevice = function (device) {\r\n    device = device || bizagi.util.detectDevice();\r\n\r\n    return ([\r\n        \"tablet\",\r\n        \"tablet_ios\",\r\n        \"tablet_ios_native\",\r\n        \"tablet_android\",\r\n        \"tablet_android_native\"\r\n    ].indexOf(device) > -1);\r\n};\r\n\r\n/**\r\n * Tablet android\r\n * @returns {} \r\n */\r\nbizagi.util.isAndroidTabletDevice = function (device) {\r\n    device = device || bizagi.util.detectDevice();\r\n\r\n    return bizagi.util.isTabletDevice() && (device.indexOf(\"android\") !== -1);\r\n};\r\n\r\n/**\r\n * Tablet iOS\r\n * @returns {} \r\n */\r\nbizagi.util.isiOSTabletDevice = function (device) {\r\n    device = device || bizagi.util.detectDevice();\r\n\r\n    return bizagi.util.isTabletDevice() && !(device.indexOf(\"android\") === -1);\r\n};\r\n\r\n\r\n/**\r\n * Verify mobile device type\r\n * @returns {}\r\n */\r\nbizagi.util.isSmartphoneDevice = function (device) {\r\n    device = device || bizagi.util.detectDevice();\r\n\r\n    return ([\r\n        \"smartphone_ios\",\r\n        \"smartphone_ios_native\",\r\n        \"smartphone_android\",\r\n        \"smartphone_android_native\"\r\n    ].indexOf(device) > -1);\r\n};\r\n\r\n/**\r\n * Smartphone android\r\n * @returns {} \r\n */\r\nbizagi.util.isAndroidSmartphoneDevice = function (device) {\r\n    device = device || bizagi.util.detectDevice();\r\n\r\n    return bizagi.util.isSmartphoneDevice() && (device.indexOf(\"android\") !== -1);\r\n};\r\n\r\n/**\r\n * Smartphone iOS\r\n * @returns {} \r\n */\r\nbizagi.util.isiOSSmartphoneDevice = function (device) {\r\n    device = device || bizagi.util.detectDevice();\r\n\r\n    return bizagi.util.isSmartphoneDevice() && (device.indexOf(\"ios\") !== -1);\r\n};\r\n\r\n/**\r\n * Check is offline form\r\n * @param {} container \r\n * @returns {} \r\n */\r\nbizagi.util.isOfflineForm = function (params) {\r\n    if (!bizagi.util.isMobileDevice() || typeof (params) === \"undefined\")\r\n        return false;\r\n\r\n    var context = params.context || null;\r\n    var container = params.container || null;\r\n\r\n    var formContainer = container !== null ?\r\n        container : (context !== null ? context.getFormContainer() : null);\r\n\r\n    if (formContainer === null)\r\n        return false;\r\n\r\n    var formParams = formContainer.getParams() || {};\r\n    var isOfflineForm = typeof (formParams.isOfflineForm) !== \"undefined\" &&\r\n        bizagi.util.parseBoolean(formParams.isOfflineForm);\r\n\r\n    return isOfflineForm;\r\n};\r\n\r\nbizagi.util.detectAndroidVersion = function () {\r\n    var indexAndroid = navigator.userAgent.toLowerCase().indexOf(\"android\");\r\n    var androidVersion = navigator.userAgent.toLowerCase().substring(indexAndroid + 8, indexAndroid + 13);\r\n    androidVersion = androidVersion.replaceAll(\".\", \"\");\r\n    return Number(androidVersion);\r\n};\r\n\r\nbizagi.util.getPathUrl = function (url) {\r\n    var solvedUrl = \"\";\r\n    var locationParts = location.pathname.split(\"/\");\r\n    var basePath = location.protocol + \"//\" + location.host;\r\n\r\n    if (BIZAGI_PATH_TO_BASE[0] == \"/\") {\r\n        solvedUrl = basePath + BIZAGI_PATH_TO_BASE + url;\r\n    } else {\r\n        var pathToBaseBackwards = BIZAGI_PATH_TO_BASE.split(\"../\").length;\r\n        for (var i = 0, l = locationParts.length; i < l - pathToBaseBackwards; i++) {\r\n            basePath += locationParts[i] + \"/\";\r\n        }\r\n\r\n        basePath = basePath[basePath.length - 1] === \"/\" ? basePath : basePath + \"/\";\r\n        solvedUrl = basePath + url;\r\n    }\r\n    return solvedUrl;\r\n};\r\n\r\n/**\r\n * Get Android version\r\n * @returns {} \r\n */\r\nbizagi.util.getAndroidVersion = function () {\r\n    var userAgent = navigator.userAgent.toLowerCase();\r\n    var match = userAgent.match(/android\\s([0-9\\.]*)/);\r\n\r\n    return match ? parseFloat(match[1]) : false;\r\n};\r\n\r\n/**\r\n * Get image path to android device\r\n * @param {} image \r\n * @returns {} \r\n */\r\nbizagi.util.mobileImagePath = function (image) {\r\n    var dataImage = image;\r\n    var version = bizagi.util.getAndroidVersion();\r\n\r\n    if (!version)\r\n        return dataImage;\r\n\r\n    if (dataImage.substring(0, 21) === \"content://com.android\" && version <= 4.4) {\r\n        var photoSplit = dataImage.split(\"%3A\");\r\n        if (photoSplit.length > 1) {\r\n            dataImage = \"content://media/external/images/media/\" + photoSplit[1];\r\n        } else {\r\n            photoSplit = dataImage.split(\"/\");\r\n            dataImage = \"content://media/external/images/media/\" + photoSplit[photoSplit.length - 1];\r\n        }\r\n    }\r\n\r\n    return dataImage;\r\n};\r\n\r\n/**\r\n * Validate resource \r\n * @param {} resource resource name\r\n * @returns {} \r\n */\r\nbizagi.util.isValidResource = function (resource) {\r\n    if (!bizagi.localization) return false;\r\n    return (bizagi.localization.getResource(resource) !== resource);\r\n};\r\n\r\n/***\r\n * Transform base64 image to blob\r\n * @b64Data \r\n * @contentType \r\n * @sliceSize \r\n */\r\nbizagi.util.b64toBlob = function (b64Data, contentType, sliceSize) {\r\n    contentType = contentType || '';\r\n    sliceSize = sliceSize || 512;\r\n\r\n    var byteCharacters = atob(b64Data);\r\n    var byteArrays = [];\r\n\r\n    for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\r\n        var slice = byteCharacters.slice(offset, offset + sliceSize);\r\n\r\n        var byteNumbers = new Array(slice.length);\r\n        for (var i = 0; i < slice.length; i++) {\r\n            byteNumbers[i] = slice.charCodeAt(i);\r\n        }\r\n\r\n        var byteArray = new Uint8Array(byteNumbers);\r\n\r\n        byteArrays.push(byteArray);\r\n    }\r\n\r\n    var blob = new Blob(byteArrays, { type: contentType });\r\n    return blob;\r\n};\r\n\r\n/**\r\n * Converts an string to a byte array, util in old browsers requests\r\n * @param str\r\n */\r\nbizagi.util.stringToByteArray = function (str) {\r\n    var byteArray = new Uint8Array(str.length);\r\n    for (var i = 0; i < str.length; i++) {\r\n        byteArray[i] = str.charCodeAt(i) & 0xff;\r\n    }\r\n    return byteArray;\r\n}\r\n\r\n// ------------------------------------------------------------------------\r\n// NATIVE-HYBRID ENVIRONMENT\r\n// ------------------------------------------------------------------------\r\n\r\n/** \r\n * Verify the offline forms is enabled\r\n * @returns {} \r\n */\r\nbizagi.util.hasOfflineFormsEnabled = function () {\r\n    return typeof (BIZAGI_ENABLE_OFFLINE_FORMS) !== \"undefined\" && bizagi.util.parseBoolean(BIZAGI_ENABLE_OFFLINE_FORMS) === true;\r\n};\r\n\r\n/**\r\n * \r\n * Verify the flat design is enabled\r\n * @returns {} \r\n */\r\nbizagi.util.isFlatDesignEnabled = function () {\r\n    return typeof (BIZAGI_ENABLE_FLAT) !== \"undefined\" && bizagi.util.parseBoolean(BIZAGI_ENABLE_FLAT) === true;\r\n};\r\n\r\n/**\r\n * Validate the mobile grid is enabled\r\n * @returns {}\r\n */\r\nbizagi.util.isMobileGridEnabled = function () {\r\n    return typeof (BIZAGI_ENABLE_MOBILE_GRID) !== \"undefined\" && bizagi.util.parseBoolean(BIZAGI_ENABLE_MOBILE_GRID) === true;\r\n};\r\n\r\n/**\r\n * Validate the mobile grid is enabled\r\n * @returns {}\r\n */\r\nbizagi.util.isNativeHeaderEnabled = function () {\r\n    return typeof (NATIVE_HEADER_ENABLE) !== \"undefined\" && bizagi.util.parseBoolean(NATIVE_HEADER_ENABLE) === true;\r\n};\r\n\r\n/**\r\n * Validate the Quick search is enabled\r\n * @returns {}\r\n */\r\nbizagi.util.isQuickSearchEnabled = function () {\r\n    return typeof (BIZAGI_ENABLE_QUICK_SEARCH) !== \"undefined\" && bizagi.util.parseBoolean(BIZAGI_ENABLE_QUICK_SEARCH) === true;\r\n};\r\n\r\n/** \r\n * Verify the OAuth2 is enabled\r\n * @returns {} \r\n */\r\nbizagi.util.isOAuth2Enabled = function () {\r\n    return typeof (BIZAGI_AUTH_TYPE) !== \"undefined\" && BIZAGI_AUTH_TYPE === \"OAuth\";\r\n};\r\n\r\n/**\r\n * Get native component\r\n * @returns {}\r\n */\r\nbizagi.util.getNativeComponent = function () {\r\n    return typeof (BIZAGI_NATIVE_COMPONENT) !== \"undefined\" ? BIZAGI_NATIVE_COMPONENT : \"\";\r\n};\r\n\r\n/**\r\n * Check server version\r\n * @returns {}\r\n */\r\nbizagi.util.isVersionSupported = function () {\r\n    var supported = true;\r\n\r\n    if (typeof (BIZAGI_SERVER_VERSION) !== \"undefined\" && !bizagi.util.isEmpty(BIZAGI_SERVER_VERSION)) {\r\n        var version = BIZAGI_SERVER_VERSION.match(/\\d+\\.\\d+/);\r\n        supported = version ? (parseFloat(version.shift()) >= 11.0) : true;\r\n    }\r\n\r\n    return supported;\r\n};\r\n\r\n/**\r\n * Cordova componet is supported\r\n * @returns {} \r\n */\r\nbizagi.util.isCordovaSupported = function () {\r\n    return typeof (cordova) !== \"undefined\";\r\n};\r\n\r\n/**\r\n * Native plugin of Cordova is supported \r\n * @returns {} \r\n */\r\nbizagi.util.isNativePluginSupported = function () {\r\n    return typeof (bizagiapp) !== \"undefined\";\r\n};\r\n\r\n/**\r\n * Tablet native\r\n * @returns {} \r\n */\r\nbizagi.util.isTabletNativeSupported = function () {\r\n    return typeof (bizagiapp) !== \"undefined\" && bizagi.util.isTabletDevice();\r\n};\r\n\r\n/**\r\n * Smartphone native\r\n * @returns {} \r\n */\r\nbizagi.util.isSmartphoneNativeSupported = function () {\r\n    return typeof (bizagiapp) !== \"undefined\" && bizagi.util.isSmartphoneDevice();\r\n};\r\n\r\n/**\r\n * Enables accesory bar\r\n */\r\nif (bizagi.util.isNativePluginSupported() && window.cordova && window.cordova.plugins.Keyboard) {\r\n    cordova.plugins.Keyboard.hideKeyboardAccessoryBar(false);\r\n};\r\n\r\n/**\r\n * Verify real device\r\n * @returns {} \r\n */\r\nbizagi.util.detectRealDevice = function () {\r\n    var settedDevice = typeof (BIZAGI_DEFAULT_DEVICE) !== \"undefined\" && !bizagi.util.isEmpty(BIZAGI_DEFAULT_DEVICE) ?\r\n        BIZAGI_DEFAULT_DEVICE : null;\r\n\r\n    BIZAGI_DEFAULT_DEVICE = \"\";\r\n    var device = bizagi.detectDevice();\r\n    BIZAGI_DEFAULT_DEVICE = settedDevice;\r\n\r\n    return device;\r\n};\r\n\r\n/**\r\n * Method to detect Android visitors\r\n * @returns {} \r\n */\r\nbizagi.util.isAndroid = function () {\r\n    return (navigator.userAgent.toLowerCase().indexOf(\"android\") > -1);\r\n};\r\n\r\nbizagi.util.isAndroidDevice = function () {\r\n    var device = bizagi.util.detectDevice();\r\n    return device.indexOf(\"android\") > -1;\r\n};\r\n\r\nbizagi.util.isiOSDevice = function () {\r\n    var device = bizagi.util.detectDevice();\r\n    return device.indexOf(\"android\") === -1;\r\n};\r\n\r\n\r\n/**\r\n * Get server channel\r\n * @returns {}\r\n */\r\nbizagi.util.getChannelType = function () {\r\n    if (typeof (BIZAGI_SERVER_CHANNEL) !== \"undefined\" && !bizagi.util.isEmpty(BIZAGI_SERVER_CHANNEL)) {\r\n        return BIZAGI_SERVER_CHANNEL;\r\n    }\r\n    return bizagi.loader.channel || \"\";\r\n};\r\n\r\n/**\r\n * Check data url\r\n * @param {} data \r\n * @returns {} \r\n */\r\nbizagi.util.isDataUrl = function (data) {\r\n    var regex = /^\\s*data:([a-z]+\\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\\-._~:@\\/?%\\s]*)\\s*$/i;\r\n\r\n    try {\r\n        return !!(data.toString()).match(regex);\r\n    } catch (error) { }\r\n\r\n    return false;\r\n};\r\n\r\n/**\r\n * Get valid data url\r\n * @param {} data \r\n * @returns {} \r\n */\r\nbizagi.util.getDataUrl = function (properties) {\r\n    var currentUrl;\r\n\r\n    try {\r\n        if (typeof (properties.value) !== \"undefined\" && !bizagi.util.isEmpty(properties.value)) {\r\n            var data = properties.value;\r\n            var url = data.value || data;\r\n\r\n            if (Array.isArray(url)) {\r\n                var tempUrl = url.shift();\r\n                currentUrl = Array.isArray(tempUrl) ? tempUrl.join(\"\") : tempUrl;\r\n            } else {\r\n                currentUrl = url;\r\n            }\r\n        } else {\r\n            currentUrl = properties.url || \"\";\r\n        }\r\n\r\n        currentUrl = !bizagi.util.isEmpty(currentUrl) ? \"data:image/png;base64,\" + currentUrl.replace(/^data:.*;base64,/, \"\") : \"\";\r\n\r\n        if (currentUrl && currentUrl.indexOf(\"Invalid case id\") !== -1)\r\n            currentUrl = \"\";\r\n\r\n    } catch (error) {\r\n        currentUrl = \"\";\r\n    }\r\n\r\n    return currentUrl;\r\n};\r\n\r\n/**\r\n * Get response message of services\r\n * @param {} data\r\n * @returns {}\r\n */\r\nbizagi.util.processFailMessage = function (data) {\r\n    var message = data || {};\r\n\r\n    try {\r\n        message = typeof (message) == \"string\" ? JSON.parse(message) : message;\r\n        message = message.responseText || (message.message || message);\r\n    } catch (e) {\r\n        message = data;\r\n    }\r\n\r\n    return message;\r\n};\r\n\r\n/**\r\n * Disable and enable workportal menu from live process\r\n */\r\nvar tmp_block_header = \"<div class='blockHeaderByLiveProcess'></div>\";\r\nbizagi.util.disableWorkPortalMenu = function () {\r\n    var blockHeight = $(\"body\").find(\"#ui-bizagi-wp-menu\").height();\r\n    $(tmp_block_header).prependTo(\"body\");\r\n    $(\"body\").find(\".blockHeaderByLiveProcess\").css({ \"position\": \"absolute\", \"width\": \"100%\", \"height\": blockHeight + \"px\", \"background\": \"gray\", \"opacity\": \"0.9\", \"z-index\": \"101\" });\r\n}\r\n\r\nbizagi.util.enableWorkPortalMenu = function () {\r\n    $(\"body\").find(\".blockHeaderByLiveProcess\").detach();\r\n}\r\n\r\n\r\nbizagi.util.downloadFile = function(url, completeuRL) {\r\n    var ua = window.navigator.userAgent;\r\n    var msie = ua.indexOf(\"MSIE \");\r\n    var ulrToDownload = \"\";\r\n    if(completeuRL){\r\n        ulrToDownload = url;\r\n    }else{\r\n        var arrayURL = url.split(\"/\");\r\n        ulrToDownload = (window.location.href.split(\"#\")[0]) + arrayURL.slice(arrayURL.indexOf(\"Api\"), arrayURL.length).join(\"/\");\r\n    }\r\n    \r\n    if (bizagi.util.isEdge() || msie > 0 || !!navigator.userAgent.match(/Trident.*rv\\:11\\./)) {\r\n        if($('#iframe-download').length === 0){ //If the iframe already exists, don't create it again\r\n            $(\"<iframe/>\").attr({\r\n                src: ulrToDownload,\r\n                style: \"visibility:hidden;display:none\",\r\n                id: \"iframe-download\"\r\n            }).appendTo('body');\r\n        }else{\r\n            $('#iframe-download').attr(\"src\", (ulrToDownload));\r\n        }\r\n    } else {\r\n        window.open(ulrToDownload);\r\n    }\r\n}\r\n\r\nbizagi.util.executeActionRoutingFromWorkportal = function (idCase, idWorkItem) {\r\n    bizagi.workportal.controllers.menu.prototype.publish(\"executeAction\", {\r\n        action: bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,\r\n        idCase: idCase,\r\n        idWorkItem: idWorkItem\r\n    });\r\n}\r\n\r\n/**\r\n* Gets the final message when the user is offline or online (In Offline forms)\r\n* @param {} state \r\n* @returns {} The corresponding message depending on the case\r\n*/\r\n\r\nbizagi.util.getMessageFromNetworkState = function (state) {\r\n    if (state) {\r\n        return bizagi.localization.getResource(\"render-without-globalform-offline-userOnline\", \"The case has been created successfully, please wait until the server synchronizes\");\r\n    } else {\r\n        return bizagi.localization.getResource(\"render-without-globalform-offline\", \"Your offline case has been created successfully. It will synchronized as soon as you go online.\");\r\n    }\r\n};\r\n\r\nbizagi.util.sanitizeHTML = function (str) {\r\n\tvar temp = document.createElement('div');\r\n\ttemp.textContent = str;\r\n\treturn temp.innerHTML;\r\n};\r\n\r\nbizagi.util.arrayUnique = function (array) {\r\n    var items = array.concat();\r\n\r\n    for (var i = 0, length = items.length; i < length; ++i) {\r\n        for (var j = i + 1; j < length; ++j) {\r\n            if (items[i] === items[j]) {\r\n                items.splice(j -= 1, 1);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    return items;\r\n};\r\n\r\n/**\r\n * Debounce\r\n * Taken from https://davidwalsh.name/javascript-debounce-function\r\n * Returns a function, that, as long as it continues to be invoked,\r\n * will not be triggered. The function will be called after it stops\r\n * being called for N(wait) milliseconds. If `immediate` is passed,\r\n * trigger the function on the leading edge, instead of the trailing.\r\n * \r\n * @param {} func, wait, immediate \r\n * @returns {} The function that that will be called back\r\n */\r\nbizagi.util.debounce = function (func, wait, immediate) {\r\n    var timeout;\r\n    return function () {\r\n        var context = this, args = arguments;\r\n        var later = function () {\r\n            timeout = null;\r\n            if (!immediate) func.apply(context, args);\r\n        };\r\n        var callNow = immediate && !timeout;\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(later, wait);\r\n        if (callNow) func.apply(context, args);\r\n    };\r\n};\r\n\r\n/**\r\n * Validate if the mobile image editor is enabled\r\n * @returns {}\r\n */\r\nbizagi.util.isNativeImageEditorSupported = function () {\r\n    return bizagi.util.isNativePluginSupported() && bizagi.util.isiOSDevice() && bizagi.override.enableImageEditor;\r\n};\r\n/**\r\n * Error Message\r\n */\r\nbizagi.util.errorMessage  = function (message) {\r\n    return \"<div class=\\\"admin-stakeholder-message\\\"> \" +\r\n    \"<i class=\\\"bz-wp-empty__img\\\"></i> \" +\r\n    \"<p class=\\\"bz-wp-empty__info bz-wp-empty__info--first\\\"> \" +\r\n    message +\r\n    \"</p></div>\";\r\n};\r\n\r\n\r\n/**\r\n * Validate URL \r\n */\r\nbizagi.util.validateUrlWellFormed  = function (url) {\r\n    var patternToValidateUrl = /^(http:\\/\\/www\\.|https:\\/\\/www\\.|http:\\/\\/|https:\\/\\/)?[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(\\/.*)?$/;\r\n    if(patternToValidateUrl.test(url)){\r\n        var patternToValidateHttp = /^((http|https):\\/\\/)/;\r\n        if(!patternToValidateHttp.test(url)) {\r\n            url = \"http://\" + url;\r\n        }\r\n        return url;\r\n    }\r\n    return null;\r\n};\r\n\r\n/**\r\n * Replace line breaks for html line breaks\r\n * @param data\r\n * @returns {string}\r\n */\r\nbizagi.util.decodedDisplayValue = function (data) {\r\n    var value = data || \"\";\r\n    var valueToDisplay = \"\";\r\n\r\n    if (typeof (value) === \"string\") {\r\n        var decodedDisplayValue = bizagi.util.decodeURI(value);\r\n\r\n        valueToDisplay = decodedDisplayValue.replaceAll(\"&\", \"&amp;\");\r\n        valueToDisplay = valueToDisplay.replaceAll(\"$\", \"&#36;\");\r\n        valueToDisplay = valueToDisplay.replaceAll(\"<\", \"&lt;\").replaceAll(\">\", \"&gt;\");\r\n        valueToDisplay = valueToDisplay.replaceAll(\"\\\"\", \"&#34;\").replaceAll(\"'\", \"&#39;\").replaceAll(\"/\", \"&#47;\");\r\n        valueToDisplay = valueToDisplay.replaceAll(\"\\\\n\", \"<br/>\");\r\n        valueToDisplay = valueToDisplay.replaceAll(\"\\n\", \"<br/>\");\r\n    }\r\n\r\n    return valueToDisplay;\r\n};\r\n\r\n/**\r\n * Set Caret position \r\n * Set the caret in specific position of an element type input\r\n * @param {} func, position, input element \r\n * @returns {} The function not return any value.\r\n */\r\nbizagi.util.setCaretPosition = function (pos, ctrl) {\r\n    var self = this;\r\n\r\n    // Modern browsers\r\n    if (ctrl.setSelectionRange) {\r\n        ctrl.focus();\r\n        ctrl.setSelectionRange(pos, pos);\r\n\r\n        // IE8 and below\r\n    } else if (ctrl.createTextRange) {\r\n        var range = ctrl.createTextRange();\r\n        range.collapse(true);\r\n        range.moveEnd('character', pos);\r\n        range.moveStart('character', pos);\r\n        range.select();\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Get position of caret\r\n * Get the position of caret in a specific element input\r\n * @param {} func, input element \r\n * @returns {} Return the position of caret in an element input\r\n */\r\nbizagi.util.getCaretPosition = function (oField) {\r\n\r\n    // Initialize\r\n    var iCaretPos = 0;\r\n\r\n    // IE Support\r\n    if (document.selection) {\r\n\r\n        // Set focus on the element\r\n        oField.focus();\r\n\r\n        // To get cursor position, get empty selection range\r\n        var oSel = document.selection.createRange();\r\n\r\n        // Move selection start to 0 position\r\n        oSel.moveStart('character', -oField.value.length);\r\n\r\n        // The caret position is selection length\r\n        iCaretPos = oSel.text.length;\r\n    } else if (oField.selectionStart || oField.selectionStart == '0') // Firefox support\r\n        iCaretPos = oField.selectionStart;\r\n\r\n    // Return results\r\n    return iCaretPos;\r\n};\r\n\r\n/**\r\n * To escape values\r\n * @param {} value \r\n * @returns {} \r\n */\r\nbizagi.util.escapeRegex = function (value) {\r\n    value = value || \"\";\r\n\r\n    return value.replace(/([\\^\\$\\(\\)\\[\\]\\{\\}\\*\\.\\+\\?\\|\\\\])/gi, \"\\\\$1\");\r\n};\r\n\r\n/**\r\n * Function to get a featureObject by path within the global bizagiConfig.features object. Example: \"userService.v1.enabled\"\r\n */\r\nbizagi.util.getFeatureObject = function (path) {\r\n    var arr = path.split('.');\r\n    this.featureObjectCache = this.featureObjectCache || {};\r\n\r\n    function getFeatureObjectIte(arr) {\r\n        var features = bizagi.util.getConfigFeatures();\r\n\r\n        if (typeof path !== \"string\" || typeof features == \"undefined\") return;\r\n\r\n        var pivot = features;\r\n        for (var i = 0, len = arr.length; i < len; i++) {\r\n            pivot = pivot[arr[i]];\r\n            if (typeof pivot === \"undefined\") return;\r\n        }\r\n        return pivot;\r\n    };\r\n    if (path in this.featureObjectCache) {\r\n        return this.featureObjectCache[path];\r\n    } else {\r\n        return this.featureObjectCache[path] = getFeatureObjectIte(arr);\r\n    }\r\n};\r\n\r\n/**\r\n * Load features from mobile\r\n */\r\nbizagi.util.getConfigFeatures = function () {\r\n    var bizagiConfiguration = window.bizagiConfig || bizagiConfig || {};\r\n\r\n    if(bizagi.util.isMobileDevice() && typeof(BIZAGI_MOBILE_FEATURES) !== \"undefined\" && !bizagi.util.isEmpty(BIZAGI_MOBILE_FEATURES)) {\r\n        bizagiConfiguration.features = JSON.parse(BIZAGI_MOBILE_FEATURES || \"{}\")\r\n    }\r\n\r\n    return bizagiConfiguration.features;\r\n};\r\n\r\n/**\r\n * Reset features flag\r\n */\r\nbizagi.util.resetConfigFeatures = function () {\r\n    bizagi.util.featureObjectCache = undefined;\r\n};\r\n\r\n/**\r\n * Check fail request\r\n * @param result\r\n * @returns {*|boolean}\r\n */\r\nbizagi.util.isFailResponse = function (result) {\r\n    return result && ((result.type && result.type === \"error\") || (result.status && result.status === \"error\") || (result.code && result.code === \"UNKNOWN_ERROR\"));\r\n};\r\n\r\n/**\r\n * Formats value of each item\r\n * @param {string, boolean or array} value\r\n * @example\r\n * value = \"string\" => \"string\"\r\n * value = true => \"yes\" or \"si\", the localized value\r\n * value = false => \"no\", the localized value\r\n * value = [\"string 1\", \"string 2\"] => \"string 1 - string 2\"\r\n * @returns {string}\r\n */\r\nbizagi.util.formatItem = function (value) {\r\n    if (value !== undefined && value !== null) {\r\n        if ($.isArray(value)) {\r\n\r\n            for (var i = 0, length = value.length; i < length; i++) {\r\n                if (value[i] != null && typeof (value[i]) == \"boolean\") {\r\n                    if (bizagi.util.parseBoolean(value[i]) === true) {\r\n                        value[i] = bizagi.localization.getResource(\"render-boolean-yes\");\r\n\r\n                    } else if (bizagi.util.parseBoolean(value[i]) === false) {\r\n                        value[i] = bizagi.localization.getResource(\"render-boolean-no\");\r\n                    }\r\n                }\r\n                value[i] = bizagi.util.sanitizeHTML(value[i]);\r\n            }\r\n\r\n            return value.join(\" - \");\r\n        } else {\r\n            return bizagi.util.sanitizeHTML(value);\r\n        }\r\n    } else {\r\n        return \"\";\r\n    }\r\n};\r\n\r\n/**\r\n * Process response to highlight matches\r\n * @param {} item\r\n * @param term\r\n * @returns {}\r\n */\r\nbizagi.util.highlightMatches = function(item, term) {\r\n    var parseValue;\r\n\r\n    switch (typeof item.value) {\r\n        case \"number\":\r\n            parseValue = item.value;\r\n            break;\r\n        case \"object\":\r\n            parseValue = bizagi.util.formatItem(item.value);\r\n            break;\r\n        case \"string\":\r\n            var data = bizagi.util.escapeRegex(term).replaceAll(\"%\", \"\");\r\n            var regEx = new RegExp(\"(?![^&;]+;)(?!<[^<>]*)(\" + data + \")(?![^<>]*>)(?![^&;]+;)\", \"gi\");\r\n\r\n            parseValue = bizagi.util.sanitizeHTML(item.value).replace(regEx, \"<strong>$1</strong>\");\r\n            break;\r\n        default:\r\n            parseValue = item.value;\r\n            break;\r\n    }\r\n\r\n    return parseValue;\r\n};\r\n\r\n/**\r\n * Calculate window resolution for Desktop\r\n * @returns {string}\r\n */\r\nbizagi.util.getDesktopResolution = function() {\r\n    var resolution = \"\";\r\n    var devicePixelRatio = 1;\r\n    var screenWidth = window.screen.width;\r\n    var screenHeight = window.screen.height;\r\n\r\n    if ('deviceXDPI' in screen) {\r\n        devicePixelRatio = screen.deviceXDPI / screen.logicalXDPI;\r\n    } else if ('devicePixelRatio' in window) {\r\n        devicePixelRatio = window.devicePixelRatio;\r\n    }\r\n\r\n    devicePixelRatio = Number(devicePixelRatio.toFixed(3));\r\n\r\n    if ((screenWidth && screenWidth > 0) && (screenHeight && screenHeight > 0)) {\r\n        resolution = (screenWidth * devicePixelRatio) + \"x\" + (screenHeight * devicePixelRatio);\r\n    }\r\n\r\n    return resolution;\r\n};\r\n\r\n/**\r\n * Get the market name for device\r\n * @returns {*|string}\r\n */\r\nbizagi.util.getDeviceCode = function () {\r\n    var deviceCode = \"\";\r\n\r\n    if (bizagi.util.isMobileDevice()) {\r\n        deviceCode = typeof (BIZAGI_DEVICE_MARKET_NAME) !== \"undefined\" && !bizagi.util.isEmpty(BIZAGI_DEVICE_MARKET_NAME) ? BIZAGI_DEVICE_MARKET_NAME : \"\";\r\n    } else {\r\n        deviceCode = bizagi.util.getDesktopResolution();\r\n    }\r\n\r\n    return deviceCode;\r\n};\r\n\r\n/**\r\n * Get base name of the control\r\n * @param type\r\n * @returns {*}\r\n */\r\nbizagi.util.normalizeType = function(type) {\r\n    if (typeof (type) === \"undefined\") return type;\r\n\r\n    return type\r\n        .replace(/smartphone/, '')\r\n        .replace(/tablet/, '')\r\n        .replace(/offline/, '');\r\n};\r\n\r\n/**\r\n * Hide or show the X button in the show dialog method \r\n * \r\n */\r\nbizagi.util.hideOrShowXToCloseDialog = function(dialog, show) {\r\n    var selector = \".ui-dialog-titlebar-close\";\r\n    if (show) {\r\n        $(selector, dialog).show();\r\n    } else {\r\n        $(selector, dialog).hide();\r\n    }\r\n};\r\n\r\n/**\r\n * review if a feature key is enabled\r\n * @param {string} feature nombre de la llave del feature\r\n */\r\nbizagi.util.isEnableFeature = function(feature) {\r\n    return bizagi.features[feature]!==false;\r\n};\r\n\r\n/**\r\n * A function to get the scrolling parent of an html element.\r\n */\r\n(function ($) {\r\n\r\n    var parents = function (node, ps) {\r\n        if (node.parentNode === null) return ps;\r\n\r\n        return parents(node.parentNode, ps.concat([node]));\r\n    };\r\n\r\n    var style = function (node, prop) {\r\n        return getComputedStyle(node, null).getPropertyValue(prop);\r\n    };\r\n\r\n    var overflow = function (node) {\r\n        return style(node, \"overflow\") + style(node, \"overflow-y\") + style(node, \"overflow-x\");\r\n    };\r\n\r\n    var scroll = function (node) {\r\n        return /(auto|scroll)/.test(overflow(node));\r\n    };\r\n\r\n    // Get the closest ancestor element that is scrollable.\r\n    $.scrollerParent = function (node) {\r\n        if (!(node instanceof HTMLElement || node instanceof SVGElement)) return;\r\n\r\n        var ps = parents(node.parentNode, []);\r\n\r\n        for (var i = 0; i < ps.length; i += 1) {\r\n            if (scroll(ps[i])) return ps[i];\r\n        }\r\n\r\n        return document.scrollingElement || document.documentElement;\r\n    };\r\n})(jQuery);\r\n\r\nbizagi.util.startkendo = function (params) {\r\n    if (typeof (bizagi.kendoMobileApplication) === \"undefined\") {\r\n        bizagi.kendoMobileApplication = new kendo.mobile.Application($(\"body\"), {\r\n            skin: \"flat\",\r\n            browserHistory: false,\r\n            init: function (e) {\r\n                kendo.ui.progress($(\".km-flat\"), true);\r\n                params.started && params.started();\r\n            }\r\n        });\r\n\r\n        bizagi.kendoMobileApplication.bizagiNavigate = function (e, t) {\r\n            this.navigate(e, t);\r\n        };\r\n    } else {\r\n        params.started && params.started();\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Get native component\r\n * @returns {}\r\n */\r\nbizagi.util.isSharepointContext = function () {\r\n    return typeof (BIZAGI_SHAREPOINT_CONTEXT) !== \"undefined\" && bizagi.util.parseBoolean(BIZAGI_SHAREPOINT_CONTEXT) === true;\r\n};\r\n\r\n/**\r\n * Checks if a given value with format {id, value} is empty\r\n * @param value\r\n  * @returns {boolean}\r\n  */\r\nbizagi.util.isEmptyValue = function (value) {\r\n    if (value === 0) return false;\r\n    if (value === undefined || value === null || value === \"\") return true;\r\n    if (typeof (value) === \"Array\") return value.length === 0;\r\n    if (Object.prototype.toString.apply(value) === \"[object Array]\") return value.length === 0;\r\n\r\n    if (Object.prototype.toString.apply(value) === \"[object Object]\") {\r\n        for (var key in value) {\r\n            if (value.hasOwnProperty(key) && !bizagi.util.isEmptyValue(value[key])) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n};\r\n","var TableauController = (function (applicationUrl, language) {\r\n    var _globalsTableau = new GlobalsTableau(),\r\n        _uiTableau = new UITableau(_globalsTableau);\r\n    _bizagiTableau = new BizagiTableau(_globalsTableau, _uiTableau, applicationUrl);\r\n\r\n    function init() {\r\n        _assignLanguage();\r\n    }\r\n\r\n    function _assignLanguage() {\r\n        bizagi.resourceDefinitionLocation = {\r\n            \"es\": bizagi.loader.getResource(\"l10n\", \"bizagi.tableau.resources.es\"),\r\n            \"en\": bizagi.loader.getResource(\"l10n\", \"bizagi.tableau.resources.en\"),\r\n            \"default\": bizagi.loader.getResource(\"l10n\", \"bizagi.tableau.resources.en\")\r\n        }\r\n        bizagi.localization = new bizagi.l10n(bizagi.resourceDefinitionLocation);\r\n        bizagi.localization.enableCustomizations = false;\r\n        bizagi.localization.setLanguage(language);\r\n\r\n        $.when(bizagi.localization.readyDeferred).done(function () {\r\n            bizagi.templateService = new bizagi.templates.services.service(bizagi.localization);\r\n            _uiTableau.renderTmpl(\"bizagi.connector.tableau.invalid\", function () {\r\n                _bizagiTableau.buildConnector();\r\n            });\r\n        });\r\n    }\r\n\r\n    return {\r\n        init: init\r\n    }\r\n});\r\n\r\nvar UITableau = (function (globalsTableau) {\r\n    var _globalsTableau = globalsTableau;\r\n\r\n    function loadTreeView(nextFn, fromBack) {\r\n        $(\"#nextButton\").click(nextFn);\r\n        _importButton();\r\n        var tableauTreeEl = document.getElementById(\"tableau-entity-tree\");\r\n\r\n        if (_globalsTableau.entities.length === 0){\r\n            disableBtn(\"importButton\");\r\n            disableBtn(\"nextButton\");\r\n            document.getElementById(\"emptyEntityList\").style.display = \"block\";\r\n            return;\r\n        }\r\n\r\n        for (var i = 0; i < _globalsTableau.entities.length; i++) {\r\n            var entityNodeEl = document.createElement(\"li\"),\r\n                entity = _globalsTableau.entities[i],\r\n                divCheckboxEl = _createTreeCheckbox(entity.name, entity.name, true, false, i);\r\n\r\n            entityNodeEl.className = \"parent-node\";\r\n            entityNodeEl.appendChild(_createExpandButton(\"btn-\" + entity.name));\r\n            entityNodeEl.appendChild(divCheckboxEl);\r\n\r\n            if (entity.attribs && entity.attribs.length > 0) {\r\n                var childNodesEl = document.createElement(\"ul\"),\r\n                    containerDivEl = document.createElement(\"div\");\r\n                containerDivEl.id = \"container-nodes-\" + entity.name;\r\n                containerDivEl.className = 'tableau-collapsed';\r\n                _loadChildNodes(entity, containerDivEl);\r\n                childNodesEl.appendChild(containerDivEl);\r\n                entityNodeEl.appendChild(childNodesEl);\r\n            }\r\n\r\n            tableauTreeEl.appendChild(entityNodeEl);\r\n        }\r\n        if (fromBack) {\r\n            _loadConfiguration()\r\n        }\r\n    }\r\n\r\n    function showFailedConnectionMessage() {\r\n        $(\"#form-client-id\").addClass(\"bz-form-item--error\");\r\n        $(\"#form-client-secret\").addClass(\"bz-form-item--error\");\r\n\r\n        document.getElementById(\"authButton\").disabled = false;\r\n    }\r\n\r\n    function disableBtn(btnId) {\r\n        document.getElementById(btnId).disabled = true;\r\n    }\r\n\r\n    function renderTmpl(template, callback) {\r\n        $(\"#tableau-content\").empty();\r\n\r\n        bizagi.templateService.getTemplate(bizagi.getTemplate(template))\r\n            .done(function (resolvedTemplate) {\r\n                $.tmpl(resolvedTemplate, {\r\n                    whiteLogo: ((BIZAGI_ENVIRONMENT === 'release')?'jquery/production/' + bizagi.loader.build + '/desktop/css/':'jquery/tableau/css/')+\"images/logotype-bizagi-white.png\",\r\n                    blackLogo: ((BIZAGI_ENVIRONMENT === 'release')?'jquery/production/' + bizagi.loader.build + '/desktop/css/':'jquery/tableau/css/')+\"images/logotype-bizagi-black.png\"\r\n                }).appendTo(\"#tableau-content\");\r\n                if (callback !== undefined && typeof callback === 'function') callback();\r\n            });\r\n    }\r\n\r\n    function loadEntityProcessTable(nextFn, backFn) {\r\n        $(\"#nextButton\").click(nextFn);\r\n        $(\"#backButton\").click(backFn);\r\n        var tbodyEl = document.getElementById(\"tableau-entity-process-body\"),\r\n            entityIndexes = Object.keys(_globalsTableau.processByEntity);\r\n\r\n        for (var i = 0; i < entityIndexes.length; i++) {\r\n            var entity = _globalsTableau.entities[entityIndexes[i]];\r\n\r\n            var rowEl = document.createElement(\"tr\"),\r\n                firstColumnEl = document.createElement(\"td\"),\r\n                secondColumnEl = document.createElement(\"td\");\r\n\r\n            firstColumnEl.className = \"bz-table__cell\";\r\n            firstColumnEl.innerText = entity.name;\r\n            secondColumnEl.appendChild(_createSelectEl(entityIndexes[i]));\r\n\r\n            rowEl.appendChild(firstColumnEl);\r\n            rowEl.appendChild(secondColumnEl);\r\n\r\n            tbodyEl.appendChild(rowEl);\r\n        }\r\n    }\r\n\r\n    // nextFn is only used for backButton's callback\r\n    function loadResumeConfiguration(submitFn, nextFn) {\r\n        $(\"#submitButton\").click(submitFn);\r\n        $(\"#backButton\").click(function() {\r\n            var backToTree = renderTmpl.bind(this, \"bizagi.connector.tableau.tree\", loadTreeView.bind(this, nextFn, true));\r\n            if(Object.keys(_globalsTableau.processByEntity).length === 0) {\r\n                backToTree();\r\n            } else {\r\n                var resumeStep = renderTmpl.bind(\r\n                    this, \r\n                    \"bizagi.connector.tableau.export\", \r\n                    loadResumeConfiguration.bind(this, submitFn, nextFn)\r\n                );\r\n                renderTmpl(\"bizagi.connector.tableau.processTable\", loadEntityProcessTable.bind(this, resumeStep, backToTree));\r\n            }\r\n        });\r\n        var tmpConfiguration = {\r\n            entities: _globalsTableau.selectedEntities,\r\n            processes: _globalsTableau.processByEntity\r\n        }\r\n\r\n        $(\"#selectConfiguration\").click(function () {\r\n            var range = document.createRange();\r\n            range.selectNode(document.getElementById(\"tableau-container-configuration\"));\r\n            window.getSelection().removeAllRanges();\r\n            window.getSelection().addRange(range);\r\n        });\r\n        document.getElementById(\"tableau-container-configuration\").innerText = JSON.stringify(tmpConfiguration, null, 2);\r\n    }\r\n\r\n    function _createSelectEl(entityIndex) {\r\n        var selectEl = document.createElement(\"select\"),\r\n            entity = _globalsTableau.entities[entityIndex],\r\n            processId = _globalsTableau.processByEntity[entityIndex];\r\n\r\n        selectEl.className = \"bz-select\";\r\n        selectEl.onchange = function () {\r\n            _globalsTableau.processByEntity[entityIndex] = this.value;\r\n        }\r\n        for (var i = 0; i < entity.processesRelated.length; i++) {\r\n            var optionEl = document.createElement(\"option\");\r\n            optionEl.className = \"bz-option\";\r\n            optionEl.innerText = entity.processesRelated[i].displayName;\r\n            optionEl.value = entity.processesRelated[i].id;\r\n            selectEl.appendChild(optionEl);\r\n        }\r\n        selectEl.value = processId;\r\n        return selectEl;\r\n    }\r\n\r\n    function _loadChildNodes(entity, childNodesEl) {\r\n        for (var i = 0; i < entity.attribs.length; i++) {\r\n            var attrib = entity.attribs[i],\r\n                checkboxId = entity.name + '.' + attrib.name,\r\n                leaf = (attrib.xpaths.length === 1 || attrib.id === -1),\r\n                nodeEl, divCheckboxEl;\r\n\r\n            if (entity.isProcessEntity && attrib.id === -1) {\r\n                for (var j = 0; j < attrib.xpaths.length; j++) {\r\n                    var attribName = attrib.xpaths[j].value,\r\n                        checkboxChildId = entity.name + \".\" + attribName;\r\n                    \r\n                    if(attribName.toLowerCase() === '@workitems') continue;\r\n                    \r\n                    nodeEl = document.createElement(\"li\");\r\n                    divCheckboxEl = _createTreeCheckbox(checkboxChildId, attribName, false, leaf);\r\n                    nodeEl.appendChild(divCheckboxEl);\r\n                    childNodesEl.appendChild(nodeEl);\r\n                }\r\n                continue;\r\n            } else if (attrib.id === -1) continue;\r\n\r\n            divCheckboxEl = _createTreeCheckbox(checkboxId, attrib.name, false, leaf);\r\n            nodeEl = document.createElement(\"li\");\r\n            if (!leaf)\r\n                nodeEl.appendChild(_createExpandButton(\"btn-\" + checkboxId));\r\n            nodeEl.appendChild(divCheckboxEl);\r\n            if (!leaf) {\r\n                var childNodesRelEl = document.createElement(\"ul\"),\r\n                    containerDivEl = document.createElement(\"div\");\r\n                nodeEl.className = 'parent-node';\r\n                containerDivEl.id = \"container-nodes-\" + checkboxId;\r\n                containerDivEl.className = 'tableau-collapsed';\r\n                for (var j = 1; j < attrib.xpaths.length; j++) {\r\n                    var attribName = attrib.xpaths[j].value.split(\".\")[1],\r\n                        nodeRelEl = document.createElement(\"li\"),\r\n                        checkboxChildId = checkboxId + '.' + attribName;\r\n                    nodeRelEl.appendChild(_createTreeCheckbox(checkboxChildId, attribName, false, true));\r\n                    containerDivEl.appendChild(nodeRelEl);\r\n                    childNodesRelEl.appendChild(containerDivEl);\r\n                }\r\n                nodeEl.appendChild(childNodesRelEl);\r\n            }\r\n            childNodesEl.appendChild(nodeEl);\r\n        }\r\n    }\r\n\r\n    function _createTreeCheckbox(id, labelText, root, leaf, index) {\r\n        if (!root) root = false;\r\n        if (!leaf) leaf = false;\r\n        var divCheckboxEl = document.createElement(\"div\"),\r\n            inputCheckboxEl = document.createElement(\"input\"),\r\n            labelCheckboxEl = document.createElement(\"label\");\r\n        divCheckboxEl.id = id;\r\n        divCheckboxEl.className = \"bz-checkbox\";\r\n        divCheckboxEl.setAttribute(\"bz-root\", root);\r\n        divCheckboxEl.setAttribute(\"bz-leaf\", leaf);\r\n        if (root) divCheckboxEl.setAttribute(\"bz-index\", index);\r\n        inputCheckboxEl.className = \"bz-checkbox__input\";\r\n        labelCheckboxEl.className = \"bz-checkbox__label\";\r\n        inputCheckboxEl.type = \"checkbox\"\r\n        labelCheckboxEl.innerText = labelText;\r\n\r\n        divCheckboxEl.onclick = function () {\r\n            var inputCheckEL = this.getElementsByClassName(\"bz-checkbox__input\")[0],\r\n                childrenContainerEl = this.parentElement.getElementsByTagName(\"ul\"),\r\n                childNodesEl = [],\r\n                rootElementId = this.id.split(\".\")[0],\r\n                rootIndex = document.getElementById(rootElementId).getAttribute(\"bz-index\"),\r\n                parentElementId = this.id.substring(0, (this.id.length - this.innerText.length) - 1);\r\n\r\n            if (childrenContainerEl.length > 0)\r\n                childNodesEl = childrenContainerEl[0].getElementsByClassName(\"bz-checkbox__input\");\r\n\r\n            if (inputCheckEL.getAttribute(\"checked\") === null) {\r\n                var splittedId = this.id.split(\".\"),\r\n                    elementId = \"\";\r\n                for (var i = 0; i < splittedId.length; i++) {\r\n                    elementId += splittedId[i];\r\n                    var element = document.getElementById(elementId),\r\n                        checkboxEl = element.getElementsByClassName(\"bz-checkbox__input\")[0];\r\n                    checkboxEl.setAttribute(\"checked\", \"checked\");\r\n                    if (element.getAttribute(\"bz-root\") != \"true\") {\r\n                        if (!_globalsTableau.selectedEntities[rootIndex])\r\n                            _globalsTableau.selectedEntities[rootIndex] = {};\r\n                        _globalsTableau.selectedEntities[rootIndex][element.id] = 1;\r\n                    }\r\n                    elementId += \".\";\r\n                }\r\n\r\n                for (var i = 0; i < childNodesEl.length; i++) {\r\n                    var element = childNodesEl[i].parentElement;\r\n                    childNodesEl[i].setAttribute(\"checked\", \"checked\");\r\n                    if (element.getAttribute(\"bz-root\") != \"true\") {\r\n                        if (!_globalsTableau.selectedEntities[rootIndex])\r\n                            _globalsTableau.selectedEntities[rootIndex] = {};\r\n                        _globalsTableau.selectedEntities[rootIndex][element.id] = 1;\r\n                    }\r\n                }\r\n            } else {\r\n                inputCheckEL.removeAttribute(\"checked\");\r\n                delete _globalsTableau.selectedEntities[rootIndex][this.id];\r\n                for (var i = 0; i < childNodesEl.length; i++) {\r\n                    var elementId = childNodesEl[i].parentElement.id;\r\n                    childNodesEl[i].removeAttribute(\"checked\");\r\n                    delete _globalsTableau.selectedEntities[rootIndex][elementId];\r\n                }\r\n                if (this.getAttribute(\"bz-root\") == \"true\")\r\n                    delete _globalsTableau.selectedEntities[rootIndex];\r\n                else\r\n                    _updateParentElements(rootElementId, parentElementId, rootIndex);\r\n            }\r\n        }\r\n\r\n        divCheckboxEl.appendChild(inputCheckboxEl);\r\n        divCheckboxEl.appendChild(labelCheckboxEl);\r\n\r\n        return divCheckboxEl;\r\n    }\r\n\r\n    function _updateParentElements(rootElementId, parentElementId, rootIndex) {\r\n        var parentEl = document.getElementById(parentElementId),\r\n            childrenContainerEl = parentEl.parentElement.getElementsByTagName(\"ul\"),\r\n            childNodesEl = [];\r\n\r\n        if (childrenContainerEl.length > 0)\r\n            childNodesEl = childrenContainerEl[0].getElementsByClassName(\"bz-checkbox__input\");\r\n\r\n        var uncheckParent = false;\r\n        for (var i = 0; i < childNodesEl.length; i++) {\r\n            if (childNodesEl[i].getAttribute(\"checked\") != null) {\r\n                uncheckParent = false;\r\n                break;\r\n            }\r\n            uncheckParent = true;\r\n        }\r\n        if (uncheckParent) {\r\n            parentEl.getElementsByClassName(\"bz-checkbox__input\")[0].removeAttribute(\"checked\");\r\n            if (parentEl.getAttribute(\"bz-root\") == \"true\")\r\n                delete _globalsTableau.selectedEntities[rootIndex];\r\n            else\r\n                delete _globalsTableau.selectedEntities[rootIndex][parentEl.id];\r\n        }\r\n        if (rootElementId !== parentElementId && Object.keys(_globalsTableau.selectedEntities[rootIndex]).length === 0) {\r\n            var rootEl = document.getElementById(rootElementId);\r\n            rootEl.getElementsByClassName(\"bz-checkbox__input\")[0].removeAttribute(\"checked\");\r\n            delete _globalsTableau.selectedEntities[rootIndex];\r\n        }\r\n    }\r\n\r\n    function _createExpandButton(id) {\r\n        var buttonEl = document.createElement(\"button\");\r\n        buttonEl.className = \"bz-btn bz-btn--s tableau-node-expand\";\r\n        buttonEl.innerText = \"+\";\r\n        buttonEl.id = id;\r\n        buttonEl.onclick = function () {\r\n            var entityName = this.id.substring(4, this.id.length),\r\n                containerDivEl = document.getElementById(\"container-nodes-\" + entityName);\r\n            if (containerDivEl) {\r\n                if (containerDivEl.className === \"tableau-collapsed\") {\r\n                    containerDivEl.className = \"\";\r\n                    this.innerText = \"-\";\r\n                } else {\r\n                    containerDivEl.className = \"tableau-collapsed\";\r\n                    this.innerText = \"+\";\r\n                }\r\n            }\r\n        }\r\n        return buttonEl;\r\n    }\r\n\r\n    function _importButton() {\r\n        $(\"#tableau-uploadConfiguration\").change(function () {\r\n            var file = this.files[0];\r\n            if (file) {\r\n                var fileReader = new FileReader();\r\n                fileReader.onload = function (evt) {\r\n                    var content = evt.target.result;\r\n                    if (content !== '{}') {\r\n                        try {\r\n                            var contentJson = JSON.parse(content);\r\n                            _validateStructConfiguration(contentJson);\r\n                            document.getElementById(\"tableau-alert-error\").style.display = \"none\";\r\n                            _loadConfiguration(contentJson);\r\n                        } catch (exception) {\r\n                            _showMessageAlert(bizagi.localization.dictionary[\"tableau-error-invalid-file\"])\r\n                        }\r\n                    }\r\n                }\r\n                fileReader.readAsText(file);\r\n            }\r\n        });\r\n\r\n        $(\"#importButton\").click(function () {\r\n            var uploadFileEl = document.getElementById(\"tableau-uploadConfiguration\");\r\n            uploadFileEl.click();\r\n        });\r\n    }\r\n\r\n    function _showMessageAlert(message) {\r\n        var alert = document.getElementById(\"tableau-alert-error\");\r\n        alert.style.removeProperty(\"display\");\r\n        alert.getElementsByClassName(\"tableau-alert-message\")[0].innerText = message;\r\n    }\r\n\r\n    function _validateStructConfiguration(configuration) {\r\n        var keys = Object.keys(configuration);\r\n        if (keys.length !== 2) {\r\n            throw \"invalid configuration\";\r\n        }\r\n        var areValidProperties = keys[0] === \"entities\" && keys[1] === \"processes\";\r\n        if (!areValidProperties) {\r\n            throw \"invalid configuration\";\r\n        }\r\n    }\r\n\r\n    function _loadConfiguration(configuration) {\r\n        if (!configuration) {\r\n            configuration = {\r\n                entities: _globalsTableau.selectedEntities,\r\n                processes: _globalsTableau.processByEntity\r\n            }\r\n        }\r\n\r\n        var entityIndexes = Object.keys(_globalsTableau.selectedEntities);\r\n        for (var i = 0; i < entityIndexes.length; i++) {\r\n            var attribs = Object.keys(_globalsTableau.selectedEntities[entityIndexes[i]]),\r\n                rootId = attribs[0].split(\".\")[0],\r\n                rootCheckboxEl = document.getElementById(rootId);\r\n            rootCheckboxEl.getElementsByClassName(\"bz-checkbox__input\")[0].removeAttribute(\"checked\");\r\n            for (var j = 0; j < attribs.length; j++) {\r\n                var element = document.getElementById(attribs[j]);\r\n                element.getElementsByClassName(\"bz-checkbox__input\")[0].removeAttribute(\"checked\");\r\n            }\r\n        }\r\n        _globalsTableau.selectedEntities = {};\r\n        _globalsTableau.processByEntity = {}\r\n        var oldEntityIndexes = Object.keys(configuration.entities);\r\n        for (var i = 0; i < oldEntityIndexes.length; i++) {\r\n            var xpaths = Object.keys(configuration.entities[oldEntityIndexes[i]]),\r\n                rootId = xpaths[0].split(\".\")[0],\r\n                rootCheckboxEl = document.getElementById(rootId);\r\n            if (rootCheckboxEl) {\r\n                var rootIndex = rootCheckboxEl.getAttribute(\"bz-index\");\r\n                rootCheckboxEl.getElementsByClassName(\"bz-checkbox__input\")[0].setAttribute(\"checked\", \"checked\");\r\n                if (configuration.processes[oldEntityIndexes[i]]) {\r\n                    _globalsTableau.processByEntity[rootIndex] = configuration.processes[oldEntityIndexes[i]];\r\n                }\r\n                for (var j = 0; j < xpaths.length; j++) {\r\n                    var checkboxEl = document.getElementById(xpaths[j]);\r\n                    if (checkboxEl) {\r\n                        checkboxEl.getElementsByClassName(\"bz-checkbox__input\")[0].setAttribute(\"checked\", \"checked\");\r\n\r\n                        // add to globals\r\n                        if (!_globalsTableau.selectedEntities[rootIndex])\r\n                            _globalsTableau.selectedEntities[rootIndex] = {};\r\n                        _globalsTableau.selectedEntities[rootIndex][checkboxEl.id] = 1;\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return {\r\n        loadTreeView: loadTreeView,\r\n        loadEntityProcessTable: loadEntityProcessTable,\r\n        loadResumeConfiguration: loadResumeConfiguration,\r\n        showFailedConnectionMessage: showFailedConnectionMessage,\r\n        disableBtn: disableBtn,\r\n        renderTmpl: renderTmpl\r\n    }\r\n});\r\n\r\nvar BizagiTableau = (function (globalsTableau, uiTableau, applicationUrl) {\r\n    var _bizagiConnector,\r\n        _applicationUrl = applicationUrl,\r\n        _utilsTableau = new UtilsTableau(),\r\n        _globalsTableau = globalsTableau,\r\n        _uiTableau = uiTableau;\r\n\r\n    function buildConnector() {\r\n        _bizagiConnector = tableau.makeConnector();\r\n        _bizagiConnector.getSchema = _getSchema;\r\n        _bizagiConnector.getData = _getDataCallback;\r\n        _bizagiConnector.init = function (initCallback) {\r\n            _uiTableau.renderTmpl(\"bizagi.connector.tableau.login\", function () {\r\n                if (tableau.phase !== \"gatherData\" && tableau.connectionData) {\r\n                    var dataConnector = _utilsTableau.getConnectionData();\r\n                    if (dataConnector.globals.url === _applicationUrl && tableau.password) {\r\n                        var authData = _utilsTableau.getAuthData();\r\n                        $(\"#clientId\").val(authData.clientId);\r\n                        $(\"#clientSecret\").val(authData.clientSecret);\r\n                        connect($(\"#clientId\").val(), $(\"#clientSecret\").val());\r\n                    }\r\n                }\r\n                $(\"#authButton\").click(function () {\r\n                    connect($(\"#clientId\").val(), $(\"#clientSecret\").val());\r\n                });\r\n            });\r\n            initCallback();\r\n        }\r\n\r\n        tableau.registerConnector(_bizagiConnector);\r\n        // Fix related to: https://github.com/tableau/webdataconnector/issues/165\r\n        if (!!window.tableauVersionBootstrap) {\r\n            window._tableau.triggerInitialization();\r\n        }\r\n        if (!window.tableauVersionBootstrap) {\r\n            var DOMContentLoaded_event = window.document.createEvent(\"Event\");\r\n            DOMContentLoaded_event.initEvent(\"DOMContentLoaded\", true, true);\r\n            window.document.dispatchEvent(DOMContentLoaded_event);\r\n        }\r\n    }\r\n\r\n    function connect(clientId, clientSecret) {\r\n        _uiTableau.disableBtn('authButton');\r\n        _utilsTableau.setConnectionDataProp('globals', 'url', _applicationUrl, true);\r\n        _utilsTableau.setAuthData('clientId', clientId);\r\n        _utilsTableau.setAuthData('clientSecret', clientSecret);\r\n        _getAccessToken(_getEntities);\r\n    }\r\n\r\n    function _next() {\r\n        _uiTableau.disableBtn('nextButton');\r\n        var selectedEntities = _globalsTableau.selectedEntities,\r\n            entityIndexes = Object.keys(selectedEntities),\r\n            showNextStep = false;\r\n\r\n        for (var i = 0; i < entityIndexes.length; i++) {\r\n            var entity = _globalsTableau.entities[entityIndexes[i]],\r\n                attribs = Object.keys(selectedEntities[entityIndexes[i]]),\r\n                queryByProcess = false;\r\n            for (var j = 0; j < attribs.length; j++) {\r\n                if (attribs[j].indexOf(\"@\") !== -1) {\r\n                    queryByProcess = true;\r\n                    showNextStep = true;\r\n                }\r\n            }\r\n            if (queryByProcess && !_globalsTableau.processByEntity[entityIndexes[i]]) {\r\n                _globalsTableau.processByEntity[entityIndexes[i]] = entity.processesRelated[0].id;\r\n            } else if(!queryByProcess) {\r\n                delete _globalsTableau.processByEntity[entityIndexes[i]];\r\n            }\r\n        }\r\n\r\n        var processByEntityKeys = Object.keys(_globalsTableau.processByEntity);\r\n        for (var i = 0; i < processByEntityKeys.length; i++) {\r\n            var entity = _globalsTableau.selectedEntities[processByEntityKeys[i]];\r\n            if(!entity) {\r\n                delete _globalsTableau.processByEntity[processByEntityKeys[i]];\r\n            }\r\n        }\r\n\r\n        var backToTree = _uiTableau.renderTmpl.bind(this, \"bizagi.connector.tableau.tree\", _uiTableau.loadTreeView.bind(this, _next, true));\r\n        var resumeStep = _uiTableau.renderTmpl.bind(\r\n            this, \r\n            \"bizagi.connector.tableau.export\", \r\n            _uiTableau.loadResumeConfiguration.bind(this, _submit, _next)\r\n        );\r\n        if (showNextStep) {\r\n            _uiTableau.renderTmpl(\"bizagi.connector.tableau.processTable\", _uiTableau.loadEntityProcessTable.bind(this, resumeStep, backToTree));\r\n        } else {\r\n            resumeStep();\r\n        }\r\n    }\r\n\r\n    function _submit() {\r\n        var entityIndexes = Object.keys(_globalsTableau.selectedEntities);\r\n        for (var i = 0; i < entityIndexes.length; i++) {\r\n            var entity = _globalsTableau.entities[entityIndexes[i]],\r\n                attribs = Object.keys(_globalsTableau.selectedEntities[entityIndexes[i]]),\r\n                validAttribs = [], processId = null,\r\n                queryByProcess = false;\r\n            validAttribs.push(\"BizagiId\");\r\n            for (var j = 0; j < attribs.length; j++) {\r\n                validAttribs.push(attribs[j].substring(entity.name.length + 1, attribs[j].length));\r\n                if (attribs[j].indexOf(\"@\") !== -1) {\r\n                    queryByProcess = true;\r\n                    showNextStep = true;\r\n                }\r\n            }\r\n            if (queryByProcess)\r\n                processId = _globalsTableau.processByEntity[entityIndexes[i]];\r\n\r\n            _utilsTableau.setConnectionDataProp('entities', entity.name, {\r\n                \"entityIndex\": entityIndexes[i],\r\n                \"queryByProcess\": queryByProcess,\r\n                \"processId\": processId,\r\n                \"attribs\": validAttribs\r\n            });\r\n        }\r\n        tableau.submit();\r\n    }\r\n\r\n    function _getSchema(schemaCallback) {\r\n        var dataConnector = _utilsTableau.getConnectionData(),\r\n            entitiesMap = dataConnector.entities,\r\n            entitiesList = Object.keys(entitiesMap),\r\n            tables = [], tableId = '';\r\n\r\n        for (var i = 0; i < entitiesList.length; i++) {\r\n            tableId = _parseString(entitiesList[i]);\r\n            tables.push({\r\n                id: tableId,\r\n                alias: tableId,\r\n                columns: _generateColumns(entitiesMap[entitiesList[i]].attribs)\r\n            });\r\n        }\r\n\r\n        schemaCallback(tables);\r\n    }\r\n\r\n    function _generateColumns(attributes) {\r\n        var tableCols = [];\r\n        for (var i = 0; i < attributes.length; i++) {\r\n            tableCols.push({\r\n                id: _parseString(attributes[i]),\r\n                dataType: tableau.dataTypeEnum.string\r\n            });\r\n        }\r\n        return tableCols;\r\n    }\r\n\r\n    function _stepCompleteCallback(table, doneCallback, numPages) {\r\n        var currentPages = 0;\r\n        return function () {\r\n            currentPages++;\r\n            if (numPages === 0 || numPages === currentPages) {\r\n                table.appendRows(_globalsTableau.dataRows);\r\n                return doneCallback();\r\n            }\r\n        }\r\n    }\r\n\r\n    function _getDataCallback(table, doneCallback, retries) {\r\n        if (!retries) retries = 0;\r\n        var dataConnector = _utilsTableau.getConnectionData(),\r\n            entityName = table.tableInfo.id,\r\n            entity = dataConnector.entities[entityName],\r\n            attributes = entity.attribs,\r\n            baseUrl = dataConnector.globals.url + \"/odata/query/executeEntityQuery\",\r\n            bodyRequest = {\r\n                \"queryParameter\": {\r\n                    \"entity\": entityName, \"xpaths\": []\r\n                }\r\n            };\r\n\r\n        if (entity.queryByProcess) {\r\n            bodyRequest.queryParameter[\"processId\"] = entity.processId;\r\n        }\r\n        for (var i = 0; i < attributes.length; i++) {\r\n            if (attributes[i] === \"BizagiId\") continue;\r\n            bodyRequest.queryParameter.xpaths.push({\r\n                \"xpath\": attributes[i]\r\n            });\r\n        }\r\n        _globalsTableau.dataRows = [];\r\n\r\n        var mainDeferred = $.Deferred();\r\n        _getData({\r\n            url: baseUrl + \"?$top=\" + _utilsTableau.ITEMS_PAGE,\r\n            table: table,\r\n            bodyRequest: bodyRequest,\r\n            deferred: mainDeferred\r\n        });\r\n\r\n        $.when(mainDeferred).done(function (totalRecords) {\r\n            var numPages = _utilsTableau.calculateNumOfPages(totalRecords) - 1,\r\n                doneFn = _stepCompleteCallback(table, doneCallback, numPages);\r\n            for (var i = 1; i <= numPages; i++) {\r\n                var page = \"?$skip=\" + (i * _utilsTableau.ITEMS_PAGE) + \"&$top=\" + _utilsTableau.ITEMS_PAGE;\r\n                _getDataWrapper({\r\n                    url: baseUrl + page,\r\n                    table: table,\r\n                    bodyRequest: bodyRequest,\r\n                    doneCallback: doneFn\r\n                });\r\n            }\r\n            if (numPages === 0) doneFn();\r\n        }).fail(function (err) {\r\n            _retry(err, retries + 1, _getDataCallback.bind(this, table, doneCallback, retries + 1));\r\n        });\r\n    }\r\n\r\n    function _getDataWrapper(requestObj, retries) {\r\n        if (!retries) retries = 0;\r\n\r\n        var deferred = $.Deferred();\r\n        requestObj.deferred = deferred;\r\n\r\n        _getData(requestObj);\r\n\r\n        $.when(deferred).done(function () {\r\n            requestObj.doneCallback();\r\n        }).fail(function (err) {\r\n            _retry(err, retries + 1, _getDataWrapper.bind(this, requestObj, retries + 1));\r\n        });\r\n    }\r\n\r\n    function _getData(requestObj) {\r\n        var dataConnector = _utilsTableau.getConnectionData(),\r\n            authData = _utilsTableau.getAuthData(),\r\n            entityName = requestObj.table.tableInfo.id,\r\n            attributes = dataConnector.entities[entityName].attribs;\r\n\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: requestObj.url,\r\n            dataType: 'json',\r\n            data: requestObj.bodyRequest,\r\n            beforeSend: function (request) {\r\n                request.setRequestHeader('Authorization', 'Bearer ' + authData.accessToken);\r\n            },\r\n\r\n            success: function (data) {\r\n                var result = data.value;\r\n                for (var i = 0; i < result.length; i++) {\r\n                    var record = {};\r\n                    for (var j = 0; j < attributes.length; j++) {\r\n                        var colId = _parseString(attributes[j]),\r\n                            attributeName = attributes[j];\r\n                        if (attributeName[0] === '@') {\r\n                            var firstLetterLowerCase = attributeName[1].toLowerCase();\r\n                            attributeName = attributeName.substring(2, attributeName.length);\r\n                            attributeName = firstLetterLowerCase + attributeName;\r\n                        }\r\n                        record[colId] = result[i][attributeName];\r\n                    }\r\n                    _globalsTableau.dataRows.push(record);\r\n                }\r\n                if (result.length > 0) {\r\n                    tableau.reportProgress(\"Bizagi status: \" + _globalsTableau.dataRows.length + ' of ' + data[\"@odata.totalCount\"] + ' records');\r\n                    requestObj.deferred.resolve(data[\"@odata.totalCount\"]);\r\n                } else {\r\n                    requestObj.deferred.resolve(0);\r\n                }\r\n            },\r\n\r\n            error: function (err) { requestObj.deferred.reject(err); }\r\n        });\r\n    }\r\n\r\n    function _getAccessToken(callback) {\r\n        var dataConnector = _utilsTableau.getConnectionData(),\r\n            authData = _utilsTableau.getAuthData();\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: dataConnector.globals.url + '/oauth2/server/token',\r\n            contentType: 'application/x-www-form-urlencoded',\r\n            data: 'grant_type=client_credentials&scope=api',\r\n            dataType: 'json',\r\n            beforeSend: function (request) {\r\n                request.setRequestHeader('Authorization', 'Basic ' + btoa(authData.clientId + ':' + authData.clientSecret));\r\n            },\r\n\r\n            success: function (data) {\r\n                if (data.access_token) {\r\n                    _utilsTableau.setAuthData('accessToken', data.access_token);\r\n                    if (callback !== undefined && typeof callback === 'function') callback();\r\n                } else {\r\n                    _uiTableau.showFailedConnectionMessage();\r\n                    tableau.log(\"Bizagi Error: \" + JSON.stringify(data));\r\n                    tableau.abortForAuth(\"Bizagi Error: Wrong credentials\");\r\n                }\r\n            },\r\n\r\n            error: function (err) {\r\n                _uiTableau.showFailedConnectionMessage();\r\n                tableau.log(\"Bizagi Error: \" + JSON.stringify(err));\r\n                if (err.status === 401)\r\n                    tableau.abortForAuth(\"Bizagi Error: Wrong credentials\");\r\n                else\r\n                    tableau.abortWithError(\"Bizagi Error: See log for details\");\r\n            }\r\n        });\r\n    }\r\n\r\n    function _getEntities(retries) {\r\n        if (!retries) retries = 0;\r\n        var dataConnector = _utilsTableau.getConnectionData(),\r\n            authData = _utilsTableau.getAuthData();\r\n        $.ajax({\r\n            type: \"GET\",\r\n            url: dataConnector.globals.url + '/odata/query/entity',\r\n            dataType: 'json',\r\n            beforeSend: function (request) {\r\n                request.setRequestHeader('Authorization', 'Bearer ' + authData.accessToken);\r\n            },\r\n\r\n            success: function (response) {\r\n                var entities = response.value;\r\n                if (entities.length > 0) {\r\n                    _globalsTableau.entities = entities;\r\n                }\r\n                _uiTableau.renderTmpl(\"bizagi.connector.tableau.tree\", _uiTableau.loadTreeView.bind(this, _next));\r\n            },\r\n\r\n            error: function (err) { _retry(err, retries + 1, _getEntities.bind(this, retries + 1)) }\r\n        });\r\n    }\r\n\r\n    function _retry(err, retries, callback) {\r\n        console.log(retries);\r\n        if (err.status === 401 && retries < 3) {\r\n            _getAccessToken(callback);\r\n        } else {\r\n            tableau.log(\"Bizagi Retry Error: \" + JSON.stringify(err));\r\n            tableau.log(\"Number of retries: \" + retries);\r\n            var message = err.responseJSON ? err.responseJSON.message : \"See log for details\";\r\n            tableau.abortWithError(\"Bizagi Error: \" + message);\r\n        }\r\n    }\r\n\r\n    function _parseString(str) {\r\n        var newStr = str.replace(/ /g, '_')\r\n            .replace(/\"/g, '_doublequote_')\r\n            .replace(/,/g, '_comma_')\r\n            .replace(/=/g, '_equal_')\r\n            .replace(/\\//g, '_fslash_')\r\n            .replace(/-/g, '_dash_')\r\n            .replace(/\\./g, '_dot_')\r\n            .replace(/[^A-Za-z0-9_]/g, '_');\r\n        return newStr;\r\n    }\r\n\r\n    function _getTableauColType(type) {\r\n        switch (type) {\r\n            case 'Int32':\r\n                return tableau.dataTypeEnum.int;\r\n            case 'Decimal':\r\n                return tableau.dataTypeEnum.float;\r\n            case 'DateTime':\r\n            case 'DateTimeOffset':\r\n                return tableau.dataTypeEnum.datetime;\r\n            case 'Boolean':\r\n                return tableau.dataTypeEnum.bool;\r\n            case 'String':\r\n            case 'Guid':\r\n            default:\r\n                return tableau.dataTypeEnum.string;\r\n        }\r\n    }\r\n\r\n    return {\r\n        buildConnector: buildConnector,\r\n        connect: connect\r\n    }\r\n});\r\n\r\nvar UtilsTableau = (function () {\r\n    var ITEMS_PAGE = 100;\r\n\r\n    function setAuthData(prop, value) {\r\n        var authData = {\r\n            clientId: \"\",\r\n            clientSecret: \"\",\r\n            accessToken: \"\"\r\n        };\r\n        if (tableau.password) {\r\n            authData = getAuthData();\r\n        }\r\n        authData[prop] = value;\r\n\r\n        tableau.password = JSON.stringify(authData);\r\n    }\r\n\r\n    function setConnectionDataProp(section, prop, value, restart) {\r\n        if (!restart) restart = false;\r\n        var dataConnector = {\r\n            globals: {},\r\n            entities: {}\r\n        };\r\n        if (tableau.connectionData && !restart) {\r\n            dataConnector = getConnectionData();\r\n        }\r\n        if (!prop && !value) {\r\n            dataConnector[section] = {};\r\n        } else if (!prop) {\r\n            dataConnector[section] = value;\r\n        } else {\r\n            dataConnector[section][prop] = value;\r\n        }\r\n\r\n        tableau.connectionData = JSON.stringify(dataConnector);\r\n    }\r\n\r\n    function getConnectionData(){\r\n        try {\r\n            return JSON.parse(tableau.connectionData);\r\n        } catch(ex) {\r\n            tableau.log(\"Error parsing connection data: \" + ex);\r\n            tableau.abortWithError(\"Bizagi Error: problem parsing connection data. See log for details.\")\r\n        }\r\n    }\r\n\r\n    function getAuthData(){\r\n        try {\r\n            return JSON.parse(tableau.password);\r\n        } catch(ex) {\r\n            tableau.log(\"Error parsing auth data: \" + ex);\r\n            tableau.abortWithError(\"Bizagi Error: problem parsing authentication data. See log for details.\")\r\n        }\r\n    }\r\n\r\n    function calculateNumOfPages(totalRecords) {\r\n        var pages = Math.floor(totalRecords / ITEMS_PAGE);\r\n        if ((totalRecords % ITEMS_PAGE) > 0)\r\n            pages++;\r\n        return pages;\r\n    }\r\n\r\n    return {\r\n        setAuthData: setAuthData,\r\n        setConnectionDataProp: setConnectionDataProp,\r\n        calculateNumOfPages: calculateNumOfPages,\r\n        getConnectionData: getConnectionData,\r\n        getAuthData: getAuthData,\r\n        ITEMS_PAGE: ITEMS_PAGE\r\n    }\r\n});\r\n\r\nvar GlobalsTableau = (function () {\r\n    var entities = [],\r\n        selectedEntities = {},\r\n        processByEntity = {},\r\n        dataRows = [];\r\n\r\n    return {\r\n        entities: entities,\r\n        selectedEntities: selectedEntities,\r\n        dataRows: dataRows,\r\n        processByEntity: processByEntity\r\n    }\r\n});","/*! Build Number: 2.3.1 */\r\n!function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p=\"\",e(0)}([function(t,e,i){var o=i(20);o.init()},function(t,e,i){function o(){var t=c.get(s);return t}function n(t){var e=t.join(l);console.log(\"Saving approved origins '\"+e+\"'\");var i=c.set(s,e);return i}function a(t){if(t){var e=r();e.push(t),n(e)}}function r(){var t=o();if(!t||0===t.length)return[];var e=t.split(l);return e}var s=\"wdc_approved_origins\",l=\",\",c=i(9);t.exports.addApprovedOrigin=a,t.exports.getApprovedOrigins=r},function(t,e){function i(t){for(var e in o)t[e]=o[e]}var o={phaseEnum:{interactivePhase:\"interactive\",authPhase:\"auth\",gatherDataPhase:\"gatherData\"},authPurposeEnum:{ephemeral:\"ephemeral\",enduring:\"enduring\"},authTypeEnum:{none:\"none\",basic:\"basic\",custom:\"custom\"},dataTypeEnum:{bool:\"bool\",date:\"date\",datetime:\"datetime\",float:\"float\",int:\"int\",string:\"string\",geometry:\"geometry\"},columnRoleEnum:{dimension:\"dimension\",measure:\"measure\"},columnTypeEnum:{continuous:\"continuous\",discrete:\"discrete\"},aggTypeEnum:{sum:\"sum\",avg:\"avg\",median:\"median\",count:\"count\",countd:\"count_dist\"},geographicRoleEnum:{area_code:\"area_code\",cbsa_msa:\"cbsa_msa\",city:\"city\",congressional_district:\"congressional_district\",country_region:\"country_region\",county:\"county\",state_province:\"state_province\",zip_code_postcode:\"zip_code_postcode\",latitude:\"latitude\",longitude:\"longitude\"},unitsFormatEnum:{thousands:\"thousands\",millions:\"millions\",billions_english:\"billions_english\",billions_standard:\"billions_standard\"},numberFormatEnum:{number:\"number\",currency:\"currency\",scientific:\"scientific\",percentage:\"percentage\"},localeEnum:{america:\"en-us\",brazil:\"pt-br\",china:\"zh-cn\",france:\"fr-fr\",germany:\"de-de\",japan:\"ja-jp\",korea:\"ko-kr\",spain:\"es-es\"},joinEnum:{inner:\"inner\",left:\"left\"}};t.exports.apply=i},function(t,e){function i(t){this.nativeApiRootObj=t,this._initPublicInterface(),this._initPrivateInterface()}i.prototype._initPublicInterface=function(){console.log(\"Initializing public interface for NativeDispatcher\"),this._submitCalled=!1;var t={};t.abortForAuth=this._abortForAuth.bind(this),t.abortWithError=this._abortWithError.bind(this),t.addCrossOriginException=this._addCrossOriginException.bind(this),t.log=this._log.bind(this),t.submit=this._submit.bind(this),t.reportProgress=this._reportProgress.bind(this),this.publicInterface=t},i.prototype._abortForAuth=function(t){this.nativeApiRootObj.WDCBridge_Api_abortForAuth.api(t)},i.prototype._abortWithError=function(t){this.nativeApiRootObj.WDCBridge_Api_abortWithError.api(t)},i.prototype._addCrossOriginException=function(t){this.nativeApiRootObj.WDCBridge_Api_addCrossOriginException.api(t)},i.prototype._log=function(t){this.nativeApiRootObj.WDCBridge_Api_log.api(t)},i.prototype._submit=function(){return this._submitCalled?void console.log(\"submit called more than once\"):(this._submitCalled=!0,void this.nativeApiRootObj.WDCBridge_Api_submit.api())},i.prototype._initPrivateInterface=function(){console.log(\"Initializing private interface for NativeDispatcher\"),this._initCallbackCalled=!1,this._shutdownCallbackCalled=!1;var t={};t._initCallback=this._initCallback.bind(this),t._shutdownCallback=this._shutdownCallback.bind(this),t._schemaCallback=this._schemaCallback.bind(this),t._tableDataCallback=this._tableDataCallback.bind(this),t._dataDoneCallback=this._dataDoneCallback.bind(this),this.privateInterface=t},i.prototype._initCallback=function(){return this._initCallbackCalled?void console.log(\"initCallback called more than once\"):(this._initCallbackCalled=!0,void this.nativeApiRootObj.WDCBridge_Api_initCallback.api())},i.prototype._shutdownCallback=function(){return this._shutdownCallbackCalled?void console.log(\"shutdownCallback called more than once\"):(this._shutdownCallbackCalled=!0,void this.nativeApiRootObj.WDCBridge_Api_shutdownCallback.api())},i.prototype._schemaCallback=function(t,e){this.nativeApiRootObj.WDCBridge_Api_schemaCallbackEx?this.nativeApiRootObj.WDCBridge_Api_schemaCallbackEx.api(t,e||[]):this.nativeApiRootObj.WDCBridge_Api_schemaCallback.api(t)},i.prototype._tableDataCallback=function(t,e){this.nativeApiRootObj.WDCBridge_Api_tableDataCallback.api(t,e)},i.prototype._reportProgress=function(t){this.nativeApiRootObj.WDCBridge_Api_reportProgress?this.nativeApiRootObj.WDCBridge_Api_reportProgress.api(t):console.log(\"reportProgress not available from this Tableau version\")},i.prototype._dataDoneCallback=function(){this.nativeApiRootObj.WDCBridge_Api_dataDoneCallback.api()},t.exports=i},function(t,e,i){function o(t,e,i){this.privateApiObj=e,this.globalObj=i,this._hasAlreadyThrownErrorSoDontThrowAgain=!1,this.changeTableauApiObj(t)}var n=i(6),a=i(2);o.prototype.init=function(){console.log(\"Initializing shared WDC\"),this.globalObj.onerror=this._errorHandler.bind(this),this._initTriggerFunctions(),this._initDeprecatedFunctions()},o.prototype.changeTableauApiObj=function(t){this.tableauApiObj=t,this.tableauApiObj.makeConnector=this._makeConnector.bind(this),this.tableauApiObj.registerConnector=this._registerConnector.bind(this),a.apply(this.tableauApiObj)},o.prototype._errorHandler=function(t,e,i,o,n){if(console.error(n),this._hasAlreadyThrownErrorSoDontThrowAgain)return!0;var a=t;if(n?a+=\"   stack:\"+n.stack:(a+=\"   file: \"+e,a+=\"   line: \"+i),!this.tableauApiObj||!this.tableauApiObj.abortWithError)throw a;return this.tableauApiObj.abortWithError(a),this._hasAlreadyThrownErrorSoDontThrowAgain=!0,!0},o.prototype._makeConnector=function(){var t={init:function(t){t()},shutdown:function(t){t()}};return t},o.prototype._registerConnector=function(t){for(var e=[\"init\",\"shutdown\",\"getSchema\",\"getData\"],i=e.length-1;i>=0;i--)if(\"function\"!=typeof t[e[i]])throw\"The connector did not define the required function: \"+e[i];console.log(\"Connector registered\"),this.globalObj._wdc=t,this._wdc=t},o.prototype._initTriggerFunctions=function(){this.privateApiObj.triggerInitialization=this._triggerInitialization.bind(this),this.privateApiObj.triggerSchemaGathering=this._triggerSchemaGathering.bind(this),this.privateApiObj.triggerDataGathering=this._triggerDataGathering.bind(this),this.privateApiObj.triggerShutdown=this._triggerShutdown.bind(this)},o.prototype._triggerInitialization=function(){this._wdc.init(this.privateApiObj._initCallback)},o.prototype._triggerSchemaGathering=function(){this._wdc.getSchema(this.privateApiObj._schemaCallback)},o.prototype._triggerDataGathering=function(t){if(1!=t.length)throw\"Unexpected number of tables specified. Expected 1, actual \"+t.length.toString();var e=t[0],i=!!e.filterColumnId,o=new n(e.tableInfo,e.incrementValue,i,e.filterColumnId||\"\",e.filterValues||[],this.privateApiObj._tableDataCallback);this._wdc.getData(o,this.privateApiObj._dataDoneCallback)},o.prototype._triggerShutdown=function(){this._wdc.shutdown(this.privateApiObj._shutdownCallback)},o.prototype._initDeprecatedFunctions=function(){this.tableauApiObj.initCallback=this._initCallback.bind(this),this.tableauApiObj.headersCallback=this._headersCallback.bind(this),this.tableauApiObj.dataCallback=this._dataCallback.bind(this),this.tableauApiObj.shutdownCallback=this._shutdownCallback.bind(this)},o.prototype._initCallback=function(){this.tableauApiObj.abortWithError(\"tableau.initCallback has been deprecated in version 2.0.0. Please use the callback function passed to init\")},o.prototype._headersCallback=function(t,e){this.tableauApiObj.abortWithError(\"tableau.headersCallback has been deprecated in version 2.0.0\")},o.prototype._dataCallback=function(t,e,i){this.tableauApiObj.abortWithError(\"tableau.dataCallback has been deprecated in version 2.0.0\")},o.prototype._shutdownCallback=function(){this.tableauApiObj.abortWithError(\"tableau.shutdownCallback has been deprecated in version 2.0.0. Please use the callback function passed to shutdown\")},t.exports=o},function(t,e,i){function o(t){this.globalObj=t,this._initMessageHandling(),this._initPublicInterface(),this._initPrivateInterface()}var n=i(1);i(8),o.prototype._initMessageHandling=function(){console.log(\"Initializing message handling\"),this.globalObj.addEventListener(\"message\",this._receiveMessage.bind(this),!1),this.globalObj.document.addEventListener(\"DOMContentLoaded\",this._onDomContentLoaded.bind(this))},o.prototype._onDomContentLoaded=function(){if(this.globalObj.parent!==window&&this.globalObj.parent.postMessage(this._buildMessagePayload(\"loaded\"),\"*\"),this.globalObj.opener)try{this.globalObj.opener.postMessage(this._buildMessagePayload(\"loaded\"),\"*\")}catch(t){console.warn(\"Some versions of IE may not accurately simulate the Web Data Connector. Please retry on a Webkit based browser\")}},o.prototype._packagePropertyValues=function(){var t={connectionName:this.globalObj.tableau.connectionName,connectionData:this.globalObj.tableau.connectionData,password:this.globalObj.tableau.password,username:this.globalObj.tableau.username,usernameAlias:this.globalObj.tableau.usernameAlias,incrementalExtractColumn:this.globalObj.tableau.incrementalExtractColumn,versionNumber:this.globalObj.tableau.versionNumber,locale:this.globalObj.tableau.locale,authPurpose:this.globalObj.tableau.authPurpose,platformOS:this.globalObj.tableau.platformOS,platformVersion:this.globalObj.tableau.platformVersion,platformEdition:this.globalObj.tableau.platformEdition,platformBuildNumber:this.globalObj.tableau.platformBuildNumber};return t},o.prototype._applyPropertyValues=function(t){t&&(this.globalObj.tableau.connectionName=t.connectionName,this.globalObj.tableau.connectionData=t.connectionData,this.globalObj.tableau.password=t.password,this.globalObj.tableau.username=t.username,this.globalObj.tableau.usernameAlias=t.usernameAlias,this.globalObj.tableau.incrementalExtractColumn=t.incrementalExtractColumn,this.globalObj.tableau.locale=t.locale,this.globalObj.tableau.language=t.locale,this.globalObj.tableau.authPurpose=t.authPurpose,this.globalObj.tableau.platformOS=t.platformOS,this.globalObj.tableau.platformVersion=t.platformVersion,this.globalObj.tableau.platformEdition=t.platformEdition,this.globalObj.tableau.platformBuildNumber=t.platformBuildNumber)},o.prototype._buildMessagePayload=function(t,e,i){var o={msgName:t,msgData:e,props:i,version:\"2.3.1\"};return JSON.stringify(o)},o.prototype._sendMessage=function(t,e){var i=this._buildMessagePayload(t,e,this._packagePropertyValues());if(\"undefined\"!=typeof this.globalObj.webkit&&\"undefined\"!=typeof this.globalObj.webkit.messageHandlers&&\"undefined\"!=typeof this.globalObj.webkit.messageHandlers.wdcHandler)this.globalObj.webkit.messageHandlers.wdcHandler.postMessage(i);else{if(!this._sourceWindow)throw\"Looks like the WDC is calling a tableau function before tableau.init() has been called.\";this._sourceWindow.postMessage(i,this._sourceOrigin)}},o.prototype._getPayloadObj=function(t){var e=null;try{e=JSON.parse(t)}catch(t){return null}return e},o.prototype._getWebSecurityWarningConfirm=function(){var t=this._sourceOrigin,e=i(18),o=new e(t),a=o.host(),r=[\"localhost\",\"tableau.github.io\"];if(r.indexOf(a)>=0)return!0;if(a&&a.endsWith(\"online.tableau.com\"))return!0;var s=n.getApprovedOrigins();if(s.indexOf(t)>=0)return console.log(\"Already approved the origin'\"+t+\"', not asking again\"),!0;var l=this._getLocalizedString(\"webSecurityWarning\"),c=l+\"\\n\\n\"+a+\"\\n\",u=confirm(c);return u&&n.addApprovedOrigin(t),u},o.prototype._getCurrentLocale=function(){var t=navigator.language||navigator.userLanguage,e=t?t.substring(0,2):\"en\",i=[\"de\",\"en\",\"es\",\"fr\",\"ja\",\"ko\",\"pt\",\"zh\"];return i.indexOf(e)<0&&(e=\"en\"),e},o.prototype._getLocalizedString=function(t){var e=this._getCurrentLocale(),o=i(10),n=i(11),a=i(12),r=i(14),s=i(13),l=i(15),c=i(16),u=i(17),h={de:o,en:n,es:a,fr:s,ja:r,ko:l,pt:c,zh:u},p=h[e];return p[t]},o.prototype._receiveMessage=function(t){console.log(\"Received message!\");var e=this.globalObj._wdc;if(!e)throw\"No WDC registered. Did you forget to call tableau.registerConnector?\";var i=this._getPayloadObj(t.data);if(i){this._sourceWindow||(this._sourceWindow=t.source,this._sourceOrigin=t.origin);var o=i.msgData;switch(this._applyPropertyValues(i.props),i.msgName){case\"init\":var n=this._getWebSecurityWarningConfirm();n?(this.globalObj.tableau.phase=o.phase,this.globalObj._tableau.triggerInitialization()):window.close();break;case\"shutdown\":this.globalObj._tableau.triggerShutdown();break;case\"getSchema\":this.globalObj._tableau.triggerSchemaGathering();break;case\"getData\":this.globalObj._tableau.triggerDataGathering(o.tablesAndIncrementValues)}}},o.prototype._initPublicInterface=function(){console.log(\"Initializing public interface\"),this._submitCalled=!1;var t={};t.abortForAuth=this._abortForAuth.bind(this),t.abortWithError=this._abortWithError.bind(this),t.addCrossOriginException=this._addCrossOriginException.bind(this),t.log=this._log.bind(this),t.reportProgress=this._reportProgress.bind(this),t.submit=this._submit.bind(this),this.publicInterface=t},o.prototype._abortForAuth=function(t){this._sendMessage(\"abortForAuth\",{msg:t})},o.prototype._abortWithError=function(t){this._sendMessage(\"abortWithError\",{errorMsg:t})},o.prototype._addCrossOriginException=function(t){console.log(\"Cross Origin Exception requested in the simulator. Pretending to work.\"),setTimeout(function(){this.globalObj._wdc.addCrossOriginExceptionCompleted(t)}.bind(this),0)},o.prototype._log=function(t){this._sendMessage(\"log\",{logMsg:t})},o.prototype._reportProgress=function(t){this._sendMessage(\"reportProgress\",{progressMsg:t})},o.prototype._submit=function(){this._sendMessage(\"submit\")},o.prototype._initPrivateInterface=function(){console.log(\"Initializing private interface\");var t={};t._initCallback=this._initCallback.bind(this),t._shutdownCallback=this._shutdownCallback.bind(this),t._schemaCallback=this._schemaCallback.bind(this),t._tableDataCallback=this._tableDataCallback.bind(this),t._dataDoneCallback=this._dataDoneCallback.bind(this),this.privateInterface=t},o.prototype._initCallback=function(){this._sendMessage(\"initCallback\")},o.prototype._shutdownCallback=function(){this._sendMessage(\"shutdownCallback\")},o.prototype._schemaCallback=function(t,e){this._sendMessage(\"_schemaCallback\",{schema:t,standardConnections:e||[]})},o.prototype._tableDataCallback=function(t,e){this._sendMessage(\"_tableDataCallback\",{tableName:t,data:e})},o.prototype._dataDoneCallback=function(){this._sendMessage(\"_dataDoneCallback\")},t.exports=o},function(t,e){function i(t,e,i,o,n,a){this.tableInfo=t,this.incrementValue=e||\"\",this.isJoinFiltered=i,this.filterColumnId=o,this.filterValues=n,this._dataCallbackFn=a,this.appendRows=this._appendRows.bind(this)}i.prototype._appendRows=function(t){return t?Array.isArray(t)?void this._dataCallbackFn(this.tableInfo.id,t):void console.warn(\"Table.appendRows must take an array of arrays or array of objects\"):void console.warn(\"rows data is null or undefined\")},t.exports=i},function(t,e){function i(t,e){for(var i in t)\"function\"==typeof t[i]&&(e[i]=t[i])}function o(t,e,i){i.forEach(function(i){Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:function(){return t[i]},set:function(e){return t[i]=e}})})}var n=[\"authPurpose\",\"authType\",\"connectionData\",\"connectionName\",\"language\",\"locale\",\"logLevel\",\"password\",\"phase\",\"platformBuildNumber\",\"platformEdition\",\"platformOs\",\"platformVersion\",\"propertiesReady\",\"scriptVersion\",\"username\",\"usernameAlias\",\"APIVersion\"];t.exports.copyFunctions=i,t.exports.linkObjectProperties=o,t.exports.tableauProperties=n},function(t,e){/*! http://mths.be/endswith v0.2.0 by @mathias */\r\n\tString.prototype.endsWith||!function(){\"use strict\";var t=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(t){}return i}(),e={}.toString,i=function(t){if(null==this)throw TypeError();var i=String(this);if(t&&\"[object RegExp]\"==e.call(t))throw TypeError();var o=i.length,n=String(t),a=n.length,r=o;if(arguments.length>1){var s=arguments[1];void 0!==s&&(r=s?Number(s):0,r!=r&&(r=0))}var l=Math.min(Math.max(r,0),o),c=l-a;if(c<0)return!1;for(var u=-1;++u<a;)if(i.charCodeAt(c+u)!=n.charCodeAt(u))return!1;return!0};t?t(String.prototype,\"endsWith\",{value:i,configurable:!0,writable:!0}):String.prototype.endsWith=i}()},function(t,e,i){var o;!function(n,a){\"use strict\";var r=function(t){if(\"object\"!=typeof t.document)throw new Error(\"Cookies.js requires a `window` with a `document` object\");var e=function(t,i,o){return 1===arguments.length?e.get(t):e.set(t,i,o)};return e._document=t.document,e._cacheKeyPrefix=\"cookey.\",e._maxExpireDate=new Date(\"Fri, 31 Dec 9999 23:59:59 UTC\"),e.defaults={path:\"/\",secure:!1},e.get=function(t){e._cachedDocumentCookie!==e._document.cookie&&e._renewCache();var i=e._cache[e._cacheKeyPrefix+t];return i===a?a:decodeURIComponent(i)},e.set=function(t,i,o){return o=e._getExtendedOptions(o),o.expires=e._getExpiresDate(i===a?-1:o.expires),e._document.cookie=e._generateCookieString(t,i,o),e},e.expire=function(t,i){return e.set(t,a,i)},e._getExtendedOptions=function(t){return{path:t&&t.path||e.defaults.path,domain:t&&t.domain||e.defaults.domain,expires:t&&t.expires||e.defaults.expires,secure:t&&t.secure!==a?t.secure:e.defaults.secure}},e._isValidDate=function(t){return\"[object Date]\"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())},e._getExpiresDate=function(t,i){if(i=i||new Date,\"number\"==typeof t?t=t===1/0?e._maxExpireDate:new Date(i.getTime()+1e3*t):\"string\"==typeof t&&(t=new Date(t)),t&&!e._isValidDate(t))throw new Error(\"`expires` parameter cannot be converted to a valid Date instance\");return t},e._generateCookieString=function(t,e,i){t=t.replace(/[^#$&+\\^`|]/g,encodeURIComponent),t=t.replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\"),e=(e+\"\").replace(/[^!#$&-+\\--:<-\\[\\]-~]/g,encodeURIComponent),i=i||{};var o=t+\"=\"+e;return o+=i.path?\";path=\"+i.path:\"\",o+=i.domain?\";domain=\"+i.domain:\"\",o+=i.expires?\";expires=\"+i.expires.toUTCString():\"\",o+=i.secure?\";secure\":\"\"},e._getCacheFromString=function(t){for(var i={},o=t?t.split(\"; \"):[],n=0;n<o.length;n++){var r=e._getKeyValuePairFromCookieString(o[n]);i[e._cacheKeyPrefix+r.key]===a&&(i[e._cacheKeyPrefix+r.key]=r.value)}return i},e._getKeyValuePairFromCookieString=function(t){var e=t.indexOf(\"=\");e=e<0?t.length:e;var i,o=t.substr(0,e);try{i=decodeURIComponent(o)}catch(t){console&&\"function\"==typeof console.error&&console.error('Could not decode cookie with key \"'+o+'\"',t)}return{key:i,value:t.substr(e+1)}},e._renewCache=function(){e._cache=e._getCacheFromString(e._document.cookie),e._cachedDocumentCookie=e._document.cookie},e._areEnabled=function(){var t=\"cookies.js\",i=\"1\"===e.set(t,1).get(t);return e.expire(t),i},e.enabled=e._areEnabled(),e},s=n&&\"object\"==typeof n.document?r(n):r;o=function(){return s}.call(e,i,e,t),!(o!==a&&(t.exports=o))}(\"undefined\"==typeof window?this:window)},function(t,e){t.exports={webSecurityWarning:\"To help prevent malicious sites from getting access to your confidential data, confirm that you trust the following site:\"}},function(t,e){t.exports={webSecurityWarning:\"To help prevent malicious sites from getting access to your confidential data, confirm that you trust the following site:\"}},function(t,e){t.exports={webSecurityWarning:\"To help prevent malicious sites from getting access to your confidential data, confirm that you trust the following site:\"}},function(t,e){t.exports={webSecurityWarning:\"To help prevent malicious sites from getting access to your confidential data, confirm that you trust the following site:\"}},function(t,e){t.exports={webSecurityWarning:\"To help prevent malicious sites from getting access to your confidential data, confirm that you trust the following site:\"}},function(t,e){t.exports={webSecurityWarning:\"To help prevent malicious sites from getting access to your confidential data, confirm that you trust the following site:\"}},function(t,e){t.exports={webSecurityWarning:\"To help prevent malicious sites from getting access to your confidential data, confirm that you trust the following site:\"}},function(t,e){t.exports={webSecurityWarning:\"wwTo help prevent malicious sites from getting access to your confidential data, confirm that you trust the following site:\"}},function(t,e,i){var o;/*!\r\n\t\t * jsUri\r\n\t\t * https://github.com/derek-watson/jsUri\r\n\t\t *\r\n\t\t * Copyright 2013, Derek Watson\r\n\t\t * Released under the MIT license.\r\n\t\t *\r\n\t\t * Includes parseUri regular expressions\r\n\t\t * http://blog.stevenlevithan.com/archives/parseuri\r\n\t\t * Copyright 2007, Steven Levithan\r\n\t\t * Released under the MIT license.\r\n\t\t */\r\n\t!function(n){function a(t){return t&&(t=t.toString().replace(c.pluses,\"%20\"),t=decodeURIComponent(t)),t}function r(t){var e=c.uri_parser,i=[\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"isColonUri\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"],o=e.exec(t||\"\"),n={};return i.forEach(function(t,e){n[t]=o[e]||\"\"}),n}function s(t){var e,i,o,n,r,s,l,u=[];if(\"undefined\"==typeof t||null===t||\"\"===t)return u;for(0===t.indexOf(\"?\")&&(t=t.substring(1)),i=t.toString().split(c.query_separator),e=0,l=i.length;e<l;e++)o=i[e],n=o.indexOf(\"=\"),0!==n&&(r=a(o.substring(0,n)),s=a(o.substring(n+1)),u.push(n===-1?[o,null]:[r,s]));return u}function l(t){this.uriParts=r(t),this.queryPairs=s(this.uriParts.query),this.hasAuthorityPrefixUserPref=null}var c={starts_with_slashes:/^\\/+/,ends_with_slashes:/\\/+$/,pluses:/\\+/g,query_separator:/[&;]/,uri_parser:/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@\\/]*)(?::([^:@]*))?)?@)?(\\[[0-9a-fA-F:.]+\\]|[^:\\/?#]*)(?::(\\d+|(?=:)))?(:)?)((((?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/};Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var i,o;if(null==this)throw new TypeError(\" this is null or not defined\");var n=Object(this),a=n.length>>>0;if(\"function\"!=typeof t)throw new TypeError(t+\" is not a function\");for(arguments.length>1&&(i=e),o=0;o<a;){var r;o in n&&(r=n[o],t.call(i,r,o,n)),o++}}),[\"protocol\",\"userInfo\",\"host\",\"port\",\"path\",\"anchor\"].forEach(function(t){l.prototype[t]=function(e){return\"undefined\"!=typeof e&&(this.uriParts[t]=e),this.uriParts[t]}}),l.prototype.hasAuthorityPrefix=function(t){return\"undefined\"!=typeof t&&(this.hasAuthorityPrefixUserPref=t),null===this.hasAuthorityPrefixUserPref?this.uriParts.source.indexOf(\"//\")!==-1:this.hasAuthorityPrefixUserPref},l.prototype.isColonUri=function(t){return\"undefined\"==typeof t?!!this.uriParts.isColonUri:void(this.uriParts.isColonUri=!!t)},l.prototype.query=function(t){var e,i,o,n=\"\";for(\"undefined\"!=typeof t&&(this.queryPairs=s(t)),e=0,o=this.queryPairs.length;e<o;e++)i=this.queryPairs[e],n.length>0&&(n+=\"&\"),null===i[1]?n+=i[0]:(n+=i[0],n+=\"=\",\"undefined\"!=typeof i[1]&&(n+=encodeURIComponent(i[1])));return n.length>0?\"?\"+n:n},l.prototype.getQueryParamValue=function(t){var e,i,o;for(i=0,o=this.queryPairs.length;i<o;i++)if(e=this.queryPairs[i],t===e[0])return e[1]},l.prototype.getQueryParamValues=function(t){var e,i,o,n=[];for(e=0,o=this.queryPairs.length;e<o;e++)i=this.queryPairs[e],t===i[0]&&n.push(i[1]);return n},l.prototype.deleteQueryParam=function(t,e){var i,o,n,r,s,l=[];for(i=0,s=this.queryPairs.length;i<s;i++)o=this.queryPairs[i],n=a(o[0])===a(t),r=o[1]===e,(1!==arguments.length||n)&&(2!==arguments.length||n&&r)||l.push(o);return this.queryPairs=l,this},l.prototype.addQueryParam=function(t,e,i){return 3===arguments.length&&i!==-1?(i=Math.min(i,this.queryPairs.length),this.queryPairs.splice(i,0,[t,e])):arguments.length>0&&this.queryPairs.push([t,e]),this},l.prototype.hasQueryParam=function(t){var e,i=this.queryPairs.length;for(e=0;e<i;e++)if(this.queryPairs[e][0]==t)return!0;return!1},l.prototype.replaceQueryParam=function(t,e,i){var o,n,r=-1,s=this.queryPairs.length;if(3===arguments.length){for(o=0;o<s;o++)if(n=this.queryPairs[o],a(n[0])===a(t)&&decodeURIComponent(n[1])===a(i)){r=o;break}r>=0&&this.deleteQueryParam(t,a(i)).addQueryParam(t,e,r)}else{for(o=0;o<s;o++)if(n=this.queryPairs[o],a(n[0])===a(t)){r=o;break}this.deleteQueryParam(t),this.addQueryParam(t,e,r)}return this},[\"protocol\",\"hasAuthorityPrefix\",\"isColonUri\",\"userInfo\",\"host\",\"port\",\"path\",\"query\",\"anchor\"].forEach(function(t){var e=\"set\"+t.charAt(0).toUpperCase()+t.slice(1);l.prototype[e]=function(e){return this[t](e),this}}),l.prototype.scheme=function(){var t=\"\";return this.protocol()?(t+=this.protocol(),this.protocol().indexOf(\":\")!==this.protocol().length-1&&(t+=\":\"),t+=\"//\"):this.hasAuthorityPrefix()&&this.host()&&(t+=\"//\"),t},l.prototype.origin=function(){var t=this.scheme();return this.userInfo()&&this.host()&&(t+=this.userInfo(),this.userInfo().indexOf(\"@\")!==this.userInfo().length-1&&(t+=\"@\")),this.host()&&(t+=this.host(),(this.port()||this.path()&&this.path().substr(0,1).match(/[0-9]/))&&(t+=\":\"+this.port())),t},l.prototype.addTrailingSlash=function(){var t=this.path()||\"\";return\"/\"!==t.substr(-1)&&this.path(t+\"/\"),this},l.prototype.toString=function(){var t,e=this.origin();return this.isColonUri()?this.path()&&(e+=\":\"+this.path()):this.path()?(t=this.path(),c.ends_with_slashes.test(e)||c.starts_with_slashes.test(t)?(e&&e.replace(c.ends_with_slashes,\"/\"),t=t.replace(c.starts_with_slashes,\"/\")):e+=\"/\",e+=t):this.host()&&(this.query().toString()||this.anchor())&&(e+=\"/\"),this.query().toString()&&(e+=this.query().toString()),this.anchor()&&(0!==this.anchor().indexOf(\"#\")&&(e+=\"#\"),e+=this.anchor()),e},l.prototype.clone=function(){return new l(this.toString())},o=function(){return l}.call(e,i,e,t),!(void 0!==o&&(t.exports=o))}(this)},function(t,e,i){\"use strict\";function o(t,e,i){function a(t,e){var o=t[0],a=t[1];c[o]={connect:function(t){return\"function\"!=typeof t?void console.error(\"Bad callback given to connect to signal \"+o):(c.__objectSignals__[a]=c.__objectSignals__[a]||[],c.__objectSignals__[a].push(t),void(e||\"destroyed\"===o||i.exec({type:n.connectToSignal,object:c.__id__,signal:a})))},disconnect:function(t){if(\"function\"!=typeof t)return void console.error(\"Bad callback given to disconnect from signal \"+o);c.__objectSignals__[a]=c.__objectSignals__[a]||[];var r=c.__objectSignals__[a].indexOf(t);return r===-1?void console.error(\"Cannot find connection of signal \"+o+\" to \"+t.name):(c.__objectSignals__[a].splice(r,1),void(e||0!==c.__objectSignals__[a].length||i.exec({type:n.disconnectFromSignal,object:c.__id__,signal:a})))}}}function r(t,e){var i=c.__objectSignals__[t];i&&i.forEach(function(t){t.apply(t,e)})}function s(t){var e=t[0],a=t[1];c[e]=function(){for(var t,e=[],r=0;r<arguments.length;++r){var s=arguments[r];\"function\"==typeof s?t=s:s instanceof o&&void 0!==i.objects[s.__id__]?e.push({id:s.__id__}):e.push(s)}i.exec({type:n.invokeMethod,object:c.__id__,method:a,args:e},function(e){if(void 0!==e){var i=c.unwrapQObject(e);t&&t(i)}})}}function l(t){var e=t[0],r=t[1],s=t[2];c.__propertyCache__[e]=t[3],s&&(1===s[0]&&(s[0]=r+\"Changed\"),a(s,!0)),Object.defineProperty(c,r,{configurable:!0,get:function(){var t=c.__propertyCache__[e];return void 0===t&&console.warn('Undefined value in property cache for property \"'+r+'\" in object '+c.__id__),t},set:function(t){if(void 0===t)return void console.warn(\"Property setter for \"+r+\" called with undefined value!\");c.__propertyCache__[e]=t;var a=t;a instanceof o&&void 0!==i.objects[a.__id__]&&(a={id:a.__id__}),i.exec({type:n.setProperty,object:c.__id__,property:e,value:a})}})}this.__id__=t,i.objects[t]=this,this.__objectSignals__={},this.__propertyCache__={};var c=this;this.unwrapQObject=function(t){if(t instanceof Array){for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=c.unwrapQObject(t[n]);return e}if(!t||!t[\"__QObject*__\"]||void 0===t.id)return t;var a=t.id;if(i.objects[a])return i.objects[a];if(!t.data)return void console.error(\"Cannot unwrap unknown QObject \"+a+\" without data.\");var r=new o(a,t.data,i);return r.destroyed.connect(function(){if(i.objects[a]===r){delete i.objects[a];var t=[];for(var e in r)t.push(e);for(var o in t)delete r[t[o]]}}),r.unwrapProperties(),r},this.unwrapProperties=function(){for(var t in c.__propertyCache__)c.__propertyCache__[t]=c.unwrapQObject(c.__propertyCache__[t])},this.propertyUpdate=function(t,e){for(var i in e){var o=e[i];c.__propertyCache__[i]=o}for(var n in t)r(n,t[n])},this.signalEmitted=function(t,e){r(t,this.unwrapQObject(e))},e.methods.forEach(s),e.properties.forEach(l),e.signals.forEach(function(t){a(t,!1)});for(var t in e.enums)c[t]=e.enums[t]}var n={signal:1,propertyUpdate:2,init:3,idle:4,debug:5,invokeMethod:6,connectToSignal:7,disconnectFromSignal:8,setProperty:9,response:10},a=function(t,e){if(\"object\"!=typeof t||\"function\"!=typeof t.send)return void console.error(\"The QWebChannel expects a transport object with a send function and onmessage callback property. Given is: transport: \"+typeof t+\", transport.send: \"+typeof t.send);var i=this;this.transport=t,this.send=function(t){\"string\"!=typeof t&&(t=JSON.stringify(t)),i.transport.send(t)},this.transport.onmessage=function(t){var e=t.data;switch(\"string\"==typeof e&&(e=JSON.parse(e)),e.type){case n.signal:i.handleSignal(e);break;case n.response:i.handleResponse(e);break;case n.propertyUpdate:i.handlePropertyUpdate(e);break;default:console.error(\"invalid message received:\",t.data)}},this.execCallbacks={},this.execId=0,this.exec=function(t,e){return e?(i.execId===Number.MAX_VALUE&&(i.execId=Number.MIN_VALUE),t.hasOwnProperty(\"id\")?void console.error(\"Cannot exec message with property id: \"+JSON.stringify(t)):(t.id=i.execId++,i.execCallbacks[t.id]=e,void i.send(t))):void i.send(t)},this.objects={},this.handleSignal=function(t){var e=i.objects[t.object];e?e.signalEmitted(t.signal,t.args):console.warn(\"Unhandled signal: \"+t.object+\"::\"+t.signal)},this.handleResponse=function(t){return t.hasOwnProperty(\"id\")?(i.execCallbacks[t.id](t.data),void delete i.execCallbacks[t.id]):void console.error(\"Invalid response message received: \",JSON.stringify(t))},this.handlePropertyUpdate=function(t){for(var e in t.data){var o=t.data[e],a=i.objects[o.object];a?a.propertyUpdate(o.signals,o.properties):console.warn(\"Unhandled property update: \"+o.object+\"::\"+o.signal)}i.exec({type:n.idle})},this.debug=function(t){i.send({type:n.debug,data:t})},i.exec({type:n.init},function(t){for(var a in t)var r=new o(a,t[a],i);for(var a in i.objects)i.objects[a].unwrapProperties();e&&e(i),i.exec({type:n.idle})})};t.exports={QWebChannel:a}},function(t,e,i){\"use strict\";function o(t,e){n.copyFunctions(t.publicInterface,window.tableau),n.copyFunctions(t.privateInterface,window._tableau),e.init()}var n=i(7),a=i(4),r=i(3),s=i(5),l=i(19);t.exports.init=function(){var t=null,e=null;window._tableau={},window.tableauVersionBootstrap?(console.log(\"Initializing NativeDispatcher, Reporting version number\"),window.tableauVersionBootstrap.ReportVersionNumber(\"2.3.1\"),t=new r(window)):window.qt&&window.qt.webChannelTransport?(console.log(\"Initializing NativeDispatcher for qwebchannel\"),window.tableau={},window.channel=new l.QWebChannel(qt.webChannelTransport,function(i){console.log(\"QWebChannel created successfully\"),window._tableau._nativeSetupCompleted=function(){t=new r(i.objects),n.linkObjectProperties(i.objects.tableau,window.tableau,n.tableauProperties),e.changeTableauApiObj(window.tableau),o(t,e)},i.objects.tableauVersionBootstrap.ReportVersionNumber(\"2.3.1\")})):(console.log(\"Version Bootstrap is not defined, Initializing SimulatorDispatcher\"),window.tableau={},t=new s(window)),e=new a(window.tableau,window._tableau,window),t&&o(t,e)}}]);\r\n\t//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLm1pbi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9idW5kbGUubWluLmpzIl0sIm1hcHBpbmdzIjoiO0FBQ0E7QUFvN0JBOzs7Ozs7Ozs7Ozs7QUFpVEEiLCJzb3VyY2VSb290IjoiIn0="]}