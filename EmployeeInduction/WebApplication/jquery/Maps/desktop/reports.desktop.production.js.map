{"version":3,"sources":["jquery/workportal/js/base/widget/bizagi.workportal.widgets.reports.js","jquery/workportal/js/base/widget/bizagi.workportal.widgets.reportsMenu.js","jquery/workportal/js/base/widget/bizagi.workportal.widgets.reportsChart.js","jquery/workportal/js/desktop/widget/bizagi.workportal.desktop.widgets.reports.js","jquery/workportal/js/desktop/widget/bizagi.workportal.desktop.widgets.reportsMenu.js","jquery/workportal/js/desktop/widget/bizagi.workportal.desktop.widgets.reportsChart.js","jquery/reporting/bizagi.reporting.definition.js"],"names":["bizagi","workportal","widgets","widget","extend","getWidgetName","BIZAGI_WORKPORTAL_WIDGET_REPORTS","init","workportalFacade","dataService","params","this","_super","renderContent","template","getTemplate","content","$","tmpl","self","endPoint","reportsMenu","getRawReportsJSON","BIZAGI_WORKPORTAL_WIDGET_REPORTS_MENU","Reports","displayName","resources","getResource","icon","show","menuSecurity","BAMProcess","BAMTask","BAMResourceMonitor","subItems","AnalyticsProcess","AnalyticsTask","AnalyticsSensor","BAM","Analytics","AnalysisQuery","reporting","defaultReport","filters","myTeam","BIZAGI_WORKPORTAL_WIDGET_REPORTS_CHART","callBack","loadReportingModule","loader","deferred","Deferred","start","then","reportingModule","facade","proxyPrefix","resolve","myTeamCallBack","when","getDataForMyTeam","done","result","$teamTab","items","length","css","reports","loadTemplates","concat","reports-elements","reports-empty-elements","reports-query-tree","reports-query-confirm","reports-query-edit","useNewEngine","postRender","configureTreeNavigation","configureBackButton","renderReports","scrollVertical","autohide","getReports","def","idElement","getAnalisysQueries","data","childsBam","childsAnalytics","push","childs","AnalysisQueries","getReportsById","each","key","value","promise","finalJson","queries","name","reportSet","extraArgs","idQuery","activeEdit","description","idParentQuery","appendElement","queryContent","mergeData","getContent","emptyTemplate","reportsContainer","empty","undefined","merge","nodes","checkChildNode","appendTo","configureNavTree","jsInjection","url","title","hackParams","callback","openModalWindow","sUrl","dialogWidth","dialogHeight","buttonArray","resizeable","doc","ownerDocument","controller","publish","widgetName","genericIframe","widgetURL","injectCss","modalParameters","afterLoad","openBACase","idCase","sHref","desktop","popup","closePopupInstance","workitem","indexOf","substring","action","routingAction","idWorkItem","buttonCancel_onclick","CloseParentDialog","afterLoadParams","actions","BIZAGI_WORKPORTAL_ACTION_ROUTING","BIZAGI_WORKPORTAL_WIDGET_GENERICIFRAME","confirm","headerTemplate","click","maximized","categoryTree","finalUrl","serviceLocator","getUrl","queryDisplayName","currentPopup","hack","id","e","stopPropagation","editFolder","parents","queryId","dialog","resizable","modal","buttons","text","deleteQueries","btnBack","remove","children","val","nextAll","idParent","bizagiScrollbar","element","util","trim","find","html","nodeTemplate","query","updateQueries","queryName","queryDescription","reportsMenu-container","reportsMenu-items","reportsMenu-itemsdata","reportsMenu-tree","reportsMenu-noitems","reportsMenu-edition","reportsMenu-vldmessage","reportsMenu-delete","buildAnalysisJSON","renderReportsMenu","eventsHandler","getAnalysisQueries","analysisJSON","getReporstAnalysisQuery","filterParameters","index","tmplItems","tmplNoItems","elements","pipe","$menuList","on","event","$el","execSelectedItem","buildNavTree","preventDefault","$li","closest","hasClass","showReportEdition","showDeleteForm","cancelReportAction","applyReportEdition","deleteReport","path","getFiltersById","form","slideUp","removeClass","addClass","slideDown","deleteReportData","response","status","$liSiblings","size","fadeOut","jQuery","grep","pop","trigger","categoryCnt","append","reportData","getReportsData","validateFormElements","JSON","stringify","updateReportData","cnt","siblings","msg","message","showValidationMessage","isValid","i","msgContainer","validateRequired","validateSpecialCharacters","removeValidationMessage","attr","RegExp","test","filter","obj","reportsChart","admin.case.search.quicksearch","caseSearch","report","referrerParams","fromBackButton","tab","loadReport","info","components","model","render","canvas","widgetInstance","attachReportEvents","apply","bindWindowResize","subscribe","showGraphicQuery","isEmptyObject","initCaseAdministration","showCaseAdministration","caseData","idTask","getCaseSearchContent","admin","container","loadtemplates","setupActivitiesLink","findResults","I_radNumber","radNumber","bamprocessloadanalysis","resource","bamprocessworkinprogress","bamtasksworkinprogress","bamtaskloadanalysis","analyticsprocesscycletime","analyticsprocessdurationhistogram","analyticsprocessactivity","analyticsprocessactivationranking","analyticsprocessfrequentspaths","analyticstaskcycletime","ResourceBAM","bamresourcemonitorworkinprogress","bamresourcemonitorworkinprogressuser","bamresourcemonitorworkinprogressteam","sensors"],"mappings":"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","sourcesContent":["/*\r\n*   Name: BizAgi Workportal Reports Widget Controller\r\n*   Author: Edward Morales\r\n*   Comments:\r\n*   -   This script will define a base class to show all reports categories\r\n*/\r\n\r\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.reports\", {}, {\r\n    \r\n    /*\r\n    *   Returns the widget name\r\n    */\r\n    getWidgetName: function(){  \r\n        return bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_REPORTS;\r\n    },\r\n    \r\n    init: function (workportalFacade, dataService, params) {\r\n        var self = this;\r\n\r\n        // Call base\r\n        self._super(workportalFacade, dataService, params);\r\n    },\r\n\r\n    /*\r\n    *   Renders the content for the current controller\r\n    *   Returns a deferred because it has to load the current user\r\n    */\r\n    renderContent: function(){\r\n        var self = this;\r\n        var template = self.getTemplate(\"reports\");\r\n        var content = self.content = $.tmpl(template);\r\n        \r\n        return content;\r\n    }\r\n});\r\n","/*\r\n*   Name: BizAgi Workportal Reports Widget Controller\r\n*   Author: David Romero\r\n*   Comments:\r\n*   -   This script will define a base class to show all reports categories\r\n*/\r\n\r\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.reportsMenu\", {}, {\r\n\r\n    init: function (workportalFacade, dataService, params) {\r\n        var self = this;\r\n\r\n        self._super(workportalFacade, dataService, params);\r\n\r\n        self.endPoint = [ \"Reports\", \"BAMProcess\", \"BAMTask\", \"AnalyticsProcess\", \"AnalyticsTask\", \"AnalyticsSensor\", \"ResourceBAM\" ];\r\n        self.reportsMenu = self.getRawReportsJSON();\r\n    },\r\n    /*\r\n    *   Returns the widget name\r\n    */\r\n    getWidgetName: function () {\r\n        return bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_REPORTS_MENU;\r\n    },\r\n\r\n    /*\r\n    *   Renders the content for the current controller\r\n    *   Returns a deferred because it has to load the current user\r\n    */\r\n    renderContent: function () {\r\n        var self = this;\r\n        var template = self.getTemplate(\"reportsMenu-container\");\r\n        var content = self.content = $.tmpl(template);\r\n\r\n        return content;\r\n    },\r\n\r\n    /*\r\n    * JON for reports menu\r\n    */\r\n    getRawReportsJSON: function () {\r\n\r\n        var self = this;\r\n\r\n        return {\r\n                \"Reports\": [\r\n                    {\r\n                        displayName: self.resources.getResource(\"workportal-menu-submenu-BAMMenu\"),\r\n                        icon: \"bz-icon-folder-outline\",\r\n                        show: function () {\r\n                            return (bizagi.menuSecurity.BAMProcess || bizagi.menuSecurity.BAMTask || bizagi.menuSecurity.BAMResourceMonitor) ? true : false;\r\n                        },\r\n                        endPoint: \"\",\r\n                        subItems: \"BAM\"\r\n                    },\r\n                    {\r\n                        displayName: self.resources.getResource(\"workportal-menu-submenu-AnalyticsMenu\"),\r\n                        icon: \"bz-icon-folder-outline\",\r\n                        show: function () {\r\n                            return (bizagi.menuSecurity.AnalyticsProcess || bizagi.menuSecurity.AnalyticsTask) ? true : false;\r\n                        },\r\n                        endPoint: \"\",\r\n                        subItems: \"Analytics\",\r\n                    },\r\n                    {\r\n                        displayName: self.resources.getResource(\"workportal-menu-submenu-AnalyticsSensor\"),\r\n                        show: bizagi.menuSecurity.AnalyticsSensor,\r\n                        icon: \"AnalyticsSensor bz-icon-rules\",\r\n                        endPoint: \"AnalyticsSensor\",\r\n                        subItems: []\r\n                    }\r\n                ],\r\n                \"BAM\": [\r\n                    {\r\n                        displayName: self.resources.getResource(\"workportal-menu-submenu-AnalyticsProcess\"),\r\n                        show: bizagi.menuSecurity.BAMProcess,\r\n                        icon: \"BAMProcess bz-icon-cogs\",\r\n                        endPoint: \"BAMProcess\",\r\n                        subItems: []\r\n                    },\r\n                    {\r\n                        displayName: self.resources.getResource(\"workportal-menu-submenu-AnalyticsTask\"),\r\n                        show: bizagi.menuSecurity.BAMTask,\r\n                        icon: \"BAMTask bz-icon-sheet-pencil\",\r\n                        endPoint: \"BAMTask\",\r\n                        subItems: []\r\n                    },\r\n                    {\r\n                        displayName: self.resources.getResource(\"workportal-menu-submenu-BAMResourceMonitor\"),\r\n                        show: bizagi.menuSecurity.BAMResourceMonitor,\r\n                        icon: \"BAMResourceMonitor bz-icon-user-manage\",\r\n                        endPoint: \"ResourceBAM\",\r\n                        subItems: []\r\n                    }\r\n                ],\r\n                \"Analytics\": [\r\n                    {\r\n                        displayName: self.resources.getResource(\"workportal-menu-submenu-AnalyticsProcess\"),\r\n                        show: bizagi.menuSecurity.AnalyticsProcess,\r\n                        icon: \"AnalyticsProcess bz-icon-cogs\",\r\n                        endPoint: \"AnalyticsProcess\",\r\n                        subItems: []\r\n                    },\r\n                    {\r\n                        displayName: self.resources.getResource(\"workportal-menu-submenu-AnalyticsTask\"),\r\n                        show: bizagi.menuSecurity.AnalyticsTask,\r\n                        icon: \"AnalyticsTask bz-icon-sheet-pencil\",\r\n                        endPoint: \"AnalyticsTask\",\r\n                        subItems: []\r\n                    }\r\n                ],\r\n                \"AnalysisQuery\": [\r\n                ]\r\n            };\r\n\r\n    }\r\n});\r\n","/*\r\n *   Name: BizAgi Workportal Reports Chart Widget\r\n *   Author: David Romero\r\n *   Comments:\r\n *   -   This script will load the selected report in workarea\r\n */\r\n\r\nbizagi.workportal.widgets.widget.extend(\"bizagi.workportal.widgets.reportsChart\", { }, {\r\n\r\n        /*\r\n        * Initialize report widget\r\n        */\r\n        init: function (workportalFacade, dataService, params) {\r\n\r\n            var self = this;\r\n\r\n            self._super(workportalFacade, dataService, params);\r\n            self.endPoint = bizagi.reporting[params.endPoint];\r\n            self.endPoint.defaultReport = params.defaultReport || self.endPoint.defaultReport;\r\n            self.filters = params.filters || {};\r\n            self.myTeam = [];\r\n\r\n        },\r\n\r\n        /*\r\n        *   Returns the widget name\r\n        */\r\n        getWidgetName: function () {\r\n            return bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_REPORTS_CHART;\r\n        },\r\n\r\n        /*\r\n        *   Renders the content for the current controller\r\n        *   Returns a deferred because it has to load the current user\r\n        */\r\n        renderContent: function () {\r\n\r\n            var self = this;\r\n            var template = self.getTemplate(\"reportsChart\");\r\n            var content = self.content = $.tmpl(template, self.endPoint);\r\n\r\n            //Evaluate callbacks\r\n            if (typeof self.endPoint.callBack !== \"undefined\") {\r\n                self[self.endPoint.callBack]();\r\n            }\r\n\r\n            return content;\r\n        },\r\n\r\n        /*\r\n        * Load Reporting Module\r\n        */\r\n        loadReportingModule: function () {\r\n\r\n            var self = this;\r\n            var loader = bizagi.loader;\r\n            var deferred = new $.Deferred();\r\n\r\n            loader.init(function () {\r\n                loader.start(\"reporting\").then(function () {\r\n                    self.reportingModule = new bizagi.reporting.facade({\r\n                        proxyPrefix: (typeof (bizagi.proxyPrefix) !== \"undefined\") ? bizagi.proxyPrefix : \"\"\r\n                    });\r\n                    deferred.resolve();\r\n                });\r\n            });\r\n\r\n            return deferred;\r\n        },\r\n\r\n        /*\r\n        * callBack for report myTeam\r\n        */\r\n        myTeamCallBack: function () {\r\n\r\n            var self = this;\r\n\r\n            return $.when(self.dataService.getDataForMyTeam()).done(function (result) {\r\n\r\n                var $teamTab = $(\"li[data-report='bamresourcemonitorworkinprogressteam']\", self.content);\r\n\r\n                if (!result.items.length) {\r\n                    $teamTab.css('display', 'none');\r\n                } else {\r\n                    self.myTeam = result;\r\n                }\r\n\r\n            });\r\n        }\r\n});","/*\r\n*   Name: BizAgi Workportal Desktop Reports Widget Controller\r\n*   Author: Edward Morales\r\n*   Comments:\r\n*   -   This script will provide desktop overrides to implement reports widget\r\n*/\r\n\r\n// Auto extend\r\nbizagi.workportal.widgets.reports.extend(\"bizagi.workportal.widgets.reports\", {}, {\r\n\r\n    init: function (workportalFacade, dataService, params) {\r\n        var self = this;\r\n\r\n        // Call base\r\n        self._super(workportalFacade, dataService, params);\r\n\r\n        //Load templates\r\n        self.loadTemplates({\r\n            \"reports\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.reports\").concat(\"#ui-bizagi-workportal-widget-reports\"),\r\n            \"reports-elements\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.reports\").concat(\"#ui-bizagi-workportal-widget-reports-elements\"),\r\n            \"reports-empty-elements\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.reports\").concat(\"#ui-bizagi-workportal-widget-reports-empty-elements\"),\r\n            \"reports-query-tree\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.reports\").concat(\"#ui-bizagi-workportal-widget-reports-query-tree\"),\r\n            \"reports-query-confirm\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.reports\").concat(\"#ui-bizagi-workportal-widget-reports-confirm\"),\r\n            \"reports-query-edit\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.reports\").concat(\"#ui-bizagi-workportal-widget-reports-edit\"),\r\n            useNewEngine: false\r\n        });\r\n    },\r\n\r\n    /**\r\n    *   To be overriden in each device to apply layouts\r\n    */\r\n    postRender: function () {\r\n        var self = this;\r\n\r\n        // Set bind event for last element\r\n        self.configureTreeNavigation();\r\n\r\n        // Bind back button\r\n        self.configureBackButton();\r\n\r\n        // Render base categories\r\n        self.renderReports();\r\n\r\n        // set vertical scroll\r\n        self.scrollVertical({\r\n            \"autohide\": false\r\n        });\r\n\r\n        //self.getSubMenuData(self.jsonSecurityList,\"AnalysisReports\")\r\n    },\r\n\r\n    /**\r\n    * Get all categories of reports\r\n    * @param integer idElement\r\n    * @return\r\n    */\r\n    getReports: function (params) {\r\n        var self = this;\r\n        var def = new $.Deferred();\r\n        var idElement = params.idElement || 0;\r\n\r\n        $.when(self.getAnalisysQueries())\r\n\t\t.done(function (data) {\r\n\t\t    var reports = [];\r\n\t\t    var childsBam = [];\r\n\t\t    var childsAnalytics = [];\r\n\t\t    /*\r\n\t\t    *\"BAMTask\",\r\n\t\t    \"AnalyticsProcess\",\r\n\t\t    \"AnalyticsTask\",\r\n\t\t    \"AnalyticsSensor\",\r\n\t\t    \"AnalysisQueries\"\r\n\t\t    *\r\n\t\t    **/\r\n\t\t    // Check Menu security\r\n\r\n\t\t    if (bizagi.menuSecurity.BAMProcess) {\r\n\t\t        childsBam.push({\r\n\t\t            idElement: 2,\r\n\t\t            displayName: self.resources.getResource('workportal-menu-submenu-BAMProcess'),\r\n\t\t            icon: \"BAMProcess\",\r\n\t\t            endPoint: \"BAMProcess\",\r\n\t\t            childs: []\r\n\t\t        });\r\n\t\t    }\r\n\r\n\t\t    if (bizagi.menuSecurity.BAMTask) {\r\n\t\t        childsBam.push({\r\n\t\t            idElement: 3,\r\n\t\t            displayName: self.resources.getResource('workportal-menu-submenu-BAMTask'),\r\n\t\t            icon: \"BAMTask\",\r\n\t\t            endPoint: \"BAMTask\",\r\n\t\t            childs: []\r\n\t\t        });\r\n\t\t    }\r\n\r\n\t\t    if (bizagi.menuSecurity.BAMResourceMonitor) {\r\n\t\t        childsBam.push({\r\n\t\t            idElement: 4,\r\n\t\t            displayName: self.resources.getResource('workportal-menu-submenu-BAMResourceMonitor'),\r\n\t\t            icon: \"BAMResourceMonitor\",\r\n\t\t            endPoint: \"ResourceBAM\",\r\n\t\t            childs: []\r\n\t\t        });\r\n\t\t    }\r\n\r\n\r\n\t\t    if (childsBam.length > 0) {\r\n\t\t        reports.push({\r\n\t\t            idElement: 1,\r\n\t\t            displayName: self.resources.getResource('workportal-menu-submenu-BAMMenu'),\r\n\t\t            icon: \"\",\r\n\t\t            endPoint: \"\",\r\n\t\t            childs: childsBam\r\n\t\t        });\r\n\t\t    }\r\n\r\n\r\n\t\t    if (bizagi.menuSecurity.AnalyticsProcess) {\r\n\t\t        childsAnalytics.push({\r\n\t\t            idElement: 11,\r\n\t\t            displayName: self.resources.getResource('workportal-menu-submenu-AnalyticsProcess'),\r\n\t\t            icon: \"AnalyticsProcess\",\r\n\t\t            endPoint: \"AnalyticsProcess\",\r\n\t\t            childs: []\r\n\t\t        });\r\n\t\t    }\r\n\r\n\t\t    if (bizagi.menuSecurity.AnalyticsTask) {\r\n\t\t        childsAnalytics.push({\r\n\t\t            idElement: 12,\r\n\t\t            displayName: self.resources.getResource('workportal-menu-submenu-AnalyticsTask'),\r\n\t\t            icon: \"AnalyticsTask\",\r\n\t\t            endPoint: \"AnalyticsTask\",\r\n\t\t            childs: []\r\n\t\t        });\r\n\t\t    }\r\n\r\n\t\t    if (childsAnalytics.length > 0) {\r\n\t\t        reports.push({\r\n\t\t            idElement: 10,\r\n\t\t            displayName: self.resources.getResource('workportal-menu-submenu-AnalyticsMenu'),\r\n\t\t            icon: \"\",\r\n\t\t            endPoint: \"\",\r\n\t\t            childs: childsAnalytics\r\n\t\t        });\r\n\t\t    }\r\n\r\n\t\t    if (bizagi.menuSecurity.AnalyticsSensor) {\r\n\t\t        reports.push({\r\n\t\t            idElement: 13,\r\n\t\t            displayName: self.resources.getResource('workportal-menu-submenu-AnalyticsSensor'),\r\n\t\t            icon: \"AnalyticsSensor\",\r\n\t\t            endPoint: \"AnalyticsSensor\",\r\n\t\t            childs: []\r\n\t\t        });\r\n\t\t    }\r\n\r\n\t\t    if (bizagi.menuSecurity.AnalysisQueries && (data.length > 0)) {\r\n\t\t        reports.push({\r\n\t\t            idElement: 20,\r\n\t\t            displayName: self.resources.getResource('workportal-menu-submenu-AnalysisQueries'),\r\n\t\t            icon: \"\",\r\n\t\t            endPoint: \"\",\r\n\t\t            childs: data\r\n\t\t        });\r\n\t\t    }\r\n\r\n\t\t    var getReportsById = function (idElement, reports) {\r\n\t\t        var result;\r\n\t\t        if (idElement) {\r\n\t\t            $.each(reports, function (key, value) {\r\n\t\t                if (typeof result == \"undefined\") {\r\n\t\t                    if (value.idElement == idElement) {\r\n\t\t                        result = value.childs;\r\n\t\t                    } else {\r\n\t\t                        return getReportsById(idElement, value.childs);\r\n\t\t                    }\r\n\t\t                }\r\n\t\t            });\r\n\t\t        } else {\r\n\t\t            result = reports;\r\n\t\t        }\r\n\t\t        return result || {};\r\n\t\t    };\r\n\t\t    def.resolve(getReportsById(idElement, reports));\r\n\t\t});\r\n        return def.promise();\r\n\r\n    },\r\n\r\n\r\n\r\n    /**\r\n    * Get getAnalisysQueries service and parse json to\r\n    * create tree categories\r\n    * \r\n    * @return json\r\n    */\r\n    getAnalisysQueries: function () {\r\n        var self = this;\r\n        var finalJson = [];\r\n        var idElement = 100;\r\n        var def = new $.Deferred();\r\n\r\n        $.when(\r\n\t\t\tself.dataService.getAnalisysQueries()\r\n\t\t\t).done(function (data) {\r\n\t\t\t    $.each(data.queries, function (key, value) {\r\n\t\t\t        finalJson.push({\r\n\t\t\t            idElement: idElement++,\r\n\t\t\t            displayName: value.name || \"\",\r\n\t\t\t            icon: \"\",\r\n\t\t\t            endPoint: value.reportSet,\r\n\t\t\t            extraArgs: \"?idUserQuery=\" + value.idQuery,\r\n\t\t\t            activeEdit: true,\r\n\t\t\t            description: value.description,\r\n\t\t\t            idQuery: value.idQuery,\r\n\t\t\t            childs: []\r\n\t\t\t        });\r\n\t\t\t    });\r\n\t\t\t    def.resolve(finalJson);\r\n\t\t\t});\r\n\r\n        return def.promise();\r\n\r\n    },\r\n\r\n    /**\r\n    * Render List categories for each idCategory\r\n    */\r\n    renderReports: function (idParentQuery, appendElement) {\r\n        var self = this;\r\n        var content = self.getContent();\r\n        var template = self.getTemplate(\"reports-elements\");\r\n        var emptyTemplate = self.getTemplate(\"reports-empty-elements\");\r\n        var reportsContainer = $(\"#reports\", content);\r\n        var queryContent;\r\n        var mergeData;\r\n\r\n        $.when(\r\n\t\t\tself.getReports({\r\n\t\t\t    idElement: idParentQuery\r\n\t\t\t})\r\n\t\t\t).done(function (data) {\r\n\r\n\t\t\t    reportsContainer.empty();\r\n\r\n\t\t\t    // check if service have nodes\r\n\t\t\t    data = data || {};\r\n\t\t\t    if (data.length >= 1) {\r\n\t\t\t        // Check if have appendElement\r\n\t\t\t        if (appendElement != undefined) {\r\n\t\t\t            mergeData = $.merge(appendElement, data);\r\n\t\t\t        } else {\r\n\t\t\t            mergeData = data;\r\n\t\t\t        }\r\n\r\n\t\t\t        queryContent = $.tmpl(template, {\r\n\t\t\t            nodes: mergeData,\r\n\t\t\t            idParentQuery: idParentQuery\r\n\t\t\t        }, {\r\n\t\t\t            checkChildNode: self.checkChildNode\r\n\t\t\t        });\r\n\t\t\t    } else {\r\n\t\t\t        queryContent = $.tmpl(emptyTemplate, {\r\n\t\t\t            nodes: mergeData,\r\n\t\t\t            idParentQuery: idParentQuery\r\n\t\t\t        });\r\n\t\t\t    }\r\n\t\t\t    queryContent.appendTo(reportsContainer);\r\n\r\n\t\t\t    // set actions to rendered html \r\n\t\t\t    self.configureNavTree(reportsContainer);\r\n\t\t\t});\r\n    },\r\n\r\n    /*\r\n    *   Get the page hacks in order to work properly in each case\r\n    */\r\n    jsInjection: function (url, title) {\r\n        var self = this;\r\n        var callback;\r\n        var hackParams = {\r\n            title: title\r\n        };\r\n\r\n        callback = function (params) {\r\n            // This script will execute inside the iframe context\r\n\r\n            this.openModalWindow = function (sUrl, dialogWidth, dialogHeight, buttonArray, resizeable) {\r\n\r\n                //Instance dialog\r\n                var doc = this.ownerDocument;\r\n                var callBackOpenCase = function (params) {\r\n                    this.openBACase = function (idCase, sHref) {\r\n                        // close parent window\r\n                        params.bizagi.workportal.desktop.popup.closePopupInstance();\r\n                        params.controller.publish(\"closeCurrentDialog\");\r\n\r\n                        var workitem = null;\r\n                        if (sHref.indexOf(\"idWorkitem=\") > -1) {\r\n                            workitem = sHref.substring(sHref.indexOf(\"idWorkitem=\") + 11);\r\n                            workitem = workitem.substring(0, workitem.indexOf(\"&\"));\r\n                        }\r\n                        // Executes the act on\r\n                        params.controller.publish(\"executeAction\", {\r\n                            action: params.routingAction,\r\n                            idCase: idCase,\r\n                            idWorkItem: workitem\r\n                        });\r\n\r\n                        // close dialog\r\n                        params.controller.publish(\"closeCurrentDialog\");\r\n                    };\r\n                    this.buttonCancel_onclick = function () {\r\n                        params.controller.publish(\"closeCurrentDialog\");\r\n                    };\r\n                    this.CloseParentDialog = function () {\r\n                        params.controller.publish(\"closeCurrentDialog\");\r\n                    };\r\n                };\r\n                params.controller.publish(\"showDialogWidget\", {\r\n                    widgetName: params.genericIframe,\r\n                    widgetURL: \"App/Cockpit/\" + sUrl,\r\n                    injectCss: [\".ui-bizagi-old-render*\", \"@font-face\"],\r\n                    modalParameters: {\r\n                        title: \"Bizagi\"\r\n                    },\r\n                    afterLoad: callBackOpenCase,\r\n                    afterLoadParams: {\r\n                        routingAction: params.bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,\r\n                        genericIframe: params.bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_GENERICIFRAME,\r\n                        bizagi: params.bizagi,\r\n                        doc: doc\r\n                    }\r\n                });\r\n            };\r\n        };\r\n        // Set hack params\r\n        hackParams = $.extend(hackParams, {\r\n            routingAction: bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,\r\n            genericIframe: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_GENERICIFRAME,\r\n            bizagi: bizagi\r\n        });\r\n\r\n\r\n        return {\r\n            callback: callback,\r\n            params: hackParams\r\n        };\r\n    },\r\n\r\n    configureNavTree: function (reportsContainer) {\r\n        var self = this;\r\n        var confirm = self.getTemplate(\"reports-query-confirm\");\r\n        var headerTemplate = self.getTemplate(\"reports-query-tree\");\r\n\r\n        // Bind for list elements\r\n        $(\".reportsListDisplay\", reportsContainer).click(function () {\r\n            var endPoint = $(this).data('endpoint');\r\n            var idElement = $(this).data('id-element');\r\n            var displayName = $(this).data('displayname');\r\n            var maximized = $(this).data('maximized') || false;\r\n            var extraArgs = $(this).data('extra-args');\r\n            var categoryTree = $(\"#categoryTree\");\r\n            var finalUrl = self.dataService.serviceLocator.getUrl(endPoint) + extraArgs;\r\n\r\n            // check if element has childrens\r\n            if (endPoint == \"\") {\r\n                // Its category, render their childrens\r\n                // and set the new category whitin tree nav\r\n                self.renderReports(idElement);\r\n\r\n                $.tmpl(headerTemplate, {\r\n                    idElement: idElement,\r\n                    queryDisplayName: displayName\r\n                }).appendTo(categoryTree);\r\n                self.configureTreeNavigation();\r\n\r\n            } else {\r\n                // If the same popup is opened close it\r\n                if (self.currentPopup == \"reports\") {\r\n                    bizagi.workportal.desktop.popup.closePopupInstance();\r\n                    return;\r\n                }\r\n                var hack = self.jsInjection(self.dataService.serviceLocator.getUrl(endPoint), displayName);\r\n                // Shows a popup widget\r\n                self.currentPopup = \"reports\";\r\n                self.publish(\"showDialogWidget\", {\r\n                    widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_GENERICIFRAME,\r\n                    widgetURL: finalUrl,\r\n                    maximized: maximized,\r\n                    // injectCss:[\".ui-bizagi-old-render*\",\".\"+title, \"@font-face\"],\r\n                    modalParameters: {\r\n                        title: displayName,\r\n                        id: endPoint\r\n                    },\r\n                    afterLoad: hack.callback,\r\n                    afterLoadParams: hack.params\r\n                });\r\n                if (self.params.widgetName == \"reports\") {\r\n                    bizagi.workportal.desktop.popup.closePopupInstance();\r\n                    return;\r\n                };\r\n            }\r\n        });\r\n\r\n\r\n        // Bind for action elements (Edit and delete buttons)\r\n        $(\".editButton\").click(function (e) {\r\n            e.stopPropagation();\r\n            self.editFolder($(this).parents('ul'));\r\n            bizagi.workportal.desktop.popup.closePopupInstance();\r\n        });\r\n\r\n        $(\".deleteButton\").click(function (e) {\r\n            e.stopPropagation();\r\n\r\n            var queryId = $(this).parents('ul').data('idquery');\r\n            var content = $.tmpl(confirm);\r\n\r\n            // Open dialog with confirm message\r\n            $(content).dialog({\r\n                resizable: true,\r\n                modal: true,\r\n                title: self.getResource(\"workportal-widget-reports-confirm-title\"),\r\n                buttons: [\r\n\t\t\t\t{\r\n\t\t\t\t    text: self.getResource(\"workportal-widget-reports-confirm-delete\"),\r\n\t\t\t\t    click: function () {\r\n\t\t\t\t        // Call service\r\n\t\t\t\t        self.dataService.deleteQueries(queryId); // Close dialog and menu\r\n\t\t\t\t        $(this).dialog(\"close\");\r\n\t\t\t\t        bizagi.workportal.desktop.popup.closePopupInstance();\r\n\t\t\t\t    }\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t    text: self.getResource(\"workportal-widget-reports-confirm-cancel\"),\r\n\t\t\t\t    click: function () {\r\n\t\t\t\t        $(this).dialog(\"close\");\r\n\t\t\t\t    }\r\n\t\t\t\t}\r\n\t\t\t\t]\r\n            });\r\n        });\r\n    },\r\n\r\n    /**\r\n    *   Binds the back buttons so we can navigate back\r\n    */\r\n    configureBackButton: function () {\r\n        var self = this;\r\n        var content = self.getContent();\r\n        var btnBack = $(\"#bt-back\", content);\r\n        var categoryTree = $(\"#categoryTree\", content);\r\n\r\n        // Bind click\r\n        btnBack.click(function () {\r\n            if ($(\"li\", categoryTree).length > 1) {\r\n                // Removes last child                    \r\n                $(\"li:last-child\", categoryTree).remove();\r\n                var idParentQuery = $(\"li:last-child\").children(\"#idParent\").val();\r\n\r\n                // Render Querie again\r\n                self.renderReports(idParentQuery);\r\n            }\r\n        });\r\n    },\r\n\r\n    /**\r\n    * Bind tree navigation\r\n    */\r\n    configureTreeNavigation: function () {\r\n        var self = this;\r\n        var content = self.getContent();\r\n        var categoryTree = $(\"#categoryTree\", content);\r\n\r\n        // Bind header events\r\n        $(\"li:last-child\", categoryTree).click(function () {\r\n            // Remove all elements\r\n            $(this).nextAll().remove();\r\n            var idParent = $(this).data(\"id-element\");\r\n            // Render query tree again\r\n            self.renderReports(idParent);\r\n        });\r\n    },\r\n\r\n    scrollVertical: function () {\r\n        var self = this;\r\n        var content = self.getContent();\r\n\r\n        $(\"#reports\", content).bizagiScrollbar({\r\n            \"autohide\": false\r\n        });\r\n    },\r\n\r\n    /**\r\n    * Edit folder\r\n    */\r\n    editFolder: function (element) {\r\n        var self = this;\r\n        var value = bizagi.util.trim($(element).find(\"h3\").html());\r\n        var description = bizagi.util.trim($(\".newCaseDescription\", element).html());\r\n        var idQuery = $(element).data(\"idquery\");\r\n        var nodeTemplate = self.getTemplate(\"reports-query-edit\");\r\n\r\n        var dialogForm = $.tmpl(nodeTemplate, {\r\n            name: value,\r\n            description: description,\r\n            idQuery: idQuery\r\n        });\r\n\r\n\r\n        dialogForm.dialog({\r\n            resizable: true,\r\n            modal: true,\r\n            title: self.getResource(\"workportal-widget-reports-confirm-edit-title\"),\r\n            buttons: [\r\n\t\t\t{\r\n\t\t\t    text: self.getResource(\"workportal-widget-reports-confirm-save\"),\r\n\t\t\t    click: function () {\r\n\t\t\t        var query = $(\"#namequery\", this).val();\r\n\t\t\t        var description = $(\"#querydescripcion\", this).val();\r\n\t\t\t        var idQuery = $(this).data(\"idquery\");\r\n\r\n\t\t\t        self.dataService.updateQueries({\r\n\t\t\t            queryName: query,\r\n\t\t\t            queryDescription: description,\r\n\t\t\t            idQuery: idQuery\r\n\t\t\t        });\r\n\r\n\t\t\t        $(this).dialog(\"close\");\r\n\t\t\t        bizagi.workportal.desktop.popup.closePopupInstance();\r\n\t\t\t    }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t    text: self.getResource(\"workportal-widget-reports-confirm-cancel\"),\r\n\t\t\t    click: function () {\r\n\t\t\t        $(this).dialog(\"close\");\r\n\t\t\t    }\r\n\t\t\t}\r\n\t\t\t]\r\n        });\r\n    }\r\n});\r\n","/*\r\n*   Name: BizAgi Workportal Desktop Reports Widget Controller\r\n*   Author: David Romero\r\n*/\r\n\r\n// Auto extend\r\nbizagi.workportal.widgets.reportsMenu.extend(\"bizagi.workportal.widgets.reportsMenu\", {}, {\r\n\r\n    init: function (workportalFacade, dataService, params) {\r\n\r\n        var self = this;\r\n        self._super(workportalFacade, dataService, params);\r\n\r\n        //Load templates\r\n        self.loadTemplates({\r\n            \"reportsMenu-container\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.reportsMenu\").concat(\"#ui-bizagi-workportal-widget-reportsmenu-container\"),\r\n            \"reportsMenu-items\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.reportsMenu\").concat(\"#ui-bizagi-workportal-widget-reportsmenu-items\"),\r\n            \"reportsMenu-itemsdata\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.reportsMenu\").concat(\"#ui-bizagi-workportal-widget-reportsmenu-itemsdata\"),\r\n            \"reportsMenu-tree\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.reportsMenu\").concat(\"#ui-bizagi-workportal-widget-reportsmenu-tree\"),\r\n            \"reportsMenu-noitems\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.reportsMenu\").concat(\"#ui-bizagi-workportal-widget-reportsmenu-noitems\"),\r\n            \"reportsMenu-edition\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.reportsMenu\").concat(\"#ui-bizagi-workportal-widget-reportsmenu-edition\"),\r\n            \"reportsMenu-vldmessage\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.reportsMenu\").concat(\"#ui-bizagi-workportal-widget-reportsmenu-vldnmessage\"),\r\n            \"reportsMenu-delete\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.reportsMenu\").concat(\"#ui-bizagi-workportal-widget-reportsmenu-delete\"),\r\n            useNewEngine: false\r\n        });\r\n    },\r\n\r\n    /**\r\n    *   To be overriden in each device to apply layouts\r\n    */\r\n    postRender: function () {\r\n        var self = this;\r\n\r\n        //prepare json\r\n        $.when(self.buildAnalysisJSON()).done(function () {\r\n\r\n            //render reports menu\r\n            self.renderReportsMenu(\"Reports\");\r\n        });\r\n\r\n        //Events handler\r\n        self.eventsHandler();\r\n    },\r\n\r\n    /**\r\n    * Get getAnalysis Queries service and parse json to\r\n    * create tree categories\r\n    */\r\n    getAnalysisQueries: function () {\r\n\r\n        var self = this;\r\n        var analysisJSON = []\r\n        var def = new $.Deferred();\r\n\r\n        $.when(self.dataService.getReporstAnalysisQuery()).done(function (data) {\r\n            $.each(data.queries, function (key, value) {\r\n                analysisJSON.push({\r\n                    displayName: value.name || \"\",\r\n                    description: value.description || \"\",\r\n                    icon: \"processIco\",\r\n                    show: true,\r\n                    filters: value.filterParameters,\r\n                    endPoint: self.endPoint[value.reportSet],\r\n                    reportSet: value.reportSet,\r\n                    activeEdit: true,\r\n                    id: value.id,\r\n                    subItems: []\r\n                });\r\n            });\r\n\r\n            def.resolve(analysisJSON);\r\n        });\r\n\r\n        return def.promise();\r\n    },\r\n\r\n    /*\r\n    * Render list categories for each idCategory\r\n    */\r\n    renderReportsMenu: function (index) {\r\n\r\n        var self = this;\r\n        var content = self.getContent();\r\n        var tmplItems = self.getTemplate(\"reportsMenu-items\");\r\n        var tmplNoItems = self.getTemplate(\"reportsMenu-noitems\");\r\n        var reportsContainer = $(\"#bz-wp-widget-reportsmenu-list\", content);\r\n        var elements = self.reportsMenu[index];\r\n\r\n        if (elements.length) {\r\n            reportsContainer.html($.tmpl(tmplItems, { elements: elements }));\r\n        } else {\r\n            reportsContainer.html($.tmpl(tmplNoItems, { elements: elements }));\r\n        }\r\n\r\n    },\r\n\r\n    /*\r\n    * Build menu JSON\r\n    */\r\n    buildAnalysisJSON: function () {\r\n\r\n        var self = this;\r\n        var deferred = $.Deferred();\r\n\r\n        $.when(self.getAnalysisQueries()).pipe(function (data) {\r\n\r\n            if (bizagi.menuSecurity.AnalysisQueries && (data.length > 0)) {\r\n\r\n                self.reportsMenu[\"AnalysisQuery\"] = data;\r\n\r\n                self.reportsMenu[\"Reports\"].push({\r\n                    displayName: self.resources.getResource('workportal-menu-submenu-AnalysisQueries'),\r\n                    show: true,\r\n                    icon: \"\",\r\n                    endPoint: \"\",\r\n                    subItems: \"AnalysisQuery\"\r\n                });\r\n            }\r\n\r\n            deferred.resolve();\r\n        });\r\n\r\n        return deferred.promise();\r\n    },\r\n\r\n    /*\r\n    * Events Handler\r\n    */\r\n    eventsHandler: function () {\r\n\r\n        var self = this;\r\n        var content = self.getContent();\r\n        var $menuList = $(\"#bz-wp-widget-reportsmenu-list\", content);\r\n\r\n        //event for selected menu item\r\n        $menuList.on(\"click\", \"li.bz-wp-widget-reportsmenu-readmode\", function (event) {\r\n\r\n            event.stopPropagation();\r\n\r\n            var $el = $(this);\r\n            var subItems = $el.data(\"subitems\"),\r\n                displayName = $el.data(\"displayname\"),\r\n                endPoint = $el.data(\"endpoint\"),\r\n                id = $el.find(\".bz-wp-widget-reportsmenu-itemactions\").data(\"id\");\r\n\r\n            //execute selected item\r\n            self.execSelectedItem(id, subItems, endPoint);\r\n\r\n            //build navigation tree\r\n            self.buildNavTree(displayName, subItems);\r\n\r\n        });\r\n\r\n        //event for edit o delete custom report\r\n        $menuList.on(\"click\", \".bz-wp-widget-reportsmenu-action\", function (event) {\r\n\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n\r\n            var $li = $(this).closest(\"li.bz-wp-widget-reportsmenu-item\");\r\n            var id = $(this).closest(\".bz-wp-widget-reportsmenu-itemactions\").data(\"id\");\r\n\r\n            if ($(this).hasClass(\"bz-wp-widget-reportsmenu-edit\")) {\r\n                self.showReportEdition(id, $li);\r\n            } else if ($(this).hasClass(\"bz-wp-widget-reportsmenu-delete\")) {\r\n                self.showDeleteForm(id, $li);\r\n            } else if ($(this).hasClass(\"bz-wp-widget-reportsmenu-cancel\")) {\r\n                self.cancelReportAction(id, $li);\r\n            } else if ($(this).hasClass(\"bz-wp-widget-reportsmenu-applyedition\")) {\r\n                self.applyReportEdition(id, $li)\r\n            } else if ($(this).hasClass(\"bz-wp-widget-reportsmenu-applydelete\")) {\r\n                self.deleteReport(id, $li);\r\n            }\r\n\r\n        });\r\n\r\n        //event for navigation tree\r\n        $(\"#bz-wp-widget-reportsmenu-navtree\", content).on(\"click\", \"li\", function (event) {\r\n\r\n            //remove tree\r\n            $(this).nextAll().remove();\r\n\r\n            var path = $(this).data(\"path\");\r\n            self.renderReportsMenu(path);\r\n\r\n        });\r\n\r\n    },\r\n\r\n    /*\r\n    * Actions for the selected item in menu\r\n    */\r\n    execSelectedItem: function (id, subItems, endPoint) {\r\n\r\n        var self = this;\r\n\r\n        if (endPoint === \"\") {\r\n            self.renderReportsMenu(subItems);\r\n        } else {\r\n\r\n            var filters = (!id) ? {} : self.getFiltersById(id);\r\n\r\n            self.publish(\"changeWidget\", {\r\n                widgetName: bizagi.workportal.widgets.widget.BIZAGI_WORKPORTAL_WIDGET_REPORTS_CHART,\r\n                endPoint: endPoint,\r\n                filters: filters\r\n            });\r\n        }\r\n\r\n    },\r\n\r\n    /*\r\n    * Form to delete report \r\n    */\r\n    showDeleteForm: function (id, $li) {\r\n\r\n        var self = this;\r\n        var tmpl = self.getTemplate(\"reportsMenu-delete\");\r\n        var form = $.tmpl(tmpl, { id: id });\r\n\r\n        $li.slideUp(\"fast\", function () {\r\n            $(this).removeClass('bz-wp-widget-reportsmenu-readmode').addClass('bz-wp-widget-reportsmenu-edition').html(form);\r\n        });\r\n\r\n        $li.slideDown(\"fast\");        \r\n    },\r\n\r\n    /*\r\n    * Delete report by id\r\n    */\r\n    deleteReport: function (id, $li) {\r\n\r\n        var self = this;\r\n        var content = self.getContent();\r\n        var params = \"id=\" + id;\r\n\r\n        $.when(self.dataService.deleteReportData(params)).done(function (response) {\r\n\r\n            if (response.status === true) {\r\n\r\n                var $liSiblings = $li.nextAll();\r\n                \r\n                if ( $liSiblings.size() > 0 ) {\r\n\r\n                    $liSiblings.slideUp(\"fast\", function () {\r\n                        //remove item\r\n                        $li.remove(); \r\n                    });\r\n\r\n                    $liSiblings.slideDown(\"fast\");\r\n                } else {\r\n                    $li.fadeOut(\"fast\", function () {\r\n                        $(this).remove();\r\n                    });\r\n                }\r\n\r\n                //remove data from array\r\n                self.reportsMenu[\"AnalysisQuery\"] = jQuery.grep(self.reportsMenu[\"AnalysisQuery\"], function (value) {\r\n                    return value.id !== id;\r\n                });\r\n\r\n                if (!self.reportsMenu[\"AnalysisQuery\"].length) {\r\n                    self.reportsMenu[\"Reports\"].pop();\r\n                    $(\"#bz-wp-widget-reportsmenu-navtree li:nth-of-type(1)\", content).trigger(\"click\");\r\n                }\r\n\r\n            }\r\n\r\n        });\r\n\r\n    },\r\n\r\n    /*\r\n    * Build Navigation Tree\r\n    */\r\n    buildNavTree: function (displayName, path) {\r\n\r\n        var self = this;\r\n        var content = self.getContent();\r\n        var tmpl = self.getTemplate(\"reportsMenu-tree\");\r\n        var categoryCnt = $.tmpl(tmpl, { displayName: displayName, path: path });\r\n\r\n        $(\"#bz-wp-widget-reportsmenu-navtree\", content).append(categoryCnt);\r\n\r\n    },\r\n\r\n    /*\r\n    * Show edition form \r\n    */\r\n    showReportEdition: function (id, $li) {\r\n\r\n        var self = this;\r\n        var tmpl = self.getTemplate(\"reportsMenu-edition\");\r\n        var reportData = self.getReportsData(id);\r\n\r\n        var form = $.tmpl(tmpl, {\r\n            displayName: reportData[0].displayName,\r\n            description: reportData[0].description,\r\n            id: id\r\n        });\r\n\r\n        $li.slideUp(\"fast\", function () {\r\n            $(this).removeClass('bz-wp-widget-reportsmenu-readmode').addClass('bz-wp-widget-reportsmenu-edition').html(form);\r\n        });\r\n\r\n        $li.slideDown(\"fast\");          \r\n    },\r\n\r\n    /*\r\n    * Apply report edition\r\n    */\r\n    applyReportEdition: function (id, $li) {\r\n\r\n        var self = this;\r\n        var elements = $li.find(\"input, textarea\");\r\n\r\n        if (self.validateFormElements(elements)) {\r\n\r\n            var reportData = self.getReportsData(id);\r\n            var name = elements[0].value;\r\n            var description = elements[1].value;\r\n\r\n            var params = \"parameters=\" + JSON.stringify({ id: id, name: name, description: description, reportSet: reportData[0].reportSet, filterParameters: reportData[0].filters });\r\n\r\n            $.when(self.dataService.updateReportData(params)).done(function (response) {\r\n\r\n                if (response.status !== true) {\r\n\r\n                    var cnt = $(elements[0]).siblings(\".bz-wp-widget-reportmenu-messagecnt\");\r\n                    var msg = response.message;\r\n\r\n                    self.showValidationMessage(msg, cnt)\r\n                } else {\r\n\r\n                    reportData[0].displayName = name;\r\n                    reportData[0].description = description;\r\n\r\n                    self.cancelReportAction(id, $li);\r\n                }\r\n            });\r\n        }\r\n\r\n    },\r\n\r\n\r\n    /*\r\n    * Validate form\r\n    */\r\n    validateFormElements: function (elements) {\r\n\r\n        var self = this;\r\n        var isValid = true;\r\n\r\n        for (var i = 0, length = elements.length; i < length; i++) {\r\n\r\n            var msgContainer = $(elements[i]).siblings(\".bz-wp-widget-reportmenu-messagecnt\");\r\n\r\n            if (self.validateRequired($(elements[i]))) {\r\n                                                                                                                                                                                                                          \r\n                if (self.validateSpecialCharacters($(elements[i]))) {\r\n                    self.removeValidationMessage(msgContainer);\r\n                } else {\r\n                    isValid = false;\r\n                    self.showValidationMessage(self.getResource(\"bz-rp-components-customreports-invalidvalue\"), msgContainer);\r\n                }\r\n\r\n            } else {\r\n                isValid = false;\r\n                self.showValidationMessage(self.getResource(\"bz-rp-components-customreports-required\"), msgContainer);\r\n            }\r\n        }\r\n\r\n        return isValid;\r\n    },\r\n\r\n    /*\r\n    * Show message\r\n    */\r\n    showValidationMessage: function (msg, cnt) {\r\n\r\n        var self = this;\r\n        var tmpl = self.getTemplate(\"reportsMenu-vldmessage\");\r\n\r\n        cnt.html($.tmpl(tmpl, { message: msg }));\r\n    },\r\n\r\n    /*\r\n    * Remove message\r\n    */\r\n    removeValidationMessage: function (cnt) {\r\n\r\n        var self = this;\r\n\r\n        $(\".bz-wp-widget-reportmenu-errormsg\", cnt).remove();\r\n    },\r\n\r\n    /*\r\n    * Validate required\r\n    */\r\n    validateRequired: function ($el) {\r\n\r\n        var self = this;\r\n        var isValid = true;\r\n\r\n        if ($el.attr('required')) {\r\n            if ($el.val() === \"\") {\r\n                isValid = false;\r\n            }\r\n        }\r\n\r\n        return isValid;\r\n    },\r\n\r\n    /*\r\n    * Validate special caracters\r\n    */\r\n    validateSpecialCharacters: function ($el) {\r\n\r\n        var exp = new RegExp(/^[a-zA-Z0-9- ]*$/);\r\n        var isValid = true;\r\n\r\n        if (!exp.test($el.val())) {\r\n            isValid = false;\r\n        }\r\n\r\n        return isValid;\r\n    },\r\n\r\n    /*\r\n    * Cancel report action\r\n    */\r\n    cancelReportAction: function (id, $li) {\r\n\r\n        var self = this;\r\n        var tmpl = self.getTemplate(\"reportsMenu-itemsdata\");\r\n        var reportData = self.getReportsData(id);\r\n\r\n        var content = $.tmpl(tmpl, { element: reportData[0] });\r\n\r\n        $li.slideUp(\"fast\", function () {\r\n            $(this).addClass(\"bz-wp-widget-reportsmenu-readmode\").removeClass('bz-wp-widget-reportsmenu-edition').html(content);\r\n        });\r\n\r\n        $li.slideDown(\"fast\");        \r\n\r\n    },\r\n\r\n    /*\r\n    * Get Reports Data\r\n    */\r\n    getReportsData: function (id) {\r\n\r\n        var self = this;\r\n        var queryItems = self.reportsMenu[\"AnalysisQuery\"];\r\n\r\n        return queryItems.filter(function (obj) {\r\n            return (obj.id === id);\r\n        });\r\n    },\r\n\r\n    /*\r\n    * Get filter by id\r\n    */\r\n    getFiltersById: function (id) {\r\n\r\n        var self = this;\r\n        var rpData = self.getReportsData(id);\r\n\r\n        return rpData[0].filters;\r\n    }\r\n});\r\n","/*\r\n*   Name: BizAgi Workportal Desktop Reports Chart Widget\r\n*   Author: David Romero\r\n*   Comments:\r\n*   -   This script will load the selected report in workarea\r\n*/\r\n\r\n// Auto extend\r\nbizagi.workportal.widgets.reportsChart.extend(\"bizagi.workportal.widgets.reportsChart\", {}, {\r\n\r\n    /*\r\n    * Initialize report widget\r\n    */\r\n    init: function(workportalFacade, dataService, params) {\r\n        var self = this;\r\n\r\n        self._super(workportalFacade, dataService, params);\r\n\r\n        //Load templates\r\n        self.loadTemplates({\r\n            \"reportsChart\": bizagi.getTemplate(\"bizagi.workportal.desktop.widget.reportsChart\").concat(\"#ui-bizagi-workportal-widget-reports-chart\"),\r\n            \"admin.case.search.quicksearch\": bizagi.getTemplate(\"bizagi.workportal.desktop.widgets.admin.caseSearch\").concat(\"#ui-bizagi-workportal-widget-admin-case-search-quicksearch\"),\r\n            useNewEngine: false\r\n        });\r\n    },\r\n\r\n    /**\r\n    *   To be overriden in each device to apply layouts\r\n    */\r\n    postRender: function () {\r\n\r\n        var self = this;\r\n\r\n        //case search widget object\r\n        self.caseSearch = {};\r\n\r\n        $.when(self.loadReportingModule()).done(function () {\r\n            var report =self.endPoint.defaultReport;\r\n            if(bizagi.referrerParams && bizagi.referrerParams.reports && bizagi.referrerParams.reports.fromBackButton){\r\n                report = bizagi.referrerParams.reports.tab;\r\n            }\r\n            //Load the first report\r\n            self.loadReport(report, self.endPoint.info);\r\n            self.eventsHandler();\r\n\r\n        });\r\n    },\r\n\r\n    /**\r\n    * Events Handler\r\n    */\r\n    eventsHandler: function () {\r\n\r\n        var self = this;\r\n\r\n        $(\"#reports-menu, li\", self.content).on(\"click\", function () {\r\n\r\n            var element = $(this);\r\n            var report = element.data('report');\r\n\r\n            element.siblings().removeClass(\"ui-bizagi-wp-widget-reports-menu-active\");\r\n            element.addClass(\"ui-bizagi-wp-widget-reports-menu-active\");\r\n            self.loadReport(report, self.endPoint.info);\r\n        });\r\n\r\n    },\r\n\r\n    /**\r\n    * Load Report\r\n    */\r\n    loadReport: function (report, info) {\r\n\r\n        var self = this;\r\n        var components = self.endPoint.reports[report].components;\r\n\r\n        $(\"#reports-canvas\", self.content).empty();\r\n        if(bizagi.referrerParams && bizagi.referrerParams.reports && bizagi.referrerParams.reports.params && bizagi.referrerParams.reports.fromBackButton){\r\n            self.filters=bizagi.referrerParams.reports.model;\r\n        }\r\n        $.when(self.reportingModule.render({\r\n            canvas: $(\"#reports-canvas\", self.content),\r\n            report: report,\r\n            components: components,\r\n            info: info,\r\n            filters: self.filters,\r\n            myTeam: self.myTeam,\r\n            widgetInstance: self\r\n        })).done(function (report) {\r\n\r\n            self.attachReportEvents.apply(self, [report]);\r\n        });\r\n\r\n    },\r\n\r\n    /*\r\n    * Attach events for reports object\r\n    */\r\n    attachReportEvents: function (report) {\r\n\r\n        var self = this;\r\n\r\n        //resize event\r\n        report.bindWindowResize();\r\n\r\n        //change filter evnet\r\n        report.subscribe(\"filterChange\", function (event, filters) {\r\n            self.filters = filters;\r\n        });\r\n\r\n        //graphic query event\r\n        report.subscribe(\"graphicquery\", function (event, data) {\r\n            self.showGraphicQuery(data);\r\n        });\r\n\r\n        //open case administration\r\n        report.subscribe(\"caseadministration\", function (event, data) {\r\n            \r\n            if ($.isEmptyObject(self.caseSearch)) {\r\n                self.initCaseAdministration(data);\r\n            }\r\n\r\n            self.showCaseAdministration(data);\r\n\r\n        });\r\n\r\n        //open case event\r\n        report.subscribe(\"opencase\", function (event, data) {\r\n            self.publish(\"executeAction\", {\r\n                action: bizagi.workportal.actions.action.BIZAGI_WORKPORTAL_ACTION_ROUTING,\r\n                idCase: data.caseData.idCase,\r\n                idWorkItem: data.caseData.idWorkItem,\r\n                idTask: data.caseData.idTask\r\n            });\r\n        });\r\n\r\n    },\r\n\r\n    /*\r\n    * Initialize Case Administration\r\n    */\r\n    initCaseAdministration: function (data) {\r\n\r\n        var self = this;\r\n        var content = self.getCaseSearchContent();\r\n\r\n        self.caseSearch = new bizagi.workportal.widgets.admin.caseSearch(self.workportalFacade, self.dataService, $.extend(self.params, {\r\n            container: data.canvas\r\n        }));\r\n\r\n        self.caseSearch.loadtemplates();\r\n        self.caseSearch.setupActivitiesLink = function () { };\r\n    },\r\n\r\n    /*\r\n    * Show Case Administration\r\n    */\r\n    showCaseAdministration: function (data) {\r\n\r\n        var self = this;\r\n        var content = self.getCaseSearchContent();\r\n\r\n        self.caseSearch.content = content;\r\n        data.canvas.html(content);\r\n\r\n        self.caseSearch.findResults(\r\n            data.canvas,\r\n            { \"I_radNumber\": data.radNumber }\r\n        );\r\n    },\r\n\r\n    /*\r\n    * Get Case Search Content\r\n    */\r\n    getCaseSearchContent: function () {\r\n\r\n        var self = this;\r\n        var tmpl = self.getTemplate(\"admin.case.search.quicksearch\");\r\n\r\n        return $.tmpl(tmpl);\r\n    }\r\n\r\n});\r\n","/*\r\n*   Name: BizAgi Reporting Definition JSON\r\n*   Author: David Romero\r\n*   Comments:\r\n*   -   This script defines global components for reports\r\n*/\r\n\r\nif (!bizagi.reporting) {\r\n    bizagi.reporting = { };\r\n}\r\n\r\nbizagi.reporting = {\r\n    BAMProcess: {\r\n        defaultReport: \"bamprocessloadanalysis\",\r\n        info: {\r\n            reportSet: 1\r\n        },\r\n        reports: {\r\n            \"bamprocessloadanalysis\": {\r\n                components: [\"filters-processversion\", \"filters-dimension\"],\r\n                resource: \"bz-rp-loadanalysis-tab\"\r\n            },\r\n            \"bamprocessworkinprogress\": {\r\n                components: [\"filters-processversion\", \"filters-dimension\"],\r\n                resource: \"bz-rp-workinprogress-tab\"\r\n            }\r\n        }\r\n    },\r\n    BAMTask: {\r\n        defaultReport: \"bamtasksworkinprogress\",\r\n        info: {\r\n            reportSet: 2\r\n        },\r\n        reports: {\r\n            \"bamtasksworkinprogress\": {\r\n                components: [\"filters-processversion\", \"filters-dimension\"],\r\n                resource: \"bz-rp-workinprogress-tab\"\r\n            },\r\n            \"bamtaskloadanalysis\": {\r\n                components: [\"filters-processversion\", \"filters-dimension\"],\r\n                resource: \"bz-rp-loadanalysis-tab\"\r\n            }\r\n        }\r\n    },\r\n    AnalyticsProcess: {\r\n        defaultReport: \"analyticsprocesscycletime\",\r\n        info: {\r\n            reportSet: 3\r\n        },\r\n        reports: {\r\n            \"analyticsprocesscycletime\": {\r\n                components: [\"filters-processversion\", \"filters-dimension\", \"filters-time\"],\r\n                resource: \"bz-rp-cycletime-tab\"\r\n            },\r\n            \"analyticsprocessdurationhistogram\": {\r\n                components: [\"filters-processversion\", \"filters-dimension\", \"filters-time\"],\r\n                resource: \"bz-rp-durationhistogram-tab\"\r\n            },\r\n            \"analyticsprocessactivity\": {\r\n                components: [\"filters-processversion\", \"filters-dimension\", \"filters-time\"],\r\n                resource: \"bz-rp-processactivity-tab\"\r\n            },\r\n            \"analyticsprocessactivationranking\": {\r\n                components: [\"filters-dimension\", \"filters-time\"],\r\n                resource: \"bz-rp-activationranking-tab\"\r\n            },\r\n            \"analyticsprocessfrequentspaths\": {\r\n                components: [\"filters-processversion\", \"filters-dimension\", \"filters-time\"],\r\n                resource: \"bz-rp-frequentspaths-tab\"\r\n            }\r\n        }\r\n    },\r\n    AnalyticsTask: {\r\n        defaultReport: \"analyticstaskcycletime\",\r\n        info: {\r\n            reportSet: 4\r\n        },\r\n        reports: {\r\n            \"analyticstaskcycletime\": {\r\n                components: [\"filters-processversion\", \"filters-dimension\", \"filters-time\"],\r\n                resource: \"bz-rp-cycletime-tab\"\r\n            }\r\n        }\r\n    },\r\n    ResourceBAM: {\r\n        callBack: \"myTeamCallBack\",\r\n        defaultReport: \"bamresourcemonitorworkinprogress\",\r\n        info: {\r\n            reportSet: 6\r\n        },\r\n        reports: {\r\n            \"bamresourcemonitorworkinprogress\": {\r\n                components: [\"filters-processversion\", \"filters-dimension\", \"filters-time\"],\r\n                resource: \"bz-rp-workinprogress-tab\"\r\n            },\r\n            \"bamresourcemonitorworkinprogressuser\": {\r\n                components: [\"filters-processversion\", \"filters-dimension\", \"filters-time\"],\r\n                resource: \"bz-rp-workinprogressuser-tab\"\r\n            },\r\n            \"bamresourcemonitorworkinprogressteam\": {\r\n                components: [\"filters-processversion\", \"filters-dimension\", \"filters-time\"],\r\n                resource: \"bz-rp-workinprogressteam-tab\"\r\n            }\r\n        }\r\n    },\r\n    AnalyticsSensor: {\r\n        defaultReport: \"sensors\",\r\n        reports: {\r\n            \"sensors\": {\r\n                components: [\"filters-dimension\", \"filters-time\"]\r\n            }\r\n        },\r\n        info: {\r\n            reportSet: 5\r\n        }\r\n    }\r\n};"]}