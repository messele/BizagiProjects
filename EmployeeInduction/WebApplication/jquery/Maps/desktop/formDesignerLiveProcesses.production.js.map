{"version":3,"sources":["jquery/editor/liveprocessesApp/index.js"],"names":["loader","bizagi","init","start","then","formVars","window","parent","iframeComunication","getFormVars","$","when","loadLanguageExtension","done","bizagiConfig","getBizagiConfig","locationParent","form","modeler","initialize","urlRestServices","applicationUrl","environment","formContext","canvas","taskOrForm","task","isSummary","sumary","idProcess","id","editor","communicationprotocol","factory","setContext","loadFormProtocol","createProtocol","protocol","loadByParent","adhocProcessId","isAdhocSummaryForm","processRequest","data","createForm","context","isActivityForm","adhocTaskId","reviewMode","ReviewMode","_editor","setTimeout","loaded"],"mappings":"AAAA,IAAIA,OAASC,OAAOD,OACpBA,OAAOE,KAAK,WACRF,OAAOG,MAAM,UAAUC,KAAK,WACxBJ,OAAOG,MAAM,eAAeC,KAAK,WAC7B,IAAIC,EAAWC,OAAOC,OAAOC,mBAAmBC,cAChDC,EAAEC,KAAKN,EAASO,uBAAuBC,KAAK,WACxC,IAAIC,EAAeT,EAASU,kBACPV,EAASW,gBAE1Bf,OAAOgB,KAAKC,QAAQC,YAChBC,gBACId,OAAOC,OAAOA,OAAOO,aAAaO,eAClC,IACJC,YAAaR,EAAaQ,cAGlC,IAAIC,EAAc,YACdC,EAASd,EAAE,yBAEXe,EAAapB,EAASqB,KACtBC,EAAYtB,EAASuB,OACrBC,EAAYxB,EAASyB,GAEzB7B,OAAO8B,OAAOC,sBAAsBC,QAAQC,WACxCX,GAEJ,IAAIY,EAAmBlC,OAAO8B,OAAOC,sBAAsBC,QAAQG,gBAE3DC,SAAU,WACVpB,KAAMQ,EACNa,cAAc,EACdC,eAAgBV,EAChBW,mBAAoBb,IAG5BjB,EAAEC,KAAKwB,EAAiBM,kBAAkB5B,KAAK,SAAS6B,GAEpDhC,EAAEC,KACEV,OAAOgB,KAAKC,QAAQyB,YAChBC,QAASrB,EACTsB,gBAAgB,EAChBrB,OAAQA,EACRsB,YAAarB,EACbiB,KAAMA,EAAKzB,KACXsB,eAAgBV,EAChBW,mBAAoBb,EACpBoB,WAAY1C,EAAS2C,cAE3BnC,KAAK,SAASoC,GACZC,WAAW,WACP5C,OAAOC,OAAOC,mBAAmB2C,OAC7BF,EACA3C,OAAOL,OAAOgB,OAEnB","sourcesContent":["var loader = bizagi.loader;\r\nloader.init(function() {\r\n    loader.start(\"common\").then(function() {\r\n        loader.start(\"formModeler\").then(function() {\r\n            var formVars = window.parent.iframeComunication.getFormVars();\r\n            $.when(formVars.loadLanguageExtension).done(function() {\r\n                var bizagiConfig = formVars.getBizagiConfig();\r\n                var locationParent = formVars.locationParent;\r\n                if (locationParent) {\r\n                    bizagi.form.modeler.initialize({\r\n                        urlRestServices:\r\n                            window.parent.parent.bizagiConfig.applicationUrl +\r\n                            \"/\",\r\n                        environment: bizagiConfig.environment\r\n                    });\r\n                }\r\n                var formContext = \"adhocform\";\r\n                var canvas = $(\"#wrapper-formdesigner\");\r\n\r\n                var taskOrForm = formVars.task;\r\n                var isSummary = formVars.sumary;\r\n                var idProcess = formVars.id;\r\n\r\n                bizagi.editor.communicationprotocol.factory.setContext(\r\n                    formContext\r\n                );\r\n                var loadFormProtocol = bizagi.editor.communicationprotocol.factory.createProtocol(\r\n                    {\r\n                        protocol: \"loadform\",\r\n                        form: taskOrForm,\r\n                        loadByParent: true,\r\n                        adhocProcessId: idProcess,\r\n                        isAdhocSummaryForm: isSummary\r\n                    }\r\n                );\r\n                $.when(loadFormProtocol.processRequest()).done(function(data) {\r\n                    // Load form modeler\r\n                    $.when(\r\n                        bizagi.form.modeler.createForm({\r\n                            context: formContext,\r\n                            isActivityForm: false,\r\n                            canvas: canvas,\r\n                            adhocTaskId: taskOrForm,\r\n                            data: data.form,\r\n                            adhocProcessId: idProcess,\r\n                            isAdhocSummaryForm: isSummary,\r\n                            reviewMode: formVars.ReviewMode\r\n                        })\r\n                    ).done(function(_editor) {\r\n                        setTimeout(function() {\r\n                            window.parent.iframeComunication.loaded(\r\n                                _editor,\r\n                                window.bizagi.form\r\n                            );\r\n                        }, 1500);\r\n                    });\r\n                });\r\n            });\r\n        });\r\n    });\r\n});\r\n"]}